import{Ab as j,Bb as D,Bc as s,Cb as P,Cc as L,Db as O,Eb as l,Fb as a,Gb as g,Hc as r,Jc as S,Tb as k,Wa as o,Wb as c,X as M,aa as h,dc as T,gc as C,hc as u,ic as b,jc as y,lb as _,qc as I,ra as w,ta as x,tc as N,xb as v,yb as p}from"./chunk-7JMNDAGU.js";var J=(n,d)=>({collapse:n,expand:d});function A(n,d){if(n&1&&(l(0,"span",3)(1,"span"),u(2),a(),l(3,"span"),u(4,": "),a()()),n&2){let e=c();o(2),b(e.key())}}function F(n,d){if(n&1&&(l(0,"span"),u(1),a()),n&2){let e,t=c(2);o(),y("[ ",(e=t.data())==null?null:e.length," ]")}}function K(n,d){if(n&1&&(l(0,"span"),u(1),v(2,F,2,1,"span"),a()),n&2){let e=c();o(),y(" ",e.dataType()," "),o(),p(e.isArray()?2:-1)}}function R(n,d){if(n&1&&(l(0,"span"),u(1),a()),n&2){let e=c();C(e.valueType()),o(),b(e.value())}}function B(n,d){if(n&1&&g(0,"nxt-json-view-item",7),n&2){let e=d.$implicit,t=c(2);O("data",t.data()[e])("key",e)("level",t.level()+1)("levelOpen",t.levelOpen())("levelLabels",t.levelLabels())}}function U(n,d){if(n&1&&(l(0,"div",6),D(1,B,1,5,"nxt-json-view-item",7,j),a()),n&2){let e=c();o(),P(e.childrenKeys())}}var f=(()=>{class n{constructor(){this.items=new Set}addItem(e){this.items.add(e)}removeItem(e){this.items.delete(e)}expandTo(e){this.items.forEach(t=>{t.level()<=e&&!t.isOpen()&&(t.levelOpen.set(e),t.toggle())})}collapseTo(e){this.items.forEach(t=>{t.level()>e&&t.isOpen()&&t.toggle()})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function m(n){return n!==null&&typeof n=="object"}function V(n){return Array.isArray(n)}function $(n){return typeof n>"u"}function q(n){return typeof n=="string"}function z(n){return typeof n=="number"}function G(n){return typeof n=="boolean"}var H=(()=>{class n{constructor(){this.data=r(),this.key=r(),this.level=r(0),this.levelOpen=S(),this.levelLabels=r(),this.isOpen=w(!1),this.effectRef=x(()=>{let e=this.levelOpen();this.isOpen.set(!$(e)&&this.level()<=e),this.effectRef.destroy()},{manualCleanup:!0}),this.childrenKeys=s(()=>{let e=this.data();return m(e)?Object.keys(e):[]}),this.hasChildren=s(()=>!!this.childrenKeys().length),this._levelLabels=s(()=>this.levelLabels()?.[this.level()]||{}),this.dataType=s(()=>{let e,t=this.data();if(m(t)){e="Object",V(t)&&(e="Array");let i=this.key();i&&this._levelLabels()[i]&&(e=this._levelLabels()[i])}return e}),this.value=s(()=>{let e,t=this.data();return m(t)||(e=t,t===null&&(e="null")),e}),this.valueType=s(()=>{let e=this.data();if(!m(e)){if(q(e))return"string";if(z(e))return"number";if(G(e))return"boolean";if(e===null)return"null"}}),this.isObject=s(()=>m(this.data())),this.isArray=s(()=>m(this.data())&&V(this.data())),this.expanderService=h(f)}ngOnInit(){this.expanderService.addItem(this)}ngOnDestroy(){this.expanderService.removeItem(this)}toggle(){this.childrenKeys().length&&this.isOpen.set(!this.isOpen())}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=_({type:n,selectors:[["nxt-json-view-item"]],inputs:{data:[1,"data"],key:[1,"key"],level:[1,"level"],levelOpen:[1,"levelOpen"],levelLabels:[1,"levelLabels"]},outputs:{levelOpen:"levelOpenChange"},decls:8,vars:11,consts:[[1,"json-view"],["tabindex","0",3,"click","keydown.space"],[1,"toggler"],[1,"key"],[1,"value"],[3,"class"],[1,"children"],[3,"data","key","level","levelOpen","levelLabels"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"a",1),k("click",function(){return i.toggle()})("keydown.space",function(){return i.toggle()}),g(2,"span",2),v(3,A,5,1,"span",3),l(4,"span",4),v(5,K,3,2,"span"),v(6,R,2,3,"span",5),a()(),v(7,U,3,0,"div",6),a()),t&2&&(o(2),C(N(8,J,i.isOpen(),!i.isOpen())),T("visibility",i.hasChildren()?"visible":"hidden"),o(),p(i.key()?3:-1),o(2),p(i.isObject()?5:-1),o(),p(!i.isObject()&&i.valueType()?6:-1),o(),p(i.hasChildren()&&i.isOpen()?7:-1))},dependencies:[n],styles:['.json-view[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.json-view[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{width:1em;padding:0;display:block;text-align:center;float:left}.json-view[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]:before{content:"-"}.json-view[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]:before{content:"+"}.json-view[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-key, #92278f)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-value, #000000)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .string[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-string, #3ab54a)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-number, #25aae2)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .boolean[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-boolean, #aa0d91)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .null[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-null, #f1592a)}.json-view[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:1em}']})}}return n})(),ie=(()=>{class n{constructor(){this.data=r(),this.levelOpen=r(),this.levelLabels=r(),this._levelOpen=L({source:()=>this.levelOpen(),computation:e=>e}),this.expanderService=h(f)}ngAfterViewChecked(){this._levelOpen()!=null&&this._levelOpen.set(void 0)}expandTo(e){this._levelOpen.set(e),this.expanderService.expandTo(e)}collapseTo(e){this.expanderService.collapseTo(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=_({type:n,selectors:[["nxt-json-view"]],inputs:{data:[1,"data"],levelOpen:[1,"levelOpen"],levelLabels:[1,"levelLabels"]},features:[I([{provide:f,useClass:f}])],decls:2,vars:4,consts:[[1,"nxt-json-view"],[1,"json-view",3,"data","level","levelOpen","levelLabels"]],template:function(t,i){t&1&&(l(0,"div",0),g(1,"nxt-json-view-item",1),a()),t&2&&(o(),O("data",i.data())("level",0)("levelOpen",i._levelOpen())("levelLabels",i.levelLabels()))},dependencies:[H],encapsulation:2})}}return n})();export{ie as a};
