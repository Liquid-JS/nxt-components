import{a as St}from"./chunk-TALDZWHH.js";import{c as De,d as J,e as At,g as x,h as me,i as Dt,j as ae,k as xe,l as xt}from"./chunk-7O3EOYDY.js";import{a as ze,d as Ot,e as Ft}from"./chunk-ZDSMYMSX.js";import{a as It,b as Et,c as de,d as Vt,e as le,f as Se,g as Lt,h as Ie,i as Rt,j as We,k as Nt,l as Ke}from"./chunk-K5IOM55F.js";import{a as oe,c as $e,d as pe}from"./chunk-TOUQDWV7.js";import{i as wt}from"./chunk-N63FMOBO.js";import{$ as f,$a as ht,B as Re,Bb as ve,Cb as ye,D as ie,Db as T,Eb as l,Fb as g,Gb as j,H as ot,Hb as O,Hc as c,I as P,Ib as X,Ic as G,J as Ce,Jb as we,Mc as N,Nb as F,O as dt,Ob as se,Pb as Be,R as lt,Rc as je,Tb as C,Ub as Pe,V as Te,Va as m,Vb as he,W as I,Wb as h,Z as E,_ as z,_a as ct,bb as ut,bc as q,cb as mt,cc as Q,db as d,dc as Ae,e as y,ea as _,ec as ue,f as st,fa as b,fb as pt,fc as v,ga as W,ha as ne,hc as Ye,ia as K,ic as D,ja as B,jc as re,kb as A,kc as Z,m as te,ma as u,mb as U,mc as _t,na as V,nb as gt,nc as bt,ob as ke,oc as Ct,pb as ft,qc as Tt,rc as He,sc as Mt,ua as Me,v as rt,vc as kt,wb as k,wc as vt,x as at,xa as R,xb as Y,yb as H,yc as yt,zb as Ne}from"./chunk-I252HR53.js";import{a as Le}from"./chunk-FBFWB55K.js";function Bt(n){return n.buttons===0||n.detail===0}function Pt(n){let r=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var Yt=new E("cdk-input-modality-detector-options"),Ht={ignoreKeys:[18,17,224,91,16]},jt=650,Ue={passive:!0,capture:!0},$t=(()=>{class n{_platform=f(oe);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new st(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(t=>t===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=de(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<jt||(this._modality.next(Bt(e)?"keyboard":"mouse"),this._mostRecentTarget=de(e))};_onTouchstart=e=>{if(Pt(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=de(e)};constructor(){let e=f(V),t=f(B),i=f(Yt,{optional:!0});if(this._options=Le(Le({},Ht),i),this.modalityDetected=this._modality.pipe(dt(1)),this.modalityChanged=this.modalityDetected.pipe(Ce()),this._platform.isBrowser){let s=f(ut).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[s.listen(t,"keydown",this._onKeydown,Ue),s.listen(t,"mousedown",this._onMousedown,Ue),s.listen(t,"touchstart",this._onTouchstart,Ue)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ge=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(ge||{}),zt=new E("cdk-focus-monitor-default-options"),Ee=St({passive:!0,capture:!0}),Wt=(()=>{class n{_ngZone=f(V);_platform=f(oe);_inputModalityDetector=f($t);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(B);_stopInputModalityDetector=new y;constructor(){let e=f(zt,{optional:!0});this._detectionMode=e?.detectionMode||ge.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let t=de(e);for(let i=t;i;i=i.parentElement)e.type==="focus"?this._onFocus(e,i):this._onBlur(e,i)};monitor(e,t=!1){let i=pe(e);if(!this._platform.isBrowser||i.nodeType!==1)return te();let s=It(i)||this._document,a=this._elementInfo.get(i);if(a)return t&&(a.checkChildren=!0),a.subject;let o={checkChildren:t,subject:new y,rootNode:s};return this._elementInfo.set(i,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){let t=pe(e),i=this._elementInfo.get(t);i&&(i.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(i))}focusVia(e,t,i){let s=pe(e),a=this._document.activeElement;s===a?this._getClosestElementsInfo(s).forEach(([o,p])=>this._originChanged(o,t,p)):(this._setOrigin(t),typeof s.focus=="function"&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ge.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,t){e.classList.toggle("cdk-focused",!!t),e.classList.toggle("cdk-touch-focused",t==="touch"),e.classList.toggle("cdk-keyboard-focused",t==="keyboard"),e.classList.toggle("cdk-mouse-focused",t==="mouse"),e.classList.toggle("cdk-program-focused",t==="program")}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&t,this._detectionMode===ge.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?jt:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(e,t){let i=this._elementInfo.get(t),s=de(e);!i||!i.checkChildren&&t!==s||this._originChanged(t,this._getFocusOrigin(s),i)}_onBlur(e,t){let i=this._elementInfo.get(t);!i||i.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(i,null))}_emitOrigin(e,t){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let t=e.rootNode,i=this._rootNodeFocusListenerCount.get(t)||0;i||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ee),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ee)}),this._rootNodeFocusListenerCount.set(t,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(lt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){let i=this._rootNodeFocusListenerCount.get(t);i>1?this._rootNodeFocusListenerCount.set(t,i-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ee),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ee),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,i){this._setClasses(e,t),this._emitOrigin(i,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){let t=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&t.push([s,i])}),t}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:t,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!t||t===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(t))return!0}return!1}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ze=(()=>{class n{_elementRef=f(R);_focusMonitor=f(Wt);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new u;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>{this._focusOrigin=t,this.cdkFocusChange.emit(t)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=U({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var Kt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=A({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(t,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();var Ge=(()=>{class n{_platform=f(oe);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return ri(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let t=si(mi(e));if(t&&(Ut(t)===-1||!this.isVisible(t)))return!1;let i=e.nodeName.toLowerCase(),s=Ut(e);return e.hasAttribute("contenteditable")?s!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!hi(e)?!1:i==="audio"?e.hasAttribute("controls")?s!==-1:!1:i==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,t){return ui(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function si(n){try{return n.frameElement}catch{return null}}function ri(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function ai(n){let r=n.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea"}function oi(n){return li(n)&&n.type=="hidden"}function di(n){return ci(n)&&n.hasAttribute("href")}function li(n){return n.nodeName.toLowerCase()=="input"}function ci(n){return n.nodeName.toLowerCase()=="a"}function Zt(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let r=n.getAttribute("tabindex");return!!(r&&!isNaN(parseInt(r,10)))}function Ut(n){if(!Zt(n))return null;let r=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}function hi(n){let r=n.nodeName.toLowerCase(),e=r==="input"&&n.type;return e==="text"||e==="password"||r==="select"||r==="textarea"}function ui(n){return oi(n)?!1:ai(n)||di(n)||n.hasAttribute("contenteditable")||Zt(n)}function mi(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var fe=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_enabled=!0;constructor(r,e,t,i,s=!1,a){this._element=r,this._checker=e,this._ngZone=t,this._document=i,this._injector=a,s||this.attachAnchors()}destroy(){let r=this._startAnchor,e=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){let e=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return r=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let t=this._getFirstTabbableElement(e);return t?.focus(r),!!t}return e.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){let e=this._getRegionBoundary("start");return e&&e.focus(r),!!e}focusLastTabbableElement(r){let e=this._getRegionBoundary("end");return e&&e.focus(r),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children;for(let t=0;t<e.length;t++){let i=e[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[t]):null;if(i)return i}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children;for(let t=e.length-1;t>=0;t--){let i=e[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[t]):null;if(i)return i}return null}_createAnchor(){let r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,e){r?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._injector?ct(r,{injector:this._injector}):setTimeout(r)}},Gt=(()=>{class n{_checker=f(Ge);_ngZone=f(V);_document=f(B);_injector=f(K);constructor(){f(Vt).load(Kt)}create(e,t=!1){return new fe(e,this._checker,this._ngZone,this._document,t,this._injector)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xe=(()=>{class n{_elementRef=f(R);_focusTrapFactory=f(Gt);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){f(oe).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Et(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=U({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",je],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",je]},exportAs:["cdkTrapFocus"],features:[Me]})}return n})();var qe=class extends fe{_focusTrapManager;_inertStrategy;get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(r,e,t,i,s,a,o,p){super(r,e,t,i,o.defer,p),this._focusTrapManager=s,this._inertStrategy=a,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},Qe=class{_listener=null;preventFocus(r){this._listener&&r._document.removeEventListener("focus",this._listener,!0),this._listener=e=>this._trapFocus(r,e),r._ngZone.runOutsideAngular(()=>{r._document.addEventListener("focus",this._listener,!0)})}allowFocus(r){this._listener&&(r._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(r,e){let t=e.target,i=r._element;t&&!i.contains(t)&&!t.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{r.enabled&&!i.contains(r._document.activeElement)&&r.focusFirstTabbableElement()})}},pi=new E("FOCUS_TRAP_INERT_STRATEGY"),gi=(()=>{class n{_focusTrapStack=[];register(e){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==e);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();let t=this._focusTrapStack,i=t.indexOf(e);i!==-1&&(t.splice(i,1),t.length&&t[t.length-1]._enable())}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xt=(()=>{class n{_checker=f(Ge);_ngZone=f(V);_focusTrapManager=f(gi);_document=f(B);_inertStrategy;_injector=f(K);constructor(){let e=f(pi,{optional:!0});this._inertStrategy=e||new Qe}create(e,t={defer:!1}){let i;return typeof t=="boolean"?i={defer:t}:i=t,new qe(e,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,i,this._injector)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var L=class{constructor(){this._localeChanges=new y,this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}get localeChanges(){return this._localeChanges}compare(r,e){if(!this.isValid(r)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");let t=this.clone(r),i=this.clone(e),s=this.getTime(t)-this.getTime(i);return s<0?-1:s>0?1:s}compareYear(r,e){if(!this.isValid(r)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");let t=this.getYear(r),i=this.getYear(e),s=t-i;return s<0?-1:s>0?1:0}deserialize(r){return r==null||r==null||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid()}setLocale(r){this.locale=r,this._localeChanges.next()}clampDate(r,e,t){return e&&this.compare(r,e)<0?e:t&&this.compare(r,t)>0?t:r}},ee=new E("NXT_DATE_TIME_FORMATS"),_i=["nxtDateTimeCalendarBody",""],bi=(n,r,e)=>({"nxt-dt-calendar-cell-out":n,"nxt-dt-calendar-cell-today":r,"nxt-dt-calendar-cell-selected":e});function Ci(n,r){if(n&1){let e=F();O(0,"td",2),he("click",function(){let i=_(e).$implicit,s=h(2);return b(s.selectCell(i))}),O(1,"span",3),D(2),X()()}if(n&2){let e=r.$implicit,t=r.$index,i=h().$index,s=h();Ye(Tt("nxt-dt-calendar-cell ",e.cellClass)),ue("width",100/s.numCols(),"%")("padding-top",50*s.cellRatio()/s.numCols(),"%")("padding-bottom",50*s.cellRatio()/s.numCols(),"%"),v("nxt-dt-calendar-cell-active",s.isActiveCell(i,t))("nxt-dt-calendar-cell-disabled",!e.enabled)("nxt-dt-calendar-cell-in-range",s.isInRange(e.value))("nxt-dt-calendar-cell-range-from",s.isRangeFrom(e.value))("nxt-dt-calendar-cell-range-from-long",s.isInRange(e.value+7))("nxt-dt-calendar-cell-range-to",s.isRangeTo(e.value))("nxt-dt-calendar-cell-range-to-long",s.isInRange(e.value-7)),se("tabIndex",s.isActiveCell(i,t)?0:-1),k("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null),m(),Ye(kt(29,bi,e.out,e.value===s.todayValue(),s.isSelected(e.value))),m(),Z(" ",e.displayValue," ")}}function Ti(n,r){if(n&1&&(O(0,"tr",0),ve(1,Ci,3,33,"td",1,Ne),X()),n&2){let e=r.$implicit;m(),ye(e)}}var be=class{constructor(r,e,t,i,s=!1,a=""){this.value=r,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.out=s,this.cellClass=a}},$=(()=>{class n{get calendarBodyClass(){return!0}get isInSingleMode(){return this.selectMode()==="single"}get isInRangeMode(){let e=this.selectMode();return e==="range"||e==="rangeFrom"||e==="rangeTo"}constructor(e,t){this.elmRef=e,this.ngZone=t,this.activeCell=c(0),this.rows=c(),this.numCols=c(7),this.cellRatio=c(1),this.todayValue=c(),this.selectedValues=c(),this.selectMode=c(),this.select=new u}ngOnInit(){}selectCell(e){this.select.emit(e)}isActiveCell(e,t){return e*this.numCols()+t===this.activeCell()}isSelected(e){let t=this.selectedValues();if(!t||t.length===0)return!1;if(this.isInSingleMode)return e===t[0];if(this.isInRangeMode){let i=t[0],s=t[1];return e===i||e===s}return!1}isInRange(e){if(this.isInRangeMode){let t=this.selectedValues(),i=t?.[0],s=t?.[1];return i!==void 0&&s!==void 0?e>=i&&e<=s:e===i||e===s}return!1}isRangeFrom(e){if(this.isInRangeMode){let t=this.selectedValues()?.[0];return t!==void 0&&e===t}return!1}isRangeTo(e){if(this.isInRangeMode){let t=this.selectedValues()?.[1];return t!==void 0&&e===t}return!1}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(P(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}static{this.\u0275fac=function(t){return new(t||n)(d(R),d(V))}}static{this.\u0275cmp=A({type:n,selectors:[["","nxtDateTimeCalendarBody",""]],hostVars:2,hostBindings:function(t,i){t&2&&v("nxt-dt-calendar-body",i.calendarBodyClass)},inputs:{activeCell:[1,"activeCell"],rows:[1,"rows"],numCols:[1,"numCols"],cellRatio:[1,"cellRatio"],todayValue:[1,"todayValue"],selectedValues:[1,"selectedValues"],selectMode:[1,"selectMode"]},outputs:{select:"select"},exportAs:["nxtDateTimeCalendarBody"],attrs:_i,decls:2,vars:0,consts:[["role","row"],[3,"class","tabindex","nxt-dt-calendar-cell-active","nxt-dt-calendar-cell-disabled","nxt-dt-calendar-cell-in-range","nxt-dt-calendar-cell-range-from","nxt-dt-calendar-cell-range-from-long","nxt-dt-calendar-cell-range-to","nxt-dt-calendar-cell-range-to-long","width","paddingTop","paddingBottom"],[3,"click","tabindex"],[1,"nxt-dt-calendar-cell-content"]],template:function(t,i){t&1&&ve(0,Ti,3,0,"tr",0,Ne),t&2&&ye(i.rows())},encapsulation:2,changeDetection:0})}}return n})(),Mi=(n,r)=>r.long;function ki(n,r){if(n&1&&(l(0,"th",3)(1,"span"),D(2),g()()),n&2){let e=r.$implicit;k("aria-label",e.long),m(2),re(e.short)}}var Je=7,vi=6,yi=(()=>{class n{get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){e>=0&&e<=6&&e!==this._firstDayOfWeek&&(this._firstDayOfWeek=e,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))}get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){let t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedDates()}get selecteds(){return this._selecteds||[]}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedDates()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(t,this._pickerMoment)&&this.initiated&&this.generateCalendar()}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get weekdays(){return this._weekdays}get days(){return this._days}get activeCell(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get calendarView(){return!0}constructor(e,t,i){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this.hideOtherMonths=c(!1),this._firstDayOfWeek=0,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.firstRowOffset=0,this.selectedChange=new u,this.userSelection=new u,this.pickerMomentChange=new u,this.calendarBodyElm=G($)}ngOnInit(){this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateCalendar(),this.initiated=!0}ngOnDestroy(){this.localeSub?.unsubscribe(),this.localeSub=void 0}selectCalendarCell(e){!e.enabled||this.hideOtherMonths()&&e.out||this.selectDate(e.value)}selectDate(e){let t=e-1,i=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,t);this.selectedChange.emit(i),this.userSelection.emit()}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case"pageup":t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case"pagedown":t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case"enter":(!this.dateTimeFilter||this.dateTimeFilter(this.pickerMoment,"date"))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),e.preventDefault()}generateWeekDays(){let e=this.dateTimeAdapter.getDayOfWeekNames("long"),t=this.dateTimeAdapter.getDayOfWeekNames("short"),i=this.dateTimeAdapter.getDayOfWeekNames("narrow"),s=this.firstDayOfWeek,a=e.map((o,p)=>({long:o,short:t[p],narrow:i[p]}));this._weekdays=a.slice(s).concat(a.slice(0,s))}generateCalendar(){if(!this.pickerMoment)return;this.todayDate=void 0;let e=this.dateTimeAdapter.getDay(this.firstDateOfMonth),t=this.firstDayOfWeek,i=0-(e+(Je-t))%Je;this.firstRowOffset=Math.abs(i),this._days=[];for(let s=0;s<vi;s++){let a=[];for(let o=0;o<Je;o++){let p=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,i),S=this.createDateCell(p,i);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),p)&&(this.todayDate=i+1),a.push(S),i+=1}this._days.push(a)}this.setSelectedDates()}createDateCell(e,t){let i=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),a=this.dateTimeAdapter.getDate(e).toString(),o=this.dateTimeAdapter.format(e,this.dateTimeFormats.dateA11yLabel),p=this.isDateEnabled(e),S=t+1,ce=S<1||S>i,ti="nxt-dt-day-"+this.dateTimeAdapter.getDay(e);return new be(S,a,o,p,ce,ti)}isDateEnabled(e){return!!e&&(!this.dateTimeFilter||this.dateTimeFilter(e,"date"))&&(!this.min||this.dateTimeAdapter.compare(e,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(e,this.max)<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}isSameMonth(e,t){return!!(e&&t&&this.dateTimeAdapter.isValid(e)&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t))}setSelectedDates(){if(this.selectedDates=[],!!this.firstDateOfMonth){if(this.isInSingleMode&&this.selected){let e=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth)??0;this.selectedDates[0]=e+1;return}this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(e=>{if(this.dateTimeAdapter.isValid(e))return(this.dateTimeAdapter.differenceInCalendarDays(e,this.firstDateOfMonth)??0)+1}))}}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||n)(d(N),d(L),d(ee))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time-month-view"]],viewQuery:function(t,i){t&1&&q(i.calendarBodyElm,$,5),t&2&&Q()},hostVars:2,hostBindings:function(t,i){t&2&&v("nxt-dt-calendar-view",i.calendarView)},inputs:{hideOtherMonths:[1,"hideOtherMonths"],firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateTimeFilter:"dateTimeFilter",min:"min",max:"max"},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},decls:8,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-month-table"],[1,"nxt-dt-calendar-header"],[1,"nxt-dt-weekdays"],["scope","col",1,"nxt-dt-weekday"],["aria-hidden","true","colspan","7",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr",2),ve(3,ki,3,2,"th",3,Mi),g(),l(5,"tr"),j(6,"th",4),g()(),l(7,"tbody",5),C("keydown",function(a){return i.handleCalendarKeydown(a)})("select",function(a){return i.selectCalendarCell(a)}),g()()),t&2&&(v("nxt-dt-calendar-only-current-month",i.hideOtherMonths()),m(3),ye(i.weekdays),m(4),T("rows",i.days)("todayValue",i.todayDate??void 0)("selectedValues",i.selectedDates)("selectMode",i.selectMode)("activeCell",i.activeCell??0))},dependencies:[$],encapsulation:2,changeDetection:0})}}return n})(),Fe=(()=>{class n{constructor(){this.changes=new y,this.upSecondLabel=$localize`:@@nxt-pick-datetime.up-second:Add a second`,this.downSecondLabel=$localize`:@@nxt-pick-datetime.down-second:Minus a second`,this.upMinuteLabel=$localize`:@@nxt-pick-datetime.up-minute:Add a minute`,this.downMinuteLabel=$localize`:@@nxt-pick-datetime.down-minute:Minus a minute`,this.upHourLabel=$localize`:@@nxt-pick-datetime.up-hour:Add a hour`,this.downHourLabel=$localize`:@@nxt-pick-datetime.down-hour:Minus a hour`,this.prevMonthLabel=$localize`:@@nxt-pick-datetime.prev-month:Previous month`,this.nextMonthLabel=$localize`:@@nxt-pick-datetime.next-month:Next month`,this.prevYearLabel=$localize`:@@nxt-pick-datetime.prev-year:Previous year`,this.nextYearLabel=$localize`:@@nxt-pick-datetime.next-year:Next year`,this.prevMultiYearLabel=$localize`:@@nxt-pick-datetime.prev-multi-year:Previous 21 years`,this.nextMultiYearLabel=$localize`:@@nxt-pick-datetime.next-multi-year:Next 21 years`,this.switchToMonthViewLabel=$localize`:@@nxt-pick-datetime.switch-to-month:Change to month view`,this.switchToMultiYearViewLabel=$localize`:@@nxt-pick-datetime.switch-to-year-month:Choose month and year`,this.cancelBtnLabel=$localize`:@@nxt-pick-datetime.cancel:Cancel`,this.setBtnLabel=$localize`:@@nxt-pick-datetime.set:Set`,this.rangeFromLabel=$localize`:@@nxt-pick-datetime.from:From`,this.rangeToLabel=$localize`:@@nxt-pick-datetime.to:To`,this.hour12AMLabel=$localize`:@@nxt-pick-datetime.time-am:AM`,this.hour12PMLabel=$localize`:@@nxt-pick-datetime.time-pm:PM`}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),M=3,w=7,wi=(()=>{class n{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){let t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedYears()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedYears()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),t&&this._pickerMoment&&!this.isSameYearList(t,this._pickerMoment)&&this.generateYearList()}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e,this.initiated&&this.generateYearList()}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get todayYear(){return this._todayYear}get years(){return this._years}get selectedYears(){return this._selectedYears}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%(M*w)}get tableHeader(){if(this._years&&this._years.length>0)return`${this._years[0][0].displayValue} ~ ${this._years[w-1][M-1].displayValue}`}get prevButtonLabel(){return this.pickerIntl.prevMultiYearLabel}get nextButtonLabel(){return this.pickerIntl.nextMultiYearLabel}get calendarView(){return!0}get calendarMultiYearView(){return!0}constructor(e,t,i){this.cdRef=e,this.pickerIntl=t,this.dateTimeAdapter=i,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.change=new u,this.yearSelected=new u,this.pickerMomentChange=new u,this.keyboardEnter=new u,this.calendarBodyElm=G($)}ngOnInit(){}ngAfterContentInit(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0}selectCalendarCell(e){this.selectYear(e.value)}selectYear(e){this.yearSelected.emit(this.dateTimeAdapter.createDate(e,0,1));let t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),1),i=this.dateTimeAdapter.getNumDaysInMonth(t),s=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(s)}prevYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1*w*M),this.generateYearList(),e.preventDefault()}nextYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,w*M),this.generateYearList(),e.preventDefault()}generateYearList(){this._years=[];let e=this.dateTimeAdapter.getYear(this._pickerMoment),t=e%(M*w);for(let i=0;i<w;i++){let s=[];for(let a=0;a<M;a++){let o=e-t+(a+i*M),p=this.createYearCell(o);s.push(p)}this._years.push(s)}}previousEnabled(){return this.min?!this.min||!this.isSameYearList(this._pickerMoment,this.min):!0}nextEnabled(){return!this.max||!this.isSameYearList(this._pickerMoment,this.max)}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1*M),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,M),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%(M*w)),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,M*w-this.dateTimeAdapter.getYear(this._pickerMoment)%(M*w)-1),this.pickerMomentChange.emit(t);break;case"pageup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10*(M*w):-1*(M*w)),this.pickerMomentChange.emit(t);break;case"pagedown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10*(M*w):M*w),this.pickerMomentChange.emit(t);break;case"enter":this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}createYearCell(e){let t=this.dateTimeAdapter.createDate(e,0,1),i=this.dateTimeAdapter.getYearName(t),s="nxt-dt-year-"+e;return new be(e,e.toString(),i,this.isYearEnabled(e),!1,s)}setSelectedYears(){this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(e=>{if(this.dateTimeAdapter.isValid(e))return this.dateTimeAdapter.getYear(e)}))}isYearEnabled(e){if(!this.dateTimeFilter)return!0;let t=this.dateTimeAdapter.createDate(e,0,1);for(let i=t;this.dateTimeAdapter.getYear(i)==e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(this.dateTimeFilter(i,"year"))return!0;return!1}isSameYearList(e,t){return Math.floor(this.dateTimeAdapter.getYear(e)/(M*w))===Math.floor(this.dateTimeAdapter.getYear(t)/(M*w))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||n)(d(N),d(Fe),d(L))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time-multi-year-view"]],viewQuery:function(t,i){t&1&&q(i.calendarBodyElm,$,5),t&2&&Q()},hostVars:4,hostBindings:function(t,i){t&2&&v("nxt-dt-calendar-view",i.calendarView)("nxt-dt-calendar-multi-year-view",i.calendarMultiYearView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateTimeFilter:"dateTimeFilter",min:"min",max:"max"},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:14,vars:12,consts:[["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-table","nxt-dt-calendar-multi-year-table"],[1,"nxt-dt-calendar-header"],["colspan","3"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(t,i){t&1&&(l(0,"button",0),C("click",function(a){return i.prevYearList(a)}),l(1,"span",1),W(),l(2,"svg",2),j(3,"path",3),g()()(),ne(),l(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),D(8),g()()(),l(9,"tbody",7),C("keydown",function(a){return i.handleCalendarKeydown(a)})("select",function(a){return i.selectCalendarCell(a)}),g()(),l(10,"button",0),C("click",function(a){return i.nextYearList(a)}),l(11,"span",1),W(),l(12,"svg",8),j(13,"path",9),g()()()),t&2&&(T("disabled",!i.previousEnabled()),k("aria-label",i.prevButtonLabel),m(8),re(i.tableHeader),m(),T("rows",i.years)("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell??0)("todayValue",i.todayYear)("selectedValues",i.selectedYears)("selectMode",i.selectMode),m(),T("disabled",!i.nextEnabled()),k("aria-label",i.nextButtonLabel))},dependencies:[$],encapsulation:2,changeDetection:0})}}return n})(),Ai=12,et=3,Di=(()=>{class n{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.setSelectedMonths()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=[],e.forEach(t=>{let i=this.dateTimeAdapter.deserialize(t);this._selecteds.push(this.getValidDate(i))}),this.setSelectedMonths()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),!this.hasSameYear(t,this._pickerMoment)&&this.initiated&&this.generateMonthList()}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e,this.initiated&&this.generateMonthList()}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get months(){return this._months}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get calendarView(){return!0}constructor(e,t,i){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.change=new u,this.monthSelected=new u,this.pickerMomentChange=new u,this.keyboardEnter=new u,this.calendarBodyElm=G($),this.monthNames=this.dateTimeAdapter.getMonthNames("short")}ngOnInit(){this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateMonthList(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateMonthList(),this.initiated=!0}ngOnDestroy(){this.localeSub?.unsubscribe(),this.localeSub=void 0}selectCalendarCell(e){this.selectMonth(e.value)}selectMonth(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);this.monthSelected.emit(t);let i=this.dateTimeAdapter.getNumDaysInMonth(t),s=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(s)}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case"pageup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10:-1),this.pickerMomentChange.emit(t);break;case"pagedown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10:1),this.pickerMomentChange.emit(t);break;case"enter":this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}generateMonthList(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(let e=0;e<Ai/et;e++){let t=[];for(let i=0;i<et;i++){let s=i+e*et,a=this.createMonthCell(s);t.push(a)}this._months.push(t)}}}createMonthCell(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1),i=this.dateTimeAdapter.format(t,this.dateTimeFormats.monthYearA11yLabel),s="nxt-dt-month-"+e;return new be(e,this.monthNames[e],i,this.isMonthEnabled(e),!1,s)}isMonthEnabled(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);for(let i=t;this.dateTimeAdapter.getMonth(i)===e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(i&&(!this.dateTimeFilter||this.dateTimeFilter(i,"month"))&&(!this.min||this.dateTimeAdapter.compare(i,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(i,this.max)<=0))return!0;return!1}getMonthInCurrentYear(e){if(this.getValidDate(e)&&this.getValidDate(this._pickerMoment)){let t=this.dateTimeAdapter.compareYear(e,this._pickerMoment);return t<0?-1:t>0?12:this.dateTimeAdapter.getMonth(e)}}setSelectedMonths(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))}hasSameYear(e,t){return!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||n)(d(N),d(L),d(ee))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time-year-view"]],viewQuery:function(t,i){t&1&&q(i.calendarBodyElm,$,5),t&2&&Q()},hostVars:2,hostBindings:function(t,i){t&2&&v("nxt-dt-calendar-view",i.calendarView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateTimeFilter:"dateTimeFilter",min:"min",max:"max"},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:5,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-year-table"],[1,"nxt-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),j(3,"th",2),g()(),l(4,"tbody",3),C("keydown",function(a){return i.handleCalendarKeydown(a)})("select",function(a){return i.selectCalendarCell(a)}),g()()),t&2&&(m(4),T("rows",i.months)("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell??0)("todayValue",i.todayMonth??void 0)("selectedValues",i.selectedMonths)("selectMode",i.selectMode))},dependencies:[$],encapsulation:2,changeDetection:0})}}return n})();function xi(n,r){if(n&1){let e=F();l(0,"nxt-date-time-month-view",15),C("pickerMomentChange",function(i){_(e);let s=h();return b(s.handlePickerMomentChange(i))})("selectedChange",function(i){_(e);let s=h();return b(s.dateSelected(i))})("userSelection",function(){_(e);let i=h();return b(i.userSelected())}),g()}if(n&2){let e=h();T("pickerMoment",e.pickerMoment)("firstDayOfWeek",e.firstDayOfWeek())("selected",e.selected)("selecteds",e.selecteds)("selectMode",e.selectMode()??"single")("min",e.min)("max",e.max)("dateTimeFilter",e.dateTimeFilter())("hideOtherMonths",e.hideOtherMonths())}}function Si(n,r){if(n&1){let e=F();l(0,"nxt-date-time-year-view",16),C("keyboardEnter",function(){_(e);let i=h();return b(i.focusActiveCell())})("pickerMomentChange",function(i){_(e);let s=h();return b(s.handlePickerMomentChange(i))})("monthSelected",function(i){_(e);let s=h();return b(s.selectMonthInYearView(i))})("change",function(i){_(e);let s=h();return b(s.goToDateInView(i,"month"))}),g()}if(n&2){let e=h();T("pickerMoment",e.pickerMoment)("selected",e.selected)("selecteds",e.selecteds)("selectMode",e.selectMode()??"single")("min",e.min)("max",e.max)("dateTimeFilter",e.dateTimeFilter())}}function Ii(n,r){if(n&1){let e=F();l(0,"nxt-date-time-multi-year-view",17),C("keyboardEnter",function(){_(e);let i=h();return b(i.focusActiveCell())})("pickerMomentChange",function(i){_(e);let s=h();return b(s.handlePickerMomentChange(i))})("yearSelected",function(i){_(e);let s=h();return b(s.selectYearInMultiYearView(i))})("change",function(i){_(e);let s=h();return b(s.goToDateInView(i,"year"))}),g()}if(n&2){let e=h();T("pickerMoment",e.pickerMoment)("selected",e.selected)("selecteds",e.selecteds)("selectMode",e.selectMode()??"single")("min",e.min)("max",e.max)("dateTimeFilter",e.dateTimeFilter())}}var tt=(()=>{class n{get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._minDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):void 0}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._maxDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):void 0}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e)}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}get periodButtonText(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)}get periodButtonLabel(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel}get prevButtonLabel(){if(this._currentView==="month")return this.pickerIntl.prevMonthLabel;if(this._currentView==="year")return this.pickerIntl.prevYearLabel}get nextButtonLabel(){if(this._currentView==="month")return this.pickerIntl.nextMonthLabel;if(this._currentView==="year")return this.pickerIntl.nextYearLabel}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this.moveFocusOnNextTick=!0}get isInSingleMode(){return this.selectMode()==="single"}get isInRangeMode(){let e=this.selectMode();return e==="range"||e==="rangeFrom"||e==="rangeTo"}get showControlArrows(){return this._currentView!=="multi-years"}get isMonthView(){return this._currentView==="month"}get calendarClass(){return!0}constructor(e,t,i,s,a,o){this.elmRef=e,this.pickerIntl=t,this.ngZone=i,this.cdRef=s,this.dateTimeAdapter=a,this.dateTimeFormats=o,this.dateTimeFilter=c(),this.firstDayOfWeek=c(0),this.selectMode=c(),this._selecteds=new Array,this.startView=c("month"),this.hideOtherMonths=c(!1),this.pickerMomentChange=new u,this.selectedChange=new u,this.userSelection=new u,this.yearSelected=new u,this.monthSelected=new u,this.dateTimeFilterForViews=p=>{let S=this.dateTimeFilter();return!!p&&(!S||S(p,"date"))&&(!this.min||this.dateTimeAdapter.compare(p,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(p,this.max)<=0)},this.moveFocusOnNextTick=!1,this.intlChangesSub=this.pickerIntl.changes.subscribe(()=>{this.cdRef.markForCheck()})}ngOnInit(){}ngAfterContentInit(){this._currentView=this.startView()}ngAfterViewChecked(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.intlChangesSub?.unsubscribe(),this.intlChangesSub=void 0}toggleViews(){this.currentView=this._currentView=="month"?"multi-years":"month"}previousClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)}nextClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)}dateSelected(e){this.dateTimeFilterForViews(e)&&this.selectedChange.emit(e)}goToDateInView(e,t){this.handlePickerMomentChange(e),this.currentView=t}handlePickerMomentChange(e){this.pickerMoment=this.dateTimeAdapter.clampDate(e,this.min,this.max),this.pickerMomentChange.emit(this.pickerMoment)}userSelected(){this.userSelection.emit()}prevButtonEnabled(){return!this.min||!this.isSameView(this.pickerMoment,this.min)}nextButtonEnabled(){return!this.max||!this.isSameView(this.pickerMoment,this.max)}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(P(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}selectYearInMultiYearView(e){this.yearSelected.emit(e)}selectMonthInYearView(e){this.monthSelected.emit(e)}isSameView(e,t){return this._currentView==="month"?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t)):this._currentView==="year"?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)):!1}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||n)(d(R),d(Fe),d(V),d(N),d(L),d(ee))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time-calendar"]],hostVars:2,hostBindings:function(t,i){t&2&&v("nxt-dt-calendar",i.calendarClass)},inputs:{dateTimeFilter:[1,"dateTimeFilter"],firstDayOfWeek:[1,"firstDayOfWeek"],min:"min",max:"max",pickerMoment:"pickerMoment",selectMode:[1,"selectMode"],selected:"selected",selecteds:"selecteds",startView:[1,"startView"],hideOtherMonths:[1,"hideOtherMonths"]},outputs:{pickerMomentChange:"pickerMomentChange",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},decls:21,vars:13,consts:[[1,"nxt-dt-calendar-control"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-control-content"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-period-button",3,"click"],[1,"nxt-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d",`M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424
                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428
                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z`],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                    C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"nxt-dt-calendar-main"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateTimeFilter","hideOtherMonths"],[3,"pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateTimeFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"]],template:function(t,i){if(t&1&&(l(0,"div",0)(1,"button",1),C("click",function(){return i.previousClicked()}),l(2,"span",2),W(),l(3,"svg",3),j(4,"path",4),g()()(),ne(),l(5,"div",5)(6,"button",6),C("click",function(){return i.toggleViews()}),l(7,"span",2),D(8),l(9,"span",7),W(),l(10,"svg",8)(11,"g"),j(12,"path",9),g()()()()()(),ne(),l(13,"button",1),C("click",function(){return i.nextClicked()}),l(14,"span",2),W(),l(15,"svg",10),j(16,"path",11),g()()()(),ne(),l(17,"div",12),Y(18,xi,1,9,"nxt-date-time-month-view",13)(19,Si,1,7,"nxt-date-time-year-view",14)(20,Ii,1,7,"nxt-date-time-multi-year-view",14),g()),t&2){let s;m(),ue("visibility",i.showControlArrows?"visible":"hidden"),T("disabled",!i.prevButtonEnabled()),k("aria-label",i.prevButtonLabel),m(5),k("aria-label",i.periodButtonLabel),m(2),Z(" ",i.periodButtonText," "),m(),ue("transform","rotate("+(i.isMonthView?0:180)+"deg)"),m(4),ue("visibility",i.showControlArrows?"visible":"hidden"),T("disabled",!i.nextButtonEnabled()),k("aria-label",i.nextButtonLabel),m(5),H((s=i.currentView)==="month"?18:s==="year"?19:s==="multi-years"?20:-1)}},dependencies:[Ze,yi,Di,wi],encapsulation:2,changeDetection:0})}}return n})(),Ei=0,Jt=(()=>{class n{get formatString(){return this.pickerType==="both"?this.dateTimeFormats.fullPickerInput:this.pickerType==="calendar"?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput}get disabled(){return!1}constructor(e,t){this.dateTimeAdapter=e,this.dateTimeFormats=t,this.showSecondsTimer=c(!1),this.hour12Timer=c(!1),this.startView=c("month"),this.stepHour=c(1),this.stepMinute=c(1),this.stepSecond=c(1),this.firstDayOfWeek=c(0),this.hideOtherMonths=c(!1),this.id=`nxt-dt-picker-${Ei++}`,this.dateTimeChecker=i=>!!i&&(!this.dateTimeFilter||this.dateTimeFilter(i))&&(!this.min||this.dateTimeAdapter.compare(i,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(i,this.max)<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||n)(d(L),d(ee))}}static{this.\u0275dir=U({type:n,inputs:{showSecondsTimer:[1,"showSecondsTimer"],hour12Timer:[1,"hour12Timer"],startView:[1,"startView"],stepHour:[1,"stepHour"],stepMinute:[1,"stepMinute"],stepSecond:[1,"stepSecond"],firstDayOfWeek:[1,"firstDayOfWeek"],hideOtherMonths:[1,"hideOtherMonths"]}})}}return n})(),Vi=(()=>{class n{transform(e,t){if(e==null||!Number.isFinite(e))return;let i=Math.floor(e);return t==null||!Number.isFinite(t)?i:i.toFixed(0).padStart(Math.floor(t),"0")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275pipe=gt({name:"numberFixedLen",type:n,pure:!0})}}return n})();function Oi(n,r){n&1&&we(0,"div",1)}var Fi=(()=>{class n{get displayValue(){return this.boxValue()||this.value()}get timerBoxClass(){return!0}constructor(){this.showDivider=c(!1),this.upBtnAriaLabel=c(),this.upBtnDisabled=c(!1),this.downBtnAriaLabel=c(),this.downBtnDisabled=c(!1),this.boxValue=c(),this.value=c(0),this.min=c(0),this.max=c(0),this.step=c(1),this.inputLabel=c(),this.valueChange=new u,this.inputChange=new u,this.inputStream=new y}ngOnInit(){this.inputStreamSub=this.inputStream.pipe(ot(500),Ce()).subscribe(e=>{if(e){let t=$e(e,0);this.updateValueViaInput(t)}})}ngOnDestroy(){this.inputStreamSub?.unsubscribe(),this.inputStreamSub=void 0}upBtnClicked(){this.updateValue(this.value()+this.step())}downBtnClicked(){this.updateValue(this.value()-this.step())}handleInputChange(e){this.inputStream.next(e)}updateValue(e){this.valueChange.emit(e)}updateValueViaInput(e){e>this.max()||e<this.min()||this.inputChange.emit(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time-timer-box"]],hostVars:2,hostBindings:function(t,i){t&2&&v("nxt-dt-timer-box",i.timerBoxClass)},inputs:{showDivider:[1,"showDivider"],upBtnAriaLabel:[1,"upBtnAriaLabel"],upBtnDisabled:[1,"upBtnDisabled"],downBtnAriaLabel:[1,"downBtnAriaLabel"],downBtnDisabled:[1,"downBtnDisabled"],boxValue:[1,"boxValue"],value:[1,"value"],min:[1,"min"],max:[1,"max"],step:[1,"step"],inputLabel:[1,"inputLabel"]},outputs:{valueChange:"valueChange",inputChange:"inputChange"},decls:15,vars:10,consts:[["valueInput",""],["aria-hidden","true",1,"nxt-dt-timer-divider"],["type","button","tabindex","-1",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d",`M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0
                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4
                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z`],[1,"nxt-dt-timer-content"],["maxlength","2",1,"nxt-dt-timer-input",3,"input","value"],[1,"nxt-hidden-accessible"],["d",`M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751
                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0
                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z`]],template:function(t,i){if(t&1){let s=F();Y(0,Oi,1,0,"div",1),O(1,"button",2),he("click",function(){return _(s),b(i.upBtnClicked())}),O(2,"span",3),W(),O(3,"svg",4),we(4,"path",5),X()()(),ne(),O(5,"label",6)(6,"input",7,0),vt(8,"numberFixedLen"),he("input",function(){_(s);let o=Ae(7);return b(i.handleInputChange(o.value))}),X(),O(9,"span",8),D(10),X()(),O(11,"button",2),he("click",function(){return _(s),b(i.downBtnClicked())}),O(12,"span",3),W(),O(13,"svg",4),we(14,"path",9),X()()()}t&2&&(H(i.showDivider()?0:-1),m(),se("disabled",i.upBtnDisabled()),k("aria-label",i.upBtnAriaLabel()),m(5),se("value",yt(8,7,i.displayValue,2)),m(4),re(i.inputLabel()),m(),se("disabled",i.downBtnDisabled()),k("aria-label",i.downBtnAriaLabel()))},dependencies:[Vi],encapsulation:2,changeDetection:0})}}return n})();function Li(n,r){if(n&1){let e=F();l(0,"nxt-date-time-timer-box",4),C("inputChange",function(i){_(e);let s=h();return b(s.setSecondValue(i))})("valueChange",function(i){_(e);let s=h();return b(s.setSecondValue(i))}),g()}if(n&2){let e=h();T("showDivider",!0)("upBtnAriaLabel",e.upSecondButtonLabel)("downBtnAriaLabel",e.downSecondButtonLabel)("upBtnDisabled",!e.upSecondEnabled())("downBtnDisabled",!e.downSecondEnabled())("value",e.secondValue)("min",0)("max",59)("step",e.stepSecond())}}function Ri(n,r){if(n&1){let e=F();l(0,"div",3)(1,"button",5),C("click",function(i){_(e);let s=h();return b(s.setMeridiem(i))}),l(2,"span",6),D(3),g()()()}if(n&2){let e=h();m(3),Z(" ",e.hour12ButtonLabel," ")}}var it=(()=>{class n{get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get min(){return this._minDateTime}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDateTime=this.getValidDate(e)}get max(){return this._maxDateTime}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDateTime=this.getValidDate(e)}get hourValue(){return this.dateTimeAdapter.getHours(this.pickerMoment)}get hourBoxValue(){let e=this.hourValue;return this.hour12Timer()&&(e===0?(e=12,this.isPM=!1):e>0&&e<12?this.isPM=!1:e===12?this.isPM=!0:e>12&&e<24&&(e=e-12,this.isPM=!0)),e}get minuteValue(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)}get secondValue(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)}get upHourButtonLabel(){return this.pickerIntl.upHourLabel}get downHourButtonLabel(){return this.pickerIntl.downHourLabel}get upMinuteButtonLabel(){return this.pickerIntl.upMinuteLabel}get downMinuteButtonLabel(){return this.pickerIntl.downMinuteLabel}get upSecondButtonLabel(){return this.pickerIntl.upSecondLabel}get downSecondButtonLabel(){return this.pickerIntl.downSecondLabel}get hour12ButtonLabel(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel}get timerClass(){return!0}get timeTabIndex(){return-1}constructor(e,t,i,s,a){this.ngZone=e,this.elmRef=t,this.pickerIntl=i,this.cdRef=s,this.dateTimeAdapter=a,this.isPM=!1,this.showSecondsTimer=c(!1),this.hour12Timer=c(!1),this.stepHour=c(1),this.stepMinute=c(1),this.stepSecond=c(1),this.selectedChange=new u}ngOnInit(){}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(P(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(e){let t=this.hour12Timer();t&&this.isPM&&e>=1&&e<=11?e=e+12:t&&!this.isPM&&e===12&&(e=0),this.setHourValue(e)}setHourValue(e){let t=this.dateTimeAdapter.setHours(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMinuteValue(e){let t=this.dateTimeAdapter.setMinutes(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setSecondValue(e){let t=this.dateTimeAdapter.setSeconds(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMeridiem(e){this.isPM=!this.isPM;let t=this.hourValue;this.isPM?t=t+12:t=t-12,t>=0&&t<=23&&this.setHourValue(t),this.cdRef.markForCheck(),e.preventDefault()}upHourEnabled(){return!this.max||this.compareHours(this.stepHour(),this.max)<1}downHourEnabled(){return!this.min||this.compareHours(-this.stepHour(),this.min)>-1}upMinuteEnabled(){return!this.max||this.compareMinutes(this.stepMinute(),this.max)<1}downMinuteEnabled(){return!this.min||this.compareMinutes(-this.stepMinute(),this.min)>-1}upSecondEnabled(){return!this.max||this.compareSeconds(this.stepSecond(),this.max)<1}downSecondEnabled(){return!this.min||this.compareSeconds(-this.stepSecond(),this.min)>-1}compareHours(e,t){let i=this.dateTimeAdapter.getHours(this.pickerMoment)+e,s=this.dateTimeAdapter.setHours(this.pickerMoment,i);return this.dateTimeAdapter.compare(s,t)}compareMinutes(e,t){let i=this.dateTimeAdapter.getMinutes(this.pickerMoment)+e,s=this.dateTimeAdapter.setMinutes(this.pickerMoment,i);return this.dateTimeAdapter.compare(s,t)}compareSeconds(e,t){let i=this.dateTimeAdapter.getSeconds(this.pickerMoment)+e,s=this.dateTimeAdapter.setSeconds(this.pickerMoment,i);return this.dateTimeAdapter.compare(s,t)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||n)(d(V),d(R),d(Fe),d(N),d(L))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time-timer"]],hostVars:3,hostBindings:function(t,i){t&2&&(k("tabindex",i.timeTabIndex),v("nxt-dt-timer",i.timerClass))},inputs:{pickerMoment:"pickerMoment",min:"min",max:"max",showSecondsTimer:[1,"showSecondsTimer"],hour12Timer:[1,"hour12Timer"],stepHour:[1,"stepHour"],stepMinute:[1,"stepMinute"],stepSecond:[1,"stepSecond"]},outputs:{selectedChange:"selectedChange"},decls:4,vars:20,consts:[["inputLabel","Hour",3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step"],["inputLabel","Minute",3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],["inputLabel","Second",3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],[1,"nxt-dt-timer-hour12"],["inputLabel","Second",3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"nxt-dt-control-button-content"]],template:function(t,i){t&1&&(l(0,"nxt-date-time-timer-box",0),C("inputChange",function(a){return i.setHourValueViaInput(a)})("valueChange",function(a){return i.setHourValue(a)}),g(),l(1,"nxt-date-time-timer-box",1),C("inputChange",function(a){return i.setMinuteValue(a)})("valueChange",function(a){return i.setMinuteValue(a)}),g(),Y(2,Li,1,9,"nxt-date-time-timer-box",2),Y(3,Ri,4,1,"div",3)),t&2&&(T("upBtnAriaLabel",i.upHourButtonLabel)("downBtnAriaLabel",i.downHourButtonLabel)("upBtnDisabled",!i.upHourEnabled())("downBtnDisabled",!i.downHourEnabled())("boxValue",i.hourBoxValue)("value",i.hourValue)("min",0)("max",23)("step",i.stepHour()),m(),T("showDivider",!0)("upBtnAriaLabel",i.upMinuteButtonLabel)("downBtnAriaLabel",i.downMinuteButtonLabel)("upBtnDisabled",!i.upMinuteEnabled())("downBtnDisabled",!i.downMinuteEnabled())("value",i.minuteValue)("min",0)("max",59)("step",i.stepMinute()),m(),H(i.showSecondsTimer()?2:-1),m(),H(i.hour12Timer()?3:-1))},dependencies:[Fi],encapsulation:2,changeDetection:0})}}return n})(),qt={transformPicker:De("transformPicker",[me("void",x({opacity:0,transform:"scale(1, 0)"})),me("enter",x({opacity:1,transform:"scale(1, 1)"})),ae("void => enter",At([xt("@fadeInPicker",xe(),{optional:!0}),J("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),ae("enter => void",J("100ms linear",x({opacity:0})))]),fadeInPicker:De("fadeInPicker",[me("enter",x({opacity:1})),me("void",x({opacity:0})),ae("void => enter",J("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Ni=()=>[];function Bi(n,r){if(n&1){let e=F();l(0,"nxt-date-time-calendar",7),Ct("pickerMomentChange",function(i){_(e);let s=h();return bt(s.pickerMoment,i)||(s.pickerMoment=i),b(i)}),C("yearSelected",function(i){_(e);let s=h();return b(s.picker==null?null:s.picker.selectYear(i))})("monthSelected",function(i){_(e);let s=h();return b(s.picker==null?null:s.picker.selectMonth(i))})("selectedChange",function(i){_(e);let s=h();return b(s.dateSelected(i))}),g()}if(n&2){let e=h();T("firstDayOfWeek",(e.picker==null?null:e.picker.firstDayOfWeek())??0),_t("pickerMoment",e.pickerMoment),T("selected",e.picker==null?null:e.picker.selected)("selecteds",(e.picker==null?null:e.picker.selecteds)??Mt(10,Ni))("selectMode",e.picker==null?null:e.picker.selectMode)("min",e.picker==null?null:e.picker.min)("max",e.picker==null?null:e.picker.max)("dateTimeFilter",e.picker==null?null:e.picker.dateTimeFilter)("startView",(e.picker==null?null:e.picker.startView())??"month")("hideOtherMonths",!!(e.picker!=null&&e.picker.hideOtherMonths()))}}function Pi(n,r){if(n&1){let e=F();l(0,"nxt-date-time-timer",8),C("selectedChange",function(i){_(e);let s=h();return b(s.timeSelected(i))}),g()}if(n&2){let e=h();T("pickerMoment",e.pickerMoment)("min",e.picker==null?null:e.picker.min)("max",e.picker==null?null:e.picker.max)("showSecondsTimer",!!(e.picker!=null&&e.picker.showSecondsTimer()))("hour12Timer",!!(e.picker!=null&&e.picker.hour12Timer()))("stepHour",(e.picker==null?null:e.picker.stepHour())??1)("stepMinute",(e.picker==null?null:e.picker.stepMinute())??1)("stepSecond",(e.picker==null?null:e.picker.stepSecond())??1)}}function Yi(n,r){if(n&1){let e=F();l(0,"div",5)(1,"div",9,0),C("click",function(i){_(e);let s=h();return b(s.handleClickOnInfoGroup(i,0))})("keydown",function(i){_(e);let s=Ae(9),a=h();return b(a.handleKeydownOnInfoGroup(i,s,0))}),l(3,"span",10)(4,"span",11),D(5),g(),l(6,"span",12),D(7),g()()(),l(8,"div",13,1),C("click",function(i){_(e);let s=h();return b(s.handleClickOnInfoGroup(i,1))})("keydown",function(i){_(e);let s=Ae(2),a=h();return b(a.handleKeydownOnInfoGroup(i,s,1))}),l(10,"span",10)(11,"span",11),D(12),g(),l(13,"span",12),D(14),g()()()()}if(n&2){let e=h();m(),v("nxt-dt-container-info-active",e.activeSelectedIndex===0),T("tabindex",e.activeSelectedIndex===0?0:-1),k("aria-checked",e.activeSelectedIndex===0),m(4),Z("",e.fromLabel,":"),m(2),re(e.fromFormattedValue),m(),v("nxt-dt-container-info-active",e.activeSelectedIndex===1),T("tabindex",e.activeSelectedIndex===1?0:-1),k("aria-checked",e.activeSelectedIndex===1),m(4),Z("",e.toLabel,":"),m(2),re(e.toFormattedValue)}}function Hi(n,r){if(n&1){let e=F();l(0,"div",6)(1,"button",14),C("click",function(i){_(e);let s=h();return b(s.onCancelClicked(i))}),l(2,"span",15),D(3),g()(),l(4,"button",14),C("click",function(i){_(e);let s=h();return b(s.onSetClicked(i))}),l(5,"span",15),D(6),g()()()}if(n&2){let e=h();m(3),Z(" ",e.cancelLabel," "),m(3),Z(" ",e.setLabel," ")}}var _e=(()=>{class n{get pickerMoment(){return this._clamPickerMoment}set pickerMoment(e){e&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(e,this.picker?.min,this.picker?.max)),this.cdRef.markForCheck()}get pickerType(){return this.picker?.pickerType}get cancelLabel(){return this.pickerIntl.cancelBtnLabel}get setLabel(){return this.pickerIntl.setBtnLabel}get fromLabel(){return this.pickerIntl.rangeFromLabel}get toLabel(){return this.pickerIntl.rangeToLabel}get fromFormattedValue(){let e=this.picker?.selecteds[0];return e?this.dateTimeAdapter.format(e,this.picker?.formatString):""}get toFormattedValue(){let e=this.picker?.selecteds[1];return e?this.dateTimeAdapter.format(e,this.picker?.formatString):""}get showControlButtons(){return this.picker?.pickerMode==="dialog"||this.picker?.pickerType!=="calendar"&&this.picker?.pickerMode!=="inline"}get containerElm(){return this.elmRef.nativeElement}get containerClass(){return!0}get popupContainerClass(){return this.picker?.pickerMode==="popup"}get dialogContainerClass(){return this.picker?.pickerMode==="dialog"}get inlineContainerClass(){return this.picker?.pickerMode==="inline"}get containerDisabledClass(){return!!this.picker?.disabled}get containerId(){return this.picker?.id}get containerAnimation(){return this.picker?.pickerMode==="inline"?"":"enter"}constructor(e,t,i,s){this.cdRef=e,this.elmRef=t,this.pickerIntl=i,this.dateTimeAdapter=s,this.calendar=G(tt),this.timer=G(it),this.activeSelectedIndex=0,this.hidePicker$=new y,this.hidePickerStream=this.hidePicker$.asObservable(),this.confirmSelected$=new y,this.confirmSelectedStream=this.confirmSelected$.asObservable(),this.pickerOpened$=new y,this.pickerOpenedStream=this.pickerOpened$.asObservable()}ngOnInit(){}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationDone(e){e.toState==="enter"&&this.pickerOpened$.next()}dateSelected(e){let t;if(this.picker?.isInSingleMode){t=this.dateSelectedInSingleMode(e),t?(this.pickerMoment=t,this.picker.select(t)):this.pickerType==="calendar"&&this.hidePicker$.next();return}this.picker?.isInRangeMode&&(t=this.dateSelectedInRangeMode(e),t&&(this.pickerMoment=t[this.activeSelectedIndex],this.picker.select(t)))}timeSelected(e){if(this.pickerMoment=this.dateTimeAdapter.clone(e),!!this.picker?.dateTimeChecker(this.pickerMoment)){if(this.picker.isInSingleMode){this.picker.select(this.pickerMoment);return}if(this.picker.isInRangeMode){let t=[...this.picker?.selecteds||[]];this.activeSelectedIndex===0&&t[1]&&this.dateTimeAdapter.compare(this.pickerMoment,t[1])===1||this.activeSelectedIndex===1&&t[0]&&this.dateTimeAdapter.compare(this.pickerMoment,t[0])===-1?(t[0]=this.pickerMoment,t[1]=this.pickerMoment):t[this.activeSelectedIndex]=this.pickerMoment,this.picker.select(t)}}}onCancelClicked(e){this.hidePicker$.next(),e.preventDefault()}onSetClicked(e){if(!this.picker?.dateTimeChecker?.(this.pickerMoment)){this.hidePicker$.next(),e.preventDefault();return}this.confirmSelected$.next(e),e.preventDefault()}handleClickOnInfoGroup(e,t){this.setActiveSelectedIndex(t),e.preventDefault(),e.stopPropagation()}handleKeydownOnInfoGroup(e,t,i){switch(e.keyCode){case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":t.focus(),this.setActiveSelectedIndex(i===0?1:0),e.preventDefault(),e.stopPropagation();break;case"Space":this.setActiveSelectedIndex(i),e.preventDefault(),e.stopPropagation();break;default:return}}setActiveSelectedIndex(e){if(this.picker?.selectMode==="range"&&this.activeSelectedIndex!==e){this.activeSelectedIndex=e;let t=this.picker?.selecteds[this.activeSelectedIndex];this.picker.selecteds&&t&&(this.pickerMoment=this.dateTimeAdapter.clone(t))}}initPicker(){this.pickerMoment=this.picker?.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex=this.picker?.selectMode==="rangeTo"?1:0}dateSelectedInSingleMode(e){if(!this.dateTimeAdapter.isSameDay(e,this.picker?.selected))return this.updateAndCheckCalendarDate(e)}dateSelectedInRangeMode(e){let t=this.picker?.selecteds[0],i=this.picker?.selecteds[1],s=this.updateAndCheckCalendarDate(e);if(s)return this.picker?.selectMode==="range"?this.picker.selecteds&&this.picker.selecteds.length&&!i&&t&&(this.dateTimeAdapter.differenceInCalendarDays(s,t)??0)>=0?(i=s,this.activeSelectedIndex=1):(t=s,i=void 0,this.activeSelectedIndex=0):this.picker?.selectMode==="rangeFrom"?(t=s,i&&this.dateTimeAdapter.compare(t,i)>0&&(i=void 0)):this.picker?.selectMode==="rangeTo"&&(i=s,t&&this.dateTimeAdapter.compare(t,i)>0&&(t=void 0)),[t,i]}updateAndCheckCalendarDate(e){let t;return this.picker?.pickerType==="both"?(t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),t=this.dateTimeAdapter.clampDate(t,this.picker.min,this.picker.max)):t=this.dateTimeAdapter.clone(e),this.picker?.dateTimeChecker(t)?t:void 0}focusPicker(){if(this.picker?.pickerMode==="inline")return;let e=this.calendar(),t=this.timer();e?e.focusActiveCell():t&&t.focus()}static{this.\u0275fac=function(t){return new(t||n)(d(N),d(R),d(Fe),d(L))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time-container"]],viewQuery:function(t,i){t&1&&q(i.calendar,tt,5)(i.timer,it,5),t&2&&Q(2)},hostVars:12,hostBindings:function(t,i){t&1&&Pe("@transformPicker.done",function(a){return i.handleContainerAnimationDone(a)}),t&2&&(Be("@transformPicker",i.containerAnimation),k("id",i.containerId),v("nxt-dt-container",i.containerClass)("nxt-dt-popup-container",i.popupContainerClass)("nxt-dt-dialog-container",i.dialogContainerClass)("nxt-dt-inline-container",i.inlineContainerClass)("nxt-dt-container-disabled",i.containerDisabledClass))},decls:5,vars:6,consts:[["from",""],["to",""],[1,"nxt-dt-container-inner",3,"cdkTrapFocus"],[1,"nxt-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter","startView","hideOtherMonths"],[1,"nxt-dt-container-row",3,"pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"nxt-dt-container-info","nxt-dt-container-row"],[1,"nxt-dt-container-buttons","nxt-dt-container-row"],[1,"nxt-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter","startView","hideOtherMonths"],[1,"nxt-dt-container-row",3,"selectedChange","pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-from",3,"click","keydown","tabindex"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-container-range-content"],[1,"nxt-dt-container-info-label"],[1,"nxt-dt-container-info-value"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-to",3,"click","keydown","tabindex"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-container-control-button",3,"click"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"]],template:function(t,i){t&1&&(l(0,"div",2),Y(1,Bi,1,11,"nxt-date-time-calendar",3),Y(2,Pi,1,8,"nxt-date-time-timer",4),Y(3,Yi,15,12,"div",5),Y(4,Hi,7,2,"div",6),g()),t&2&&(T("cdkTrapFocus",(i.picker==null?null:i.picker.pickerMode)!=="inline")("@fadeInPicker",(i.picker==null?null:i.picker.pickerMode)==="inline"?"":"enter"),m(),H(i.pickerType==="both"||i.pickerType==="calendar"?1:-1),m(),H(i.pickerType==="both"||i.pickerType==="timer"?2:-1),m(),H(i.picker!=null&&i.picker.isInRangeMode?3:-1),m(),H(i.showControlButtons?4:-1))},dependencies:[Xe,tt,it],encapsulation:2,data:{animation:[qt.transformPicker,qt.fadeInPicker]},changeDetection:0})}}return n})(),ji={provide:ze,useExisting:Te(()=>$i),multi:!0},$i=(()=>{class n extends Jt{get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=!!e}get selectMode(){return this._selectMode}set selectMode(e){if(e!=="single"&&e!=="range"&&e!=="rangeFrom"&&e!=="rangeTo")throw Error("DateTime Error: invalid selectMode value!");this._selectMode=e}get startAt(){return this._startAt?this._startAt:this.selectMode==="single"?this.value:this.selectMode==="range"||this.selectMode==="rangeFrom"?this.values?.[0]:this.selectMode==="rangeTo"?this.values?.[1]:void 0}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e}set min(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get min(){return this._min}set max(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get max(){return this._max}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._value=e,this.selected=e}get values(){return this._values}set values(e){e&&e.length>0?(e=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),t&&this.dateTimeAdapter.clone(t))),this._values=[...e],this.selecteds=[...e]):(this._values=[],this.selecteds=[])}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get isOpen(){return!0}get pickerMode(){return"inline"}get isInSingleMode(){return this._selectMode==="single"}get isInRangeMode(){return this._selectMode==="range"||this._selectMode==="rangeFrom"||this._selectMode==="rangeTo"}get inlineClass(){return!0}constructor(e,t,i){super(t,i),this.changeDetector=e,this.container=G(_e),this._pickerType="both",this._disabled=!1,this._selectMode="single",this.yearSelected=new u,this.monthSelected=new u,this._selecteds=new Array}ngOnInit(){let e=this.container();e&&(e.picker=this)}writeValue(e){if(e=e??void 0,this.isInSingleMode){this.value=e;let t=this.container();t&&(t.pickerMoment=e)}else{this.values=e;let t=this.container();t&&(t.pickerMoment=this._values?.[t.activeSelectedIndex])}}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}select(e){this.disabled||(Array.isArray(e)?this.values=[...e]:this.value=e,this.onModelChange?.(e),this.onModelTouched?.())}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}static{this.\u0275fac=function(t){return new(t||n)(d(N),d(L),d(ee))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time-inline"]],viewQuery:function(t,i){t&1&&q(i.container,_e,5),t&2&&Q()},hostVars:2,hostBindings:function(t,i){t&2&&v("nxt-dt-inline",i.inlineClass)},inputs:{pickerType:"pickerType",disabled:"disabled",selectMode:"selectMode",startAt:"startAt",dateTimeFilter:"dateTimeFilter",min:"min",max:"max",value:"value",values:"values"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected"},features:[He([ji]),ke],decls:1,vars:0,template:function(t,i){t&1&&j(0,"nxt-date-time-container")},dependencies:[_e],encapsulation:2,changeDetection:0})}}return n})(),zi={provide:ze,useExisting:Te(()=>ei),multi:!0},Wi={provide:Ot,useExisting:Te(()=>ei),multi:!0},ei=(()=>{class n{set dateTime(e){this.registerDateTimePicker(e)}set dateTimeFilter(e){this._dateTimeFilter=e,this.validatorOnChange?.()}get dateTimeFilter(){return this._dateTimeFilter}get disabled(){return this._disabled}set disabled(e){let t=!!e,i=this.elmRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.disabledChange.emit(t)),t&&i.blur?.()}get min(){return this._min}set min(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange?.()}get max(){return this._max}set max(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange?.()}get selectMode(){return this._selectMode}set selectMode(e){if(e!=="single"&&e!=="range"&&e!=="rangeFrom"&&e!=="rangeTo")throw Error("DateTime Error: invalid selectMode value!");this._selectMode=e}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),this.lastValueValid=!e||!!this.dateTimeAdapter.isValid(e),e=this.getValidDate(e);let t=this._value;this._value=e,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(t,e)||this.valueChange.emit(e)}get values(){return this._values}set values(e){e&&e.length>0?(this._values=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)}get elementRef(){return this.elmRef}get isInSingleMode(){return this._selectMode==="single"}get isInRangeMode(){return this._selectMode==="range"||this._selectMode==="rangeFrom"||this._selectMode==="rangeTo"}get inputAriaHaspopup(){return!0}get inputAriaOwns(){return this.dtPicker?.isOpen&&this.dtPicker.id||void 0}get minIso8601(){return this.min?this.dateTimeAdapter.toIso8601(this.min):void 0}get maxIso8601(){return this.max?this.dateTimeAdapter.toIso8601(this.max):void 0}get inputDisabled(){return this.disabled}constructor(e,t,i,s){this.elmRef=e,this.renderer=t,this.dateTimeAdapter=i,this.dateTimeFormats=s,this._disabled=!1,this._selectMode="single",this.rangeSeparator=c("~"),this._values=[],this.dateTimeChange=new u,this.dateTimeInput=new u,this.lastValueValid=!0,this.parseValidator=()=>this.lastValueValid?null:{dateTimeParse:{text:this.elmRef.nativeElement.value}},this.minValidator=a=>{if(this.isInSingleMode){let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value));return!this.min||!o||this.dateTimeAdapter.compare(this.min,o)<=0?null:{dateTimeMin:{min:this.min,actual:o}}}else if(this.isInRangeMode&&a.value){let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[0])),p=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[1]));return!this.min||!o||!p||this.dateTimeAdapter.compare(this.min,o)<=0?null:{dateTimeMin:{min:this.min,actual:[o,p]}}}return null},this.maxValidator=a=>{if(this.isInSingleMode){let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value));return!this.max||!o||this.dateTimeAdapter.compare(this.max,o)>=0?null:{dateTimeMax:{max:this.max,actual:o}}}else if(this.isInRangeMode&&a.value){let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[0])),p=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[1]));return!this.max||!o||!p||this.dateTimeAdapter.compare(this.max,p)>=0?null:{dateTimeMax:{max:this.max,actual:[o,p]}}}return null},this.filterValidator=a=>{let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value));return!this._dateTimeFilter||!o||this._dateTimeFilter(o)?null:{dateTimeFilter:!0}},this.rangeValidator=a=>{if(this.isInSingleMode||!a.value)return null;let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[0])),p=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[1]));return!o||!p||this.dateTimeAdapter.compare(o,p)<=0?null:{dateTimeRange:!0}},this.validator=Ft.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator]),this.valueChange=new u,this.disabledChange=new u,this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.value=this.value})}ngOnInit(){if(!this.dtPicker)throw Error("DateTimePicker: the picker input doesn't have any associated nxt-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker?.confirmSelectedChange.subscribe(e=>{Array.isArray(e)?this.values=e:this.value=e,this.onModelChange?.(e),this.onModelTouched?.(),this.dateTimeChange.emit({source:this,value:e,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:e,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub?.unsubscribe(),this.dtPickerSub=void 0,this.localeSub?.unsubscribe(),this.localeSub=void 0,this.valueChange.complete(),this.disabledChange.complete()}writeValue(e){e=e??void 0,this.isInSingleMode?this.value=e:this.values=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.validator?this.validator(e):null}registerOnValidatorChange(e){this.validatorOnChange=e}handleKeydownOnHost(e){e.altKey&&e.code.toLowerCase()==="arrowdown"&&(this.dtPicker?.open(),e.preventDefault())}handleBlurOnHost(e){this.onModelTouched?.()}handleInputOnHost(e){let t=e.target.value;this._selectMode==="single"?this.changeInputInSingleMode(t):this._selectMode==="range"?this.changeInputInRangeMode(t):this.changeInputInRangeFromToMode(t)}handleChangeOnHost(e){let t;this.isInSingleMode?t=this.value:this.isInRangeMode&&(t=this.values),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker?.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){let e=this._values[0],t=this._values[1],i=e?this.dateTimeAdapter.format(e,this.dtPicker?.formatString):"",s=t?this.dateTimeAdapter.format(t,this.dtPicker?.formatString):"";!i&&!s?this.renderer.setProperty(this.elmRef.nativeElement,"value",void 0):this._selectMode==="range"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i+" "+this.rangeSeparator()+" "+s):this._selectMode==="rangeFrom"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i):this._selectMode==="rangeTo"&&this.renderer.setProperty(this.elmRef.nativeElement,"value",s)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}registerDateTimePicker(e){e&&(this.dtPicker=e,this.dtPicker.registerInput(this))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}convertTimeStringToDateTimeString(e,t){if(e){let i=t||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(i,this.dateTimeFormats.datePickerInput)+" "+e}}changeInputInSingleMode(e){let t=e;this.dtPicker?.pickerType==="timer"&&(t=this.convertTimeStringToDateTimeString(t,this.value));let i=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!i||this.dateTimeAdapter.isValid(i),i=this.getValidDate(i),(!this.isSameValue(i,this._value)||i===void 0)&&(this._value=i,this.valueChange.emit(i),this.onModelChange?.(i),this.dateTimeInput.emit({source:this,value:i,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(e){let t=this._selectMode==="rangeFrom"?this._values[0]:this._values[1];this.dtPicker?.pickerType==="timer"&&(e=this.convertTimeStringToDateTimeString(e,t));let i=this.dateTimeAdapter.parse(e,this.dateTimeFormats.parseInput);this.lastValueValid=!i||this.dateTimeAdapter.isValid(i),i=this.getValidDate(i),!(this._selectMode==="rangeFrom"&&this.isSameValue(i,this._values[0])&&i||this._selectMode==="rangeTo"&&this.isSameValue(i,this._values[1])&&i)&&(this._values=this._selectMode==="rangeFrom"?[i,this._values[1]]:[this._values[0],i],this.valueChange.emit(this._values),this.onModelChange?.(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(e){let t=e.split(this.rangeSeparator()),i=t[0],s=t[1];this.dtPicker?.pickerType==="timer"&&(i=this.convertTimeStringToDateTimeString(i,this.values[0]),s=this.convertTimeStringToDateTimeString(s,this.values[1]));let a=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput),o=this.dateTimeAdapter.parse(s,this.dateTimeFormats.parseInput);this.lastValueValid=(!a||this.dateTimeAdapter.isValid(a))&&(!o||this.dateTimeAdapter.isValid(o)),a=this.getValidDate(a),o=this.getValidDate(o),(!this.isSameValue(a,this._values[0])||!this.isSameValue(o,this._values[1])||!a&&!o)&&(this._values=[a,o],this.valueChange.emit(this._values),this.onModelChange?.(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(e,t){return e&&t?this.dateTimeAdapter.compare(e,t)===0:e==t}static{this.\u0275fac=function(t){return new(t||n)(d(R),d(mt),d(L),d(ee))}}static{this.\u0275dir=U({type:n,selectors:[["input","nxtDateTime",""]],hostVars:5,hostBindings:function(t,i){t&1&&C("keydown",function(a){return i.handleKeydownOnHost(a)})("blur",function(a){return i.handleBlurOnHost(a)})("input",function(a){return i.handleInputOnHost(a)})("change",function(a){return i.handleChangeOnHost(a)}),t&2&&(se("disabled",i.inputDisabled),k("aria-haspopup",i.inputAriaHaspopup)("aria-owns",i.inputAriaOwns)("min",i.minIso8601)("max",i.maxIso8601))},inputs:{dateTime:[0,"nxtDateTime","dateTime"],dateTimeFilter:"dateTimeFilter",disabled:"disabled",min:"min",max:"max",selectMode:"selectMode",rangeSeparator:[1,"rangeSeparator"],value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput"},exportAs:["nxtDateTimeInput"],features:[He([zi,Wi])]})}}return n})(),vs=(()=>{class n{get disabled(){return this._disabled??!!this.dtPicker()?.disabled}set disabled(e){this._disabled=e}get triggerDisabledClass(){return this.disabled}constructor(e){this.changeDetector=e,this.dtPicker=c(void 0,{alias:"nxtDateTimeTrigger"})}ngOnInit(){}ngOnChanges(e){"datepicker"in e&&this.watchStateChanges()}ngAfterContentInit(){this.watchStateChanges()}ngOnDestroy(){this.stateChanges?.unsubscribe(),this.stateChanges=void 0}handleClickOnHost(e){let t=this.dtPicker();t&&(t.open(),e.stopPropagation())}watchStateChanges(){this.stateChanges?.unsubscribe(),this.stateChanges=void 0;let e=this.dtPicker(),t=e&&e.dtInput?e.dtInput.disabledChange:te(),i=this.dtPicker(),s=i?i.disabledChange:te();this.stateChanges=Re(s,t).subscribe(()=>{this.changeDetector.markForCheck()})}static{this.\u0275fac=function(t){return new(t||n)(d(N))}}static{this.\u0275dir=U({type:n,selectors:[["","nxtDateTimeTrigger",""]],hostVars:2,hostBindings:function(t,i){t&1&&C("click",function(a){return i.handleClickOnHost(a)}),t&2&&v("nxt-dt-trigger-disabled",i.triggerDisabledClass)},inputs:{dtPicker:[1,"nxtDateTimeTrigger","dtPicker"],disabled:"disabled"},features:[Me]})}}return n})(),Ki=0,nt=class{constructor(){this.autoFocus=!0,this.hasBackdrop=!0,this.disableClose=!1,this.role="dialog",this.paneClass="",this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new Rt,this.id=`nxt-dialog-${Ki++}`}},Oe=class{constructor(r,e,t,i){this.overlayRef=r,this.container=e,this.id=t,this._beforeClose$=new y,this._afterOpen$=new y,this._afterClosed$=new y,this.disableClose=!!this.container.config?.disableClose,this.container.animationStateChanged.pipe(ie(s=>s.phaseName==="done"&&s.toState==="enter"),P(1)).subscribe(()=>{this._afterOpen$.next(void 0),this._afterOpen$.complete()}),this.container.animationStateChanged.pipe(ie(s=>s.phaseName==="done"&&s.toState==="exit"),P(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged?.unsubscribe(),this.locationChanged=void 0,this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=void 0}),this.overlayRef.keydownEvents().pipe(ie(s=>s.code.toLowerCase()==="escape"&&!this.disableClose)).subscribe(()=>this.close()),i&&(this.locationChanged=i.subscribe(()=>{this.container.config?.closeOnNavigation&&this.close()}))}close(r){this.result=r,this.container.animationStateChanged.pipe(ie(e=>e.phaseName==="start"),P(1)).subscribe(()=>{this._beforeClose$.next(r),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(r){let e=this.getPositionStrategy();return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(r="auto",e="auto"){return this.overlayRef.updateSize({width:r,height:e}),this.overlayRef.updatePosition(),this}isAnimating(){return this.container.isAnimating}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}};function Ui(n,...r){if(n==null||n==null)throw TypeError("Cannot convert undefined or null to object");for(let e of r)if(e!=null&&e!=null)for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Zi(n,r){}var Gi={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},Xi={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"},Qt=(()=>{class n extends Lt{get config(){return this._config}get dialogContainerClass(){return!0}get dialogContainerTabIndex(){return-1}get dialogContainerId(){return this._config?.id}get dialogContainerRole(){return this._config?.role}get dialogContainerAriaLabelledby(){return this.ariaLabelledBy}get dialogContainerAriaDescribedby(){return this._config?.ariaDescribedBy}get dialogContainerAnimation(){return{value:this.state,params:this.params}}constructor(e,t,i,s){super(),this.changeDetector=e,this.elementRef=t,this.focusTrapFactory=i,this.document=s,this.portalOutlet=G(Ie),this.animationStateChanged=new u,this.isAnimating=!1,this.state="enter",this.params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0}}ngOnInit(){}attachComponentPortal(e){let t=this.portalOutlet();if(t?.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),t.attachComponentPortal(e)}attachTemplatePortal(e){throw new Error("Method not implemented.")}setConfig(e){this._config=e,e.event&&this.calculateZoomOrigin(e.event)}onAnimationStart(e){this.isAnimating=!0,this.animationStateChanged.emit(e)}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="exit"&&this.restoreFocus(),this.animationStateChanged.emit(e),this.isAnimating=!1}startExitAnimation(){this.state="exit",this.changeDetector.markForCheck()}calculateZoomOrigin(e){if(!e)return;let t=e.clientX,i=e.clientY,s=window.innerWidth/2,a=window.innerHeight/2,o=t-s,p=i-a,S=t/window.innerWidth,ce=i/window.innerHeight;this.params.x=`${o}px`,this.params.y=`${p}px`,this.params.ox=`${S*100}%`,this.params.oy=`${ce*100}%`,this.params.scale=0}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()).catch(()=>{}))}trapFocus(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config?.autoFocus&&this.focusTrap?.focusInitialElementWhenReady().catch(()=>{})}restoreFocus(){let e=this.elementFocusedBeforeDialogWasOpened;e&&typeof e.focus=="function"&&e.focus(),this.focusTrap&&(this.focusTrap.destroy(),this.focusTrap=void 0)}static{this.\u0275fac=function(t){return new(t||n)(d(N),d(R),d(Xt),d(B,8))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-dialog-container"]],viewQuery:function(t,i){t&1&&q(i.portalOutlet,Ie,5),t&2&&Q()},hostVars:8,hostBindings:function(t,i){t&1&&Pe("@slideModal.start",function(a){return i.onAnimationStart(a)})("@slideModal.done",function(a){return i.onAnimationDone(a)}),t&2&&(Be("@slideModal",i.dialogContainerAnimation),k("tabindex",i.dialogContainerTabIndex)("id",i.dialogContainerId)("role",i.dialogContainerRole)("aria-labelledby",i.dialogContainerAriaLabelledby)("aria-describedby",i.dialogContainerAriaDescribedby),v("nxt-dialog-container",i.dialogContainerClass))},features:[ke],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&ft(0,Zi,0,0,"ng-template",0)},dependencies:[Ie],encapsulation:2,data:{animation:[De("slideModal",[ae("void => enter",[x(Xi),J("300ms cubic-bezier(0.35, 0, 0.25, 1)",x("*")),J("150ms",Dt([x({transform:"scale(1)",offset:0}),x({transform:"scale(1.05)",offset:.3}),x({transform:"scale(.95)",offset:.8}),x({transform:"scale(1)",offset:1})])),xe()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),ae("enter => exit",[xe(),J(200,x(Gi))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}})}}return n})(),qi=new E("NXT_DIALOG_DATA"),Qi=new E("NXT_DIALOG_SCROLL_STRATEGY"),Ji=new E("NXT_DIALOG_DEFAULT_OPTIONS"),en=(()=>{class n{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){let e=this.parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(e,t,i,s,a,o,p){this.overlay=e,this.injector=t,this.location=i,this.defaultOptions=a,this.parentDialog=o,this.overlayContainer=p,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._afterOpenAtThisLevel=new y,this._afterAllClosedAtThisLevel=new y,this.afterAllClosed=at(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:te([void 0],this._afterAllClosed).pipe(rt())),this.scrollStrategy=s??(()=>e.scrollStrategies.block()),!o&&i&&i.subscribe(()=>this.closeAll())}open(e,t){if(t=tn(t,this.defaultOptions),t.id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);let i=this.createOverlay(t),s=this.attachDialogContainer(i,t),a=this.attachDialogContent(e,s,i,t);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this.removeOpenDialog(a)),this.afterOpen.next(a),a}closeAll(){let e=this.openDialogs.length;for(;e--;)this.openDialogs[e].close()}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}attachDialogContent(e,t,i,s){let a=new Oe(i,t,s.id,this.location);if(s.hasBackdrop&&i.backdropClick().subscribe(()=>{a.disableClose||a.close()}),!(e instanceof ht)){let o=this.createInjector(s,a,t),p=t.attachComponentPortal(new Se(e,void 0,o));a.componentInstance=p.instance}return a.updateSize(s.width,s.height).updatePosition(s.position),a}createInjector(e,t,i){let s=e&&e.viewContainerRef&&e.viewContainerRef.injector;return K.create({providers:[{provide:Oe,useValue:t},{provide:Qt,useValue:i},{provide:qi,useValue:e.data}],parent:s||this.injector})}createOverlay(e){let t=this.getOverlayConfig(e);return this.overlay.create(t)}attachDialogContainer(e,t){let i=new Se(Qt,t.viewContainerRef),s=e.attach(i);return s.instance.setConfig(t),s.instance}getOverlayConfig(e){let t=new We({positionStrategy:this.overlay.position().global(),scrollStrategy:e.scrollStrategy||this.scrollStrategy(),panelClass:e.paneClass,hasBackdrop:e.hasBackdrop,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}removeOpenDialog(e){let t=this._openDialogsAtThisLevel.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){let e=this.overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let s=t[i];s!==e&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}static{this.\u0275fac=function(t){return new(t||n)(z(Ke),z(K),z(wt,8),z(Qi,8),z(Ji,8),z(n,12),z(Nt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tn(n,r){return Ui(new nt,n,r)}var nn=new E("NXT_DTPICKER_SCROLL_STRATEGY"),ys=(()=>{class n extends Jt{get startAt(){if(this._startAt)return this._startAt;if(this._dtInput){if(this._dtInput.selectMode==="single")return this._dtInput.value;if(this._dtInput.selectMode==="range"||this._dtInput.selectMode==="rangeFrom")return this._dtInput.values[0];if(this._dtInput.selectMode==="rangeTo")return this._dtInput.values[1]}}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e,this._dtInput&&this._dtInput.formatNativeInputValue())}get pickerMode(){return this._pickerMode}set pickerMode(e){e==="popup"?this._pickerMode=e:this._pickerMode="dialog"}get disabled(){return this._disabled??!!this._dtInput?.disabled}set disabled(e){e=!!e,e!==this._disabled&&(this._disabled=e,this.disabledChange.next(e))}get isOpen(){return this._isOpen}set isOpen(e){e?this.open():this.close()}get dtInput(){return this._dtInput}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds||[]}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get min(){return this._dtInput&&this._dtInput.min}get max(){return this._dtInput&&this._dtInput.max}get dateTimeFilter(){return this._dtInput?.dateTimeFilter}get selectMode(){return this._dtInput?.selectMode}get isInSingleMode(){return!!this._dtInput?.isInSingleMode}get isInRangeMode(){return!!this._dtInput?.isInRangeMode}constructor(e,t,i,s,a,o,p,S,ce){super(o,p),this.overlay=e,this.viewContainerRef=t,this.dialogService=i,this.ngZone=s,this.changeDetector=a,this.defaultScrollStrategy=S,this.document=ce,this.backdropClass=c(),this.panelClass=c(),this._pickerType="both",this._pickerMode="popup",this._isOpen=!1,this.scrollStrategy=c(),this.afterPickerOpened=new u,this.afterPickerClosed=new u,this.yearSelected=new u,this.monthSelected=new u,this.isOpenChange=new u,this.confirmSelectedChange=new u,this.disabledChange=new u,this._selecteds=new Array,this.defaultScrollStrategy=this.defaultScrollStrategy??(()=>e.scrollStrategies.block())}ngOnInit(){}ngOnDestroy(){this.close(),this.dtInputSub?.unsubscribe(),this.dtInputSub=void 0,this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()}registerInput(e){if(this._dtInput)throw Error("A Nxt DateTimePicker can only be associated with a single input.");this._dtInput=e,this.dtInputSub=this._dtInput.valueChange.subscribe(t=>{Array.isArray(t)?this.selecteds=t:this.selected=t})}open(){if(!(this._isOpen||this.disabled)){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&this.pickerType!=="calendar"&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),this.pickerMode==="dialog"?this.openAsDialog():this.openAsPopup(),this.pickerContainer&&(this.pickerContainer.picker=this),this.hidePickerStreamSub=this.pickerContainer?.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer?.confirmSelectedStream.subscribe(e=>{this.confirmSelect(e)})}}select(e){Array.isArray(e)?this.selecteds=[...e]:this.selected=e,this.pickerMode!=="dialog"&&this.pickerType==="calendar"&&(this.selectMode==="single"&&this.selected||this.selectMode==="rangeFrom"&&this.selecteds[0]||this.selectMode==="rangeTo"&&this.selecteds[1]||this.selectMode==="range"&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}close(){if(!this._isOpen)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub?.unsubscribe(),this.hidePickerStreamSub=void 0,this.confirmSelectedStreamSub?.unsubscribe(),this.confirmSelectedStreamSub=void 0,this.pickerOpenedStreamSub?.unsubscribe(),this.pickerOpenedStreamSub=void 0,this.dialogRef&&(this.dialogRef.close(),this.dialogRef=void 0);let e=()=>{this._isOpen&&(this._isOpen=!1,this.isOpenChange.emit(this._isOpen),this.afterPickerClosed.emit(),this.focusedElementBeforeOpen=void 0)};this.focusedElementBeforeOpen&&typeof this.focusedElementBeforeOpen.focus=="function"?(this.focusedElementBeforeOpen.focus(),setTimeout(e)):e()}confirmSelect(e){if(this.isInSingleMode){let t=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(t)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()}openAsDialog(){let e=this.backdropClass(),t=this.panelClass();this.dialogRef=this.dialogService.open(_e,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...e?le(e):[]],paneClass:["nxt-dt-dialog",...t?le(t):[]],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy()||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.afterOpen().subscribe(()=>{this._isOpen=!0,this.isOpenChange.emit(this._isOpen),this.afterPickerOpened.emit()}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new Se(_e,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef?.hasAttached()){let e=this.popupRef?.attach(this.pickerContainerPortal);this.pickerContainer=e?.instance,this.ngZone.onStable.asObservable().pipe(P(1)).subscribe(()=>{this.popupRef?.updatePosition()}),this.pickerOpenedStreamSub=this.pickerContainer?.pickerOpenedStream.pipe(P(1)).subscribe(()=>{this._isOpen=!0,this.isOpenChange.emit(this._isOpen),this.afterPickerOpened.emit()})}}createPopup(){let e=this.backdropClass(),t=this.panelClass(),i=new We({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...e?le(e):[]],scrollStrategy:this.scrollStrategy()||this.defaultScrollStrategy(),panelClass:["nxt-dt-popup",...t?le(t):[]]});this.popupRef=this.overlay.create(i),Re(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe(ie(s=>!!(s.code.toLowerCase()==="escape"||this._dtInput&&s.altKey&&s.code.toLowerCase()==="arrowup")))).subscribe(()=>this.close())}createPopupPositionStrategy(){if(this._dtInput)return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".nxt-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}static{this.\u0275fac=function(t){return new(t||n)(d(Ke),d(pt),d(en),d(V),d(N),d(L),d(ee),d(nn,8),d(B,8))}}static{this.\u0275cmp=A({type:n,selectors:[["nxt-date-time"]],inputs:{backdropClass:[1,"backdropClass"],panelClass:[1,"panelClass"],startAt:"startAt",pickerType:"pickerType",pickerMode:"pickerMode",disabled:"disabled",isOpen:"isOpen",scrollStrategy:[1,"scrollStrategy"]},outputs:{afterPickerOpened:"open",afterPickerClosed:"close",yearSelected:"yearSelected",monthSelected:"monthSelected",isOpenChange:"isOpenChange"},features:[ke],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}}return n})();export{L as a,ee as b,ei as c,vs as d,ys as e};
