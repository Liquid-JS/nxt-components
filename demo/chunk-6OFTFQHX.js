import{i as F}from"./chunk-SMA5AFNH.js";import{Aa as H,Bb as j,Bc as N,Ca as u,Dc as I,Jc as P,X as y,Xa as _,Z as p,_ as k,aa as D,da as o,ea as x,ia as R,ic as T,l as E,nb as S,oa as m,ob as d,qb as w,sa as b,ua as v,ya as L,za as l,zc as A}from"./chunk-ZCDMTBCB.js";import{i as r}from"./chunk-FBFWB55K.js";function O(t,s){let e=!s?.manualCleanup;e&&!s?.injector&&R(O);let i=e?s?.injector?.get(b)??o(b):null,n=U(s?.equal),a;s?.requireSync?a=u({kind:0},{equal:n}):a=u({kind:1,value:s?.initialValue},{equal:n});let f=t.subscribe({next:h=>a.set({kind:1,value:h}),error:h=>{if(s?.rejectErrors)throw h;a.set({kind:2,error:h})}});if(s?.requireSync&&a().kind===0)throw new y(601,!1);return i?.onDestroy(f.unsubscribe.bind(f)),N(()=>{let h=a();switch(h.kind){case 1:return h.value;case 2:throw h.error;case 0:throw new y(601,!1)}},{equal:s?.equal})}function U(t=Object.is){return(s,e)=>s.kind===1&&e.kind===1&&t(s.value,e.value)}var C=new D("NXT_HIGHLIGHT_OPTIONS");function ce(t){return x([{provide:C,useValue:t}])}var c=function(t){return t.FULL_WITH_CORE_LIBRARY_IMPORTS="The full library and the core library were imported, only one of them should be imported!",t.FULL_WITH_LANGUAGE_IMPORTS="The highlighting languages were imported they are not needed!",t.CORE_WITHOUT_LANGUAGE_IMPORTS="The highlighting languages were not imported!",t.LANGUAGE_WITHOUT_CORE_IMPORTS="The core library was not imported!",t.NO_FULL_AND_NO_CORE_IMPORTS="Highlight.js library was not imported!",t}(c||{}),G=(()=>{class t{constructor(){this.document=o(P),this.options=o(C,{optional:!0}),this.pendingTasks=o(v),this.ready=this.pendingTasks.run(()=>this.loadLibrary().then(e=>r(this,null,function*(){if(this.options?.lineNumbersLoader){let i=yield this.options.lineNumbersLoader();e.lineNumbersBlock=i.activateLineNumbers(this.document)}return this.options?.highlightOptions&&e.configure(this.options.highlightOptions),e}))),this.options?.themePath&&this.loadTheme(this.options.themePath)}loadLibrary(){return r(this,null,function*(){if(this.options){if(this.options.fullLibraryLoader&&this.options.coreLibraryLoader)throw new Error(c.FULL_WITH_CORE_LIBRARY_IMPORTS);if(this.options.fullLibraryLoader&&this.options.languages)throw new Error(c.FULL_WITH_LANGUAGE_IMPORTS);if(this.options.coreLibraryLoader&&!this.options.languages)throw new Error(c.CORE_WITHOUT_LANGUAGE_IMPORTS);if(!this.options.coreLibraryLoader&&this.options.languages)throw new Error(c.LANGUAGE_WITHOUT_CORE_IMPORTS);if(this.options.fullLibraryLoader)return this.options.fullLibraryLoader();if(this.options.coreLibraryLoader&&this.options.languages&&Object.keys(this.options.languages).length)return this.options.coreLibraryLoader().then(e=>this.loadLanguages(e))}throw new Error(c.NO_FULL_AND_NO_CORE_IMPORTS)})}loadLanguages(e){return r(this,null,function*(){return yield Promise.all(Object.entries(this.options?.languages||{}).map(([i,n])=>n().then(a=>e.registerLanguage(i,a)))),e})}setTheme(e){this.themeLinkElement?this.themeLinkElement.href=e:this.loadTheme(e)}loadTheme(e){this.themeLinkElement=this.document.createElement("link"),this.themeLinkElement.href=e,this.themeLinkElement.type="text/css",this.themeLinkElement.rel="stylesheet",this.themeLinkElement.media="screen,print",this.document.head.appendChild(this.themeLinkElement)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),B=(()=>{class t{constructor(){this.loader=o(G),this.hljs=O(E(this.loader.ready))}highlight(e,i){return r(this,null,function*(){return(yield this.loader.ready).highlight(e,i)})}highlightAuto(e,i){return r(this,null,function*(){return(yield this.loader.ready).highlightAuto(e,i)})}highlightElement(e){return r(this,null,function*(){(yield this.loader.ready).highlightElement(e)})}highlightAll(){return r(this,null,function*(){(yield this.loader.ready).highlightAll()})}registerLanguage(e,i){return r(this,null,function*(){(yield this.loader.ready).registerLanguage(e,i)})}unregisterLanguage(e){return r(this,null,function*(){(yield this.loader.ready).unregisterLanguage(e)})}registerAliases(n,a){return r(this,arguments,function*(e,{languageName:i}){(yield this.loader.ready).registerAliases(e,{languageName:i})})}listLanguages(){return r(this,null,function*(){return(yield this.loader.ready).listLanguages()})}getLanguage(e){return r(this,null,function*(){return(yield this.loader.ready).getLanguage(e)})}safeMode(){return r(this,null,function*(){(yield this.loader.ready).safeMode()})}debugMode(){return r(this,null,function*(){(yield this.loader.ready).debugMode()})}lineNumbersBlock(e,i){return r(this,null,function*(){let n=yield this.loader.ready;n.lineNumbersBlock&&n.lineNumbersBlock(e,i)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),M;function q(){if(!M)try{M=window?.trustedTypes?.createPolicy("nxt-highlightjs",{createHTML:t=>t})}catch{}return M}function W(t){return q()?.createHTML(t)||t}var g=(()=>{class t{constructor(){this.hljs=o(B),this.nativeElement=o(H).nativeElement,this.sanitizer=o(F),I(()=>{let e=this.code();if(e){let i=this.highlightElement(e);i&&(this.setInnerHTML(i?.value??void 0),this.highlightResult.set(i),this.highlighted.emit(i))}else this.setTextContent("")})}setTextContent(e){this.nativeElement.textContent=e}setInnerHTML(e){this.nativeElement.innerHTML=W(this.sanitizer.sanitize(_.HTML,e||null)||"")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=d({type:t})}}return t})(),de=(()=>{class t extends g{constructor(){super(...arguments),this.code=l(void 0,{alias:"nxtHighlight"}),this.highlightResult=u(void 0),this.language=l.required(),this.ignoreIllegals=l(void 0,{transform:A}),this.highlighted=L()}highlightElement(e){return this.hljs.hljs()?.highlight(e,{language:this.language(),ignoreIllegals:this.ignoreIllegals()})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=m(t)))(n||t)}})()}static{this.\u0275dir=d({type:t,selectors:[["","nxtHighlight",""]],hostVars:2,hostBindings:function(i,n){i&2&&j("hljs",!0)},inputs:{code:[1,"nxtHighlight","code"],language:[1,"language"],ignoreIllegals:[1,"ignoreIllegals"]},outputs:{highlighted:"highlighted"},features:[T([{provide:g,useExisting:t}]),w]})}}return t})(),ge=(()=>{class t extends g{constructor(){super(...arguments),this.code=l(void 0,{alias:"nxtHighlightAuto"}),this.highlightResult=u(void 0),this.languages=l(),this.highlighted=L()}highlightElement(e){return this.hljs.hljs()?.highlightAuto(e,this.languages())}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=m(t)))(n||t)}})()}static{this.\u0275dir=d({type:t,selectors:[["","nxtHighlightAuto",""]],hostVars:2,hostBindings:function(i,n){i&2&&j("hljs",!0)},inputs:{code:[1,"nxtHighlightAuto","code"],languages:[1,"languages"]},outputs:{highlighted:"highlighted"},features:[T([{provide:g,useExisting:t}]),w]})}}return t})(),fe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=k({})}}return t})();export{C as a,ce as b,G as c,B as d,g as e,de as f,ge as g,fe as h};
