import{b as F,e as x,f as B}from"./chunk-RRWDLIEB.js";import{Gc as A,Hc as j,ba as f,hb as T,wa as b,wc as v,zc as E}from"./chunk-RGBXINVR.js";function J(r){let s="hljs-ln",O="hljs-ln-line",a="hljs-ln-code",c="hljs-ln-numbers",m="hljs-ln-n",N="data-line-number",M=/\r\n|\r|\n/g;D();function S(e){let t=e;for(;t;){if(t.className&&t.className.indexOf("hljs-ln-code")!==-1)return!0;t=t.parentNode}return!1}function w(e){let t=e;for(;t&&t.nodeName!=="TABLE";)t=t.parentNode;return t}function C(e){let t=e.toString(),n=e.anchorNode;for(;n?.nodeName!=="TD";)n=n?.parentNode||null;let i=e.focusNode;for(;i?.nodeName!=="TD";)i=i?.parentNode||null;let l=parseInt(n?.dataset.lineNumber||"0",10),o=parseInt(i?.dataset.lineNumber||"0",10);if(l!=o){let u=n.textContent,d=i.textContent;if(l>o){let h=l;l=o,o=h;let p=u;u=d,d=p}for(;t.indexOf(u||"")!==0;)u=u.slice(1);for(;t.lastIndexOf(d||"")===-1;)d=d.slice(0,-1);let L=u,V=w(n);for(let h=l+1;h<o;++h){let p=g('.{0}[{1}="{2}"]',[a,N,h]),K=V?.querySelector(p);L+=`
`+(K?.textContent||"")}return L+=`
`+d,L}else return t}r.addEventListener("copy",e=>{let t=window.getSelection();if(S(t?.anchorNode)){let n;window.navigator.userAgent.indexOf("Edge")!==-1&&t?n=C(t):n=t?.toString(),n&&(e.clipboardData?.setData("text/plain",n),e.preventDefault())}});function D(){let e=r.createElement("style");e.innerHTML=g(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[s,m,N]),r.getElementsByTagName("head")[0].appendChild(e)}function _(e,t){return I(e,t)}function I(e,t){let n=y(t);return H(e,n)}function H(e,t){let n=G(e);if(n[n.length-1].trim()===""&&n.pop(),n.length>1||t?.singleLine){let i="";for(let l=0,o=n.length;l<o;l++)i+=g('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',[O,c,m,N,a,l+ +!!t?.startFrom,n[l].length>0?n[l]:" "]);return g('<table class="{0}">{1}</table>',[s,i])}return e}function y(e){return e=e||{},{singleLine:R(e),startFrom:k(e)}}function R(e){return e?.singleLine?e.singleLine:!1}function k(e){let n=1;return isFinite(e?.startFrom??NaN)&&(n=e.startFrom),n}function G(e){return e.length===0?[]:e.split(M)}function g(e,t){return e.replace(/\{(\d+)\}/g,(n,i)=>t[i]!==null&&t[i]!==void 0?t[i]:n)}return _}var z=(()=>{let s=class s{constructor(){this.options=f(F)?.lineNumbersOptions,this.hljs=f(x),this.highlight=f(B),this.nativeElement=f(b).nativeElement,this.startFrom=E(this.options?.startFrom,{transform:j}),this.singleLine=E(this.options?.singleLine,{transform:A}),v(()=>{let a=this.hljs.hljs(),c=this.highlight.highlightResult();if(c?.value){if(a.lineNumbersBlock){let m=a.lineNumbersBlock(c.value,{startFrom:this.startFrom(),singleLine:this.singleLine()});this.nativeElement.innerHTML=m}this.nativeElement.firstElementChild?.tagName.toUpperCase()==="TABLE"?this.nativeElement.classList.add("hljs-line-numbers"):this.nativeElement.classList.remove("hljs-line-numbers")}})}};s.\u0275fac=function(c){return new(c||s)},s.\u0275dir=T({type:s,selectors:[["","nxtHighlight","","lineNumbers",""],["","nxtHighlightAuto","","lineNumbers",""]],inputs:{startFrom:[1,"startFrom"],singleLine:[1,"singleLine"]}});let r=s;return r})();export{J as a,z as b};
