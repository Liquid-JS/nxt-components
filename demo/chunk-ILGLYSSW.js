import{e as le,l as Ae,m as Re}from"./chunk-J4RJQ7CT.js";import{$ as me,$a as u,$b as Pe,Aa as Z,Eb as c,Fb as d,Gb as N,Hb as A,Ib as R,Kb as v,Nb as W,Nc as Se,Ob as g,Pc as Oe,Qb as s,Qc as Ve,Rc as Te,Sc as Ee,Tc as De,Uc as Fe,Yc as Ne,Za as B,Zb as re,_ as Ce,_b as x,ab as F,gb as ke,hc as S,ic as ye,jc as Me,la as fe,lb as xe,ma as _,mb as we,na as p,nb as Y,nc as se,oa as oe,rb as k,rc as Ie,sa as ve,wa as w,wb as be,yb as a}from"./chunk-O6WXYVOA.js";import{a as ue,b as ge}from"./chunk-2R6CW7ES.js";var Ke=(t,r,e)=>({visibility:t,width:r,height:e}),pe=t=>({backgroundColor:t}),ie=t=>({"color-picker__cursor--light":t}),Ue=(t,r)=>({top:t,left:r}),$e=t=>({"color-picker__add-selected--light":t}),de=t=>({left:t}),Qe=t=>({backgroundImage:t});function Je(t,r){t&1&&N(0,"div",21)}function qe(t,r){if(t&1){let e=v();c(0,"div",22),g("newValue",function(i){_(e);let o=s(2);return p(o.onColorChange(i))})("dragStart",function(){_(e);let i=s(2);return p(i.onDragStart("saturation-lightness"))})("dragEnd",function(){_(e);let i=s(2);return p(i.onDragEnd("saturation-lightness"))}),N(1,"div",23),d()}if(t&2){let e=s(2);a("rgX",1)("rgY",1)("ngStyle",S(5,pe,e.hueSliderColor||"")),u(),a("ngClass",S(7,ie,e.svSliderLight))("ngStyle",ye(9,Ue,((e.slider==null?null:e.slider.v)||0)*100+"%",((e.slider==null?null:e.slider.s)||0)*100+"%"))}}function et(t,r){if(t&1){let e=v();c(0,"button",24),g("click",function(){_(e);let i=s(2);return p(i.onAddPresetColor(i.selectedColor))}),oe(),c(1,"svg",25),N(2,"path",26)(3,"path",27),d()()}if(t&2){let e=s(2);a("ngClass",S(1,$e,e.alphaSliderLight))}}function tt(t,r){if(t&1){let e=v();c(0,"div",28),g("newValue",function(i){_(e);let o=s(2);return p(o.onHueChange(i))})("dragStart",function(){_(e);let i=s(2);return p(i.onDragStart("hue"))})("dragEnd",function(){_(e);let i=s(2);return p(i.onDragEnd("hue"))}),N(1,"div",29),d()}if(t&2){let e=s(2);a("rgX",1),u(),a("ngClass",S(3,ie,e.hueSliderLight))("ngStyle",S(5,de,((e.slider==null?null:e.slider.h)||0)*100+"%"))}}function it(t,r){if(t&1){let e=v();c(0,"div",30),g("newValue",function(i){_(e);let o=s(2);return p(o.onValueChange(i))})("dragStart",function(){_(e);let i=s(2);return p(i.onDragStart("value"))})("dragEnd",function(){_(e);let i=s(2);return p(i.onDragEnd("value"))}),N(1,"div",29),d()}if(t&2){let e=s(2);a("rgX",1),u(),a("ngClass",S(3,ie,e.valueSliderLight))("ngStyle",S(5,de,(1-((e.slider==null?null:e.slider.v)||0))*100+"%"))}}function nt(t,r){if(t&1){let e=v();c(0,"div",31),g("newValue",function(i){_(e);let o=s(2);return p(o.onAlphaChange(i))})("dragStart",function(){_(e);let i=s(2);return p(i.onDragStart("alpha"))})("dragEnd",function(){_(e);let i=s(2);return p(i.onDragEnd("alpha"))}),c(1,"div",32),N(2,"div",29),d()()}if(t&2){let e=s(2);a("rgX",1),u(),a("ngStyle",S(4,Qe,e.alphaSliderColor||"")),u(),a("ngClass",S(6,ie,e.alphaSliderLight))("ngStyle",S(8,de,((e.slider==null?null:e.slider.a)||0)*100+"%"))}}function ot(t,r){if(t&1){let e=v();c(0,"div",37)(1,"input",41),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onAlphaInput(i))}),d(),c(2,"span",39),x(3,"A"),d()()}if(t&2){let e=s(4);u(),a("rg",1)("value",e.formatAlpha(e.hslaText==null?null:e.hslaText.a))}}function rt(t,r){if(t&1){let e=v();A(0),c(1,"div",37)(2,"input",38),g("keyup.enter",function(i){_(e);let o=s(3);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(3);return p(o.onValueInput(i))}),d(),c(3,"span",39),x(4,"V"),d()(),k(5,ot,4,2,"div",40),R()}if(t&2){let e=s(3);u(2),a("rg",100)("value",e.hslaText==null||e.hslaText.l==null?null:e.hslaText.l.toFixed(0)),u(3),a("ngIf",e.alphaChannel!="disabled")}}function st(t,r){if(t&1){let e=v();c(0,"div",37)(1,"input",41),g("keyup.enter",function(i){_(e);let o=s(5);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(5);return p(o.onAlphaInput(i))}),d(),c(2,"span",39),x(3,"A"),d()()}if(t&2){let e=s(5);u(),a("rg",1)("value",e.formatAlpha(e.hslaText==null?null:e.hslaText.a))}}function lt(t,r){if(t&1){let e=v();A(0),c(1,"div",37)(2,"input",45),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onHueInput(i))}),d(),c(3,"span",39),x(4,"H"),d()(),c(5,"div",37)(6,"input",38),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onSaturationInput(i))}),d(),c(7,"span",39),x(8,"S"),d()(),c(9,"div",37)(10,"input",38),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onLightnessInput(i))}),d(),c(11,"span",39),x(12,"L"),d()(),k(13,st,4,2,"div",40),R()}if(t&2){let e=s(4);u(2),a("rg",360)("value",e.hslaText==null||e.hslaText.h==null?null:e.hslaText.h.toFixed(0)),u(4),a("rg",100)("value",e.hslaText==null||e.hslaText.s==null?null:e.hslaText.s.toFixed(0)),u(4),a("rg",100)("value",e.hslaText==null||e.hslaText.l==null?null:e.hslaText.l.toFixed(0)),u(3),a("ngIf",e.alphaChannel!="disabled")}}function at(t,r){if(t&1){let e=v();c(0,"div",37)(1,"input",41),g("keyup.enter",function(i){_(e);let o=s(5);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(5);return p(o.onAlphaInput(i))}),d(),c(2,"span",39),x(3,"A"),d()()}if(t&2){let e=s(5);u(),a("rg",1)("value",e.formatAlpha(e.hslaText==null?null:e.hslaText.a))}}function ct(t,r){if(t&1){let e=v();A(0),c(1,"div",37)(2,"input",46),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onRedInput(i))}),d(),c(3,"span",39),x(4,"R"),d()(),c(5,"div",37)(6,"input",46),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onGreenInput(i))}),d(),c(7,"span",39),x(8,"G"),d()(),c(9,"div",37)(10,"input",46),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onBlueInput(i))}),d(),c(11,"span",39),x(12,"B"),d()(),k(13,at,4,2,"div",40),R()}if(t&2){let e=s(4);u(2),a("rg",255)("value",e.rgbaText==null||e.rgbaText.r==null?null:e.rgbaText.r.toFixed(0)),u(4),a("rg",255)("value",e.rgbaText==null||e.rgbaText.g==null?null:e.rgbaText.g.toFixed(0)),u(4),a("rg",255)("value",e.rgbaText==null||e.rgbaText.b==null?null:e.rgbaText.b.toFixed(0)),u(3),a("ngIf",e.alphaChannel!="disabled")}}function _t(t,r){if(t&1){let e=v();c(0,"div",37)(1,"input",41),g("keyup.enter",function(i){_(e);let o=s(5);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(5);return p(o.onAlphaInput(i))}),d(),c(2,"span",39),x(3,"A"),d()()}if(t&2){let e=s(5);u(),a("rg",1)("value",e.formatAlpha(e.cmykText==null?null:e.cmykText.a))}}function pt(t,r){if(t&1){let e=v();A(0),c(1,"div",37)(2,"input",38),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onCyanInput(i))}),d(),c(3,"span",39),x(4,"C"),d()(),c(5,"div",37)(6,"input",38),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onMagentaInput(i))}),d(),c(7,"span",39),x(8,"M"),d()(),c(9,"div",37)(10,"input",38),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onYellowInput(i))}),d(),c(11,"span",39),x(12,"Y"),d()(),c(13,"div",37)(14,"input",38),g("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onBlackInput(i))}),d(),c(15,"span",39),x(16,"K"),d()(),k(17,_t,4,2,"div",40),R()}if(t&2){let e=s(4);u(2),a("rg",100)("value",e.cmykText==null||e.cmykText.c==null?null:e.cmykText.c.toFixed(0)),u(4),a("rg",100)("value",e.cmykText==null||e.cmykText.m==null?null:e.cmykText.m.toFixed(0)),u(4),a("rg",100)("value",e.cmykText==null||e.cmykText.y==null?null:e.cmykText.y.toFixed(0)),u(4),a("rg",100)("value",e.cmykText==null||e.cmykText.k==null?null:e.cmykText.k.toFixed(0)),u(3),a("ngIf",e.alphaChannel!="disabled")}}function dt(t,r){if(t&1){let e=v();c(0,"div",37)(1,"input",41),g("keyup.enter",function(i){_(e);let o=s(5);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(5);return p(o.onAlphaInput(i))}),d(),c(2,"span",39),x(3,"A"),d()()}if(t&2){let e=s(5);u(),a("rg",1)("value",e.formatAlpha(e.hexAlpha))}}function ht(t,r){if(t&1){let e=v();A(0),c(1,"div",37)(2,"input",47),g("blur",function(){_(e);let i=s(4);return p(i.onHexInput())})("keyup.enter",function(i){_(e);let o=s(4);return p(o.onAccept(i))})("newValue",function(i){_(e);let o=s(4);return p(o.onHexInput(i))}),d(),c(3,"span",39),x(4,"Hex"),d()(),k(5,dt,4,2,"div",40),R()}if(t&2){let e=s(4);u(2),a("value",e.hexText),u(3),a("ngIf",e.alphaChannel=="forced")}}function ut(t,r){if(t&1&&(A(0,42),k(1,lt,14,7,"ng-container",43)(2,ct,14,7,"ng-container",43)(3,pt,18,9,"ng-container",43)(4,ht,6,2,"ng-container",44),R()),t&2){let e=s(3);a("ngSwitch",e.format),u(),a("ngSwitchCase","hsla"),u(),a("ngSwitchCase","rgba"),u(),a("ngSwitchCase","cmyk")}}function gt(t,r){if(t&1){let e=v();c(0,"div",48)(1,"span",49),g("click",function(){_(e);let i=s(3);return p(i.onFormatToggle(1))}),d(),c(2,"span",49),g("click",function(){_(e);let i=s(3);return p(i.onFormatToggle(-1))}),d()()}}function Ct(t,r){if(t&1&&(c(0,"div",33)(1,"div",34),k(2,rt,6,3,"ng-container",35)(3,ut,5,4,"ng-template",null,0,se),d(),k(5,gt,3,0,"div",36),d()),t&2){let e=re(4),n=s(2);u(2),a("ngIf",n.mode==n.colorModeInternal.grayscale)("ngIfElse",e),u(3),a("ngIf",n.mode==n.colorModeInternal.color)}}function mt(t,r){t&1&&(A(0),W(1,2),R())}function ft(t,r){if(t&1&&x(0),t&2){let e=s(4);Pe(e.presetLabel)}}function vt(t,r){if(t&1&&(c(0,"div",54),k(1,mt,2,0,"ng-container",35)(2,ft,1,1,"ng-template",null,1,se),d()),t&2){let e=re(3),n=s(3);u(),a("ngIf",n.presetLabel===!0)("ngIfElse",e)}}function kt(t,r){if(t&1){let e=v();c(0,"button",62),g("click",function(){_(e);let i=s(2).$implicit,o=s(4);return p(o.onRemovePresetColor(i))}),oe(),c(1,"svg",25),N(2,"path",63)(3,"path",27),d()()}}function xt(t,r){if(t&1){let e=v();c(0,"div",59),g("click",function(){_(e);let i=s().$implicit,o=s(4);return p(o.setColorFromString(i))}),c(1,"div",60),k(2,kt,4,0,"button",61),d()()}if(t&2){let e=r.ngIf,n=s().$implicit,i=s(4);a("title",n),u(),a("ngStyle",S(3,pe,e||"")),u(),a("ngIf",i.presetColorsEditable)}}function wt(t,r){if(t&1&&(A(0),k(1,xt,3,5,"div",58),R()),t&2){let e=r.$implicit,n=s(4);u(),a("ngIf",n.stringToRgba(e))}}function bt(t,r){t&1&&N(0,"div",64)}function Pt(t,r){if(t&1&&(c(0,"div",55),k(1,wt,2,1,"ng-container",56)(2,bt,1,0,"div",57),d()),t&2){let e=s(3);u(),a("ngForOf",e.presetColors),u(),a("ngForOf",e.fill(50))}}function yt(t,r){if(t&1&&(A(0),N(1,"div",50),c(2,"div",51),k(3,vt,4,2,"div",52)(4,Pt,3,2,"div",53),d(),R()),t&2){let e=s(2);u(3),a("ngIf",e.presetLabel),u(),a("ngIf",e.presetColors==null?null:e.presetColors.length)}}function Mt(t,r){if(t&1){let e=v();c(0,"button",67),g("click",function(i){_(e);let o=s(3);return p(o.onCancel(i))}),W(1,3),d()}}function It(t,r){if(t&1){let e=v();c(0,"button",67),g("click",function(i){_(e);let o=s(3);return p(o.onAccept(i))}),W(1,4),d()}}function St(t,r){if(t&1&&(c(0,"div",65),k(1,Mt,2,0,"button",66)(2,It,2,0,"button",66),d()),t&2){let e=s(2);u(),a("ngIf",e.cancelButton),u(),a("ngIf",e.okButton)}}function Ot(t,r){if(t&1){let e=v();c(0,"div",6),g("click",function(i){return _(e),p(i.stopPropagation())}),k(1,Je,1,0,"div",7)(2,qe,2,12,"div",8),c(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12),k(7,et,4,3,"button",13),d()()(),c(8,"div",14),k(9,tt,2,7,"div",15)(10,it,2,7,"div",16)(11,nt,3,10,"div",17),d()(),k(12,Ct,6,3,"div",18)(13,yt,5,2,"ng-container",19)(14,St,3,2,"div",20),d()}if(t&2){let e=s();a("ngStyle",Me(11,Ke,e.show?"visible":"hidden",e.width||"",e.height||"")),u(),a("ngIf",e.dialogDisplay=="popup"),u(),a("ngIf",e.mode==e.colorModeInternal.color),u(4),a("ngStyle",S(15,pe,e.selectedColor||"")),u(),a("ngIf",e.presetColorsEditable&&!(e.maxPresetColors&&((e.presetColors==null?null:e.presetColors.length)||0)>=e.maxPresetColors)),u(2),a("ngIf",e.mode==e.colorModeInternal.color),u(),a("ngIf",e.mode==e.colorModeInternal.grayscale),u(),a("ngIf",e.alphaChannel!="disabled"),u(),a("ngIf",!e.disableInput&&(e.mode==e.colorModeInternal.color||e.mode==e.colorModeInternal.grayscale)),u(),a("ngIf",e.presetColors==null?null:e.presetColors.length),u(),a("ngIf",e.okButton||e.cancelButton)}}var I=class{constructor(r,e,n,i,o,l=!0){this.c=r,this.m=e,this.y=n,this.k=i,this.a=o,this.normalized=l}},V=class{constructor(r,e,n,i,o=!0){this.h=r,this.s=e,this.l=n,this.a=i,this.normalized=o}},y=class{constructor(r,e,n,i,o=!0){this.h=r,this.s=e,this.v=n,this.a=i,this.normalized=o}},m=class{constructor(r,e,n,i,o=!0){this.r=r,this.g=e,this.b=n,this.a=i,this.normalized=o}},b=function(t){return t.hex="hex",t.rgba="rgba",t.hsla="hsla",t.cmyk="cmyk",t}(b||{}),Vt=new Set([b.hsla,b.rgba,b.cmyk]),M=function(t){return t.auto="auto",t.hex="hex",t.rgba="rgba",t.hsla="hsla",t}(M||{}),P=function(t){return t.enabled="enabled",t.disabled="disabled",t.always="always",t.forced="forced",t}(P||{}),T=function(t){return t.auto="auto",t.top="top",t.left="left",t.right="right",t.bottom="bottom",t}(T||{}),O=function(t){return t.popup="popup",t.inline="inline",t}(O||{});function C(t,r,e){return Math.min(e,Math.max(t,r))}function K(t){t=Ge(t);let r=t.h,e=t.s,n=t.v,i=t.a;if(n==0)return new V(r,0,0,i,!0);if(e==0&&n==1)return new V(r,1,1,i,!0);{let o=n*(2-e)/2;return new V(r,n*e/(1-Math.abs(2*o-1)),o,i,!0)}}function J(t){t=Et(t);let r=Math.min(t.h,1),e=Math.min(t.s,1),n=Math.min(t.l,1),i=Math.min(t.a,1);if(n==0)return new y(r,0,0,i,!0);{let o=n+e*(1-Math.abs(2*n-1))/2;return new y(r,2*(o-n)/o,o,i,!0)}}function E(t){t=Ge(t);let r,e,n,i=t.h,o=t.s,l=t.v,h=t.a,f=Math.floor(i*6),H=i*6-f,D=l*(1-o),G=l*(1-H*o),ne=l*(1-(1-H)*o);switch(f%6){case 0:r=l,e=ne,n=D;break;case 1:r=G,e=l,n=D;break;case 2:r=D,e=l,n=ne;break;case 3:r=D,e=G,n=l;break;case 4:r=ne,e=D,n=l;break;case 5:r=l,e=D,n=G;break;default:r=0,e=0,n=0}return new m(r,e,n,h,!0)}function U(t){t=j(t);let r=1-Math.max(t.r,t.g,t.b);if(r==1)return new I(0,0,0,1,t.a,!0);{let e=(1-t.r-r)/(1-r),n=(1-t.g-r)/(1-r),i=(1-t.b-r)/(1-r);return new I(e,n,i,r,t.a,!0)}}function X(t){t=j(t);let r,e=Math.min(t.r,1),n=Math.min(t.g,1),i=Math.min(t.b,1),o=Math.min(t.a,1),l=Math.max(e,n,i),h=Math.min(e,n,i),f=l,H=l-h,D=l==0?0:H/l;if(l==h)r=0;else{switch(l){case e:r=(n-i)/H+(n<i?6:0);break;case n:r=(i-e)/H+2;break;case i:r=(e-n)/H+4;break;default:r=0}r/=6}return new y(r,D,f,o,!0)}function je(t,r){t=q(t);let e="#"+(1<<24|Math.round(t.r)<<16|Math.round(t.g)<<8|Math.round(t.b)).toString(16).substring(1);return r&&(e+=(256|C(Math.round(t.a*255),0,255)).toString(16).substring(1)),e}function ze(t){t=Tt(t);let r=(1-t.c)*(1-t.k),e=(1-t.m)*(1-t.k),n=(1-t.y)*(1-t.k);return new m(r,e,n,t.a,!0)}function Tt(t){return t.normalized?t:new I(C(t.c/100,0,1),C(t.m/100,0,1),C(t.y/100,0,1),C(t.k/100,0,1),C(t.a,0,1),!0)}function Xe(t){return t.normalized?new I(C(t.c*100,0,100),C(t.m*100,0,100),C(t.y*100,0,100),C(t.k*100,0,100),C(t.a,0,1),!1):t}function j(t){return t.normalized?t:new m(C(t.r/255,0,1),C(t.g/255,0,1),C(t.b/255,0,1),C(t.a,0,1),!0)}function q(t){return t.normalized?new m(C(t.r*255,0,255),C(t.g*255,0,255),C(t.b*255,0,255),C(t.a,0,1),!1):t}function Ge(t){return t.normalized?t:new y(C(t.h/360,0,1),C(t.s/100,0,1),C(t.v/100,0,1),C(t.a,0,1),!0)}function Et(t){return t.normalized?t:new V(C(t.h/360,0,1),C(t.s/100,0,1),C(t.l/100,0,1),C(t.a,0,1),!0)}function Ze(t){return t.normalized?new V(C(t.h*360,0,360),C(t.s*100,0,100),C(t.l*100,0,100),C(t.a,0,1),!1):t}function $(t="",r=!1){let e;t=(t||"").toLowerCase();let n=[{re:/(cmyk)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new I(parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4])/100,parseFloat(i[5])/100,isNaN(parseFloat(i[6]))?1:parseFloat(i[6]),!0)},{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new m(parseFloat(i[2])/255,parseFloat(i[3])/255,parseFloat(i[4])/255,isNaN(parseFloat(i[5]))?1:parseFloat(i[5]),!0)},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new V(parseFloat(i[2])/360,parseFloat(i[3])/100,parseFloat(i[4])/100,isNaN(parseFloat(i[5]))?1:parseFloat(i[5]),!0)}];r?n.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:i=>new m(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255,parseInt(i[4]||"FF",16)/255,!0)}):n.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:i=>new m(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255,1,!0)}),n.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:i=>new m(parseInt(i[1]+i[1],16)/255,parseInt(i[2]+i[2],16)/255,parseInt(i[3]+i[3],16)/255,1,!0)});for(let i in n)if(n.hasOwnProperty(i)){let o=n[i],l=o.re.exec(t),h=l&&o.parse(l);if(h)return h instanceof m?e=X(h):h instanceof V?e=J(h):h instanceof I?e=X(ze(h)):e=h,e}return e}function He(t="",r=!1){let e;t=(t||"").toLowerCase();let n=[{re:/(cmyk)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new I(parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4])/100,parseFloat(i[5])/100,isNaN(parseFloat(i[6]))?1:parseFloat(i[6]),!0)},{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new m(parseFloat(i[2])/255,parseFloat(i[3])/255,parseFloat(i[4])/255,isNaN(parseFloat(i[5]))?1:parseFloat(i[5]),!0)},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new V(parseFloat(i[2])/360,parseFloat(i[3])/100,parseFloat(i[4])/100,isNaN(parseFloat(i[5]))?1:parseFloat(i[5]),!0)}];r?n.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:i=>new m(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255,parseInt(i[4]||"FF",16)/255,!0)}):n.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:i=>new m(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255,1,!0)}),n.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:i=>new m(parseInt(i[1]+i[1],16)/255,parseInt(i[2]+i[2],16)/255,parseInt(i[3]+i[3],16)/255,1,!0)});for(let i in n)if(n.hasOwnProperty(i)){let o=n[i],l=o.re.exec(t),h=l&&o.parse(l);if(h)return h instanceof m?e=U(h):h instanceof y?e=U(E(h)):h instanceof V?e=U(E(J(h))):e=h,e}return e}function z(t,r,e){switch(r==M.auto&&(r=t.a<1?M.rgba:M.hex),r){case M.hsla:let n=Ze(K(t));return t.a<1||e==P.always?"hsla("+n.h.toFixed(0)+","+n.s.toFixed(0)+"%,"+n.l.toFixed(0)+"%,"+n.a.toFixed(2)+")":"hsl("+n.h.toFixed(0)+","+n.s.toFixed(0)+"%,"+n.l.toFixed(0)+"%)";case M.rgba:let i=q(E(t));return t.a<1||e==P.always?"rgba("+i.r.toFixed(0)+","+i.g.toFixed(0)+","+i.b.toFixed(0)+","+i.a.toFixed(2)+")":"rgb("+i.r.toFixed(0)+","+i.g.toFixed(0)+","+i.b.toFixed(0)+")";default:let o=e==P.always||e==P.forced;return je(q(E(t)),o)}}function Dt(t,r){return t=Xe(t),t.a<1||r==P.always?"cmyka("+t.c.toFixed(0)+","+t.m.toFixed(0)+","+t.y.toFixed(0)+","+t.k.toFixed(0)+","+t.a.toFixed(2)+")":"cmyk("+t.c.toFixed(0)+","+t.m.toFixed(0)+","+t.y.toFixed(0)+","+t.k.toFixed(0)+")"}function ee(t,r){t=j(t),r=j(r),Math.round(t.a*100)<100&&(t=he(t,r));let e=Be(t)+.05,n=Be(r)+.05;return Math.max(e,n)/Math.min(e,n)}function he(t,r){t=j(t),r=j(r);let e=Ft(t.a,r.a),n=ae(t.r,t.a,r.r,r.a,e),i=ae(t.g,t.a,r.g,r.a,e),o=ae(t.b,t.a,r.b,r.a,e);return new m(n,i,o,e,!0)}function Ft(t,r){return 1-(1-r)*(1-t)}function ae(t,r,e,n,i){return i==0?0:(t*r+e*n*(1-r))/i}function Be(t){t=j(t);let r=t.r;r=r<.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);let e=t.g;e=e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4);let n=t.b;return n=n<.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*r+.7152*e+.0722*n}var _e=new m(218,218,218,1,!1),Ye=new m(34,34,34,1,!1);function Q(t){let r=ee(_e,new m(t.r,t.g,t.b,1,t.normalized)),e=ee(Ye,new m(t.r,t.g,t.b,1,t.normalized));return r>e}function Nt(t){let r=he(t,_e),e=ee(_e,new m(r.r,r.g,r.b,1,r.normalized)),n=ee(Ye,new m(r.r,r.g,r.b,1,r.normalized));return e>n}var te=class{constructor(r,e,n,i){this.h=r,this.s=e,this.v=n,this.a=i}};var L=function(t){return t[t.color=0]="color",t[t.grayscale=1]="grayscale",t[t.presets=2]="presets",t}(L||{});function At(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":return L.color;case"2":case"G":case"GRAYSCALE":return L.grayscale;case"3":case"P":case"PRESETS":return L.presets;default:return L.color}}function Le(t){let r=((t||"auto")+"").trim().toLowerCase();if(r.match(/^\d+[a-z%]+$/)||r=="auto")return r;let e=parseInt(r,10);return Number.isNaN(e)?"auto":`${e}px`}function We(t){if(t.composedPath)return t.composedPath();let r=t;if(r.path)return r.path;let e=r.target;for(r.path=[];e.parentNode!==null;)r.path.push(e),e=e.parentNode;return r.path.push(document,window),r.path}var Rt=(()=>{class t{constructor(){}setActive(e){e&&e.dialogDisplay==O.popup&&(this.active&&this.active!=e&&this.active.closeDialog(),this.active=e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ht=(()=>{class t{constructor(){this.newValue=new w}inputChange(e){let n=((e?.target?.value||"")+"").trim();if(this.rg==null)this.newValue.emit(n);else{let i=parseFloat(n);this.newValue.emit({v:i,rg:this.rg})}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Y({type:t,selectors:[["","nxtText",""]],hostBindings:function(n,i){n&1&&g("input",function(l){return i.inputChange(l)})("change",function(l){return i.inputChange(l)})},inputs:{rg:"rg",text:[0,"nxtText","text"]},outputs:{newValue:"newValue"},standalone:!1})}}return t})(),Bt=(()=>{class t{constructor(e){this.elRef=e,this.isMoving=!1,this.dragEnd=new w,this.dragStart=new w,this.newValue=new w}onStart(e){e.stopPropagation(),e.preventDefault(),this.setCursor(e),this.isMoving=!0,this.dragStart.emit()}onMove(e){this.isMoving&&(e.stopPropagation(),e.preventDefault(),this.setCursor(e))}onStop(e){this.isMoving&&(e.stopPropagation(),e.preventDefault(),this.isMoving=!1,this.dragEnd.emit())}getX(e){let n=this.elRef.nativeElement.getBoundingClientRect();return("pageX"in e?e.pageX:e.touches[0].pageX)-n.left-window.scrollX}getY(e){let n=this.elRef.nativeElement.getBoundingClientRect();return("pageX"in e?e.pageY:e.touches[0].pageY)-n.top-window.scrollY}setCursor(e){let n=this.elRef.nativeElement.offsetWidth,i=this.elRef.nativeElement.offsetHeight,o=Math.max(0,Math.min(this.getX(e),n)),l=Math.max(0,Math.min(this.getY(e),i));this.rgX!=null&&this.rgY!=null?this.newValue.emit({s:o/n,v:1-l/i,rgX:this.rgX,rgY:this.rgY}):this.rgX==null&&this.rgY!=null?this.newValue.emit({v:l/i,rgY:this.rgY}):this.rgX!=null&&this.rgY==null&&this.newValue.emit({v:o/n,rgX:this.rgX})}static{this.\u0275fac=function(n){return new(n||t)(F(Z))}}static{this.\u0275dir=Y({type:t,selectors:[["","nxtSlider",""]],hostBindings:function(n,i){n&1&&g("mousedown",function(l){return i.onStart(l)})("touchstart",function(l){return i.onStart(l)})("mousemove",function(l){return i.onMove(l)},!1,B)("touchmove",function(l){return i.onMove(l)},!1,B)("mouseup",function(l){return i.onStop(l)},!1,B)("touchend",function(l){return i.onStop(l)},!1,B)},inputs:{rgX:"rgX",rgY:"rgY",slider:[0,"nxtSlider","slider"]},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"},standalone:!1})}}return t})(),ce=(()=>{class t{constructor(e,n,i){this.elRef=e,this.cdRef=n,this.service=i,this.colorModeInternal=L,this.cmykColor="",this.outputColor="",this.initialColor="",this.dialogInputFields=[b.hex,b.rgba,b.hsla,b.cmyk],this.show=!1,this.format=b.hex,this.selectedColor="",this.svSliderLight=!1,this.hueSliderLight=!1,this.valueSliderLight=!1,this.alphaSliderLight=!1,this.mode=L.color,this.cmykEnabled=!1,this.alphaChannel=P.enabled,this.outputFormat=M.auto,this.disableInput=!1,this.saveClickOutside=!1,this.closeClickOutside=!1,this.okButton=!1,this.cancelButton=!1,this.presetLabel=!1,this.presetColorsEditable=!1}onCancel(e){e.stopPropagation(),e.preventDefault(),this.initialColor&&this.setColorFromString(this.initialColor,!0),this.callbacks&&this.callbacks.colorSelectCanceled(),this.show&&this.dialogDisplay==O.popup&&this.closeColorPicker()}onAccept(e){e.stopPropagation(),e.preventDefault(),this.show&&this.dialogDisplay==O.popup&&(this.outputColor&&this.callbacks&&this.callbacks.colorSelected(this.outputColor),this.dialogDisplay==O.popup&&this.closeColorPicker())}onFocusChange(e){let n=new Set(We(e));this.ignoredElements?.find(o=>n.has(o))||(this.show&&this.dialogDisplay==O.popup?(this.saveClickOutside?this.outputColor&&this.callbacks&&this.callbacks.colorSelected(this.outputColor):(this.setColorFromString(this.initialColor,!1),this.callbacks&&(this.cmykEnabled&&this.callbacks.cmykChanged(this.cmykColor),this.callbacks.colorChanged(this.initialColor))),this.closeClickOutside&&this.closeColorPicker()):this.saveClickOutside&&this.outputColor&&this.callbacks&&this.callbacks.colorSelected(this.outputColor))}ngOnInit(){this.slider=new te(0,0,0,0),this.cmykEnabled?this.format=b.cmyk:this.outputFormat==M.rgba?this.format=b.rgba:this.outputFormat==M.hsla?this.format=b.hsla:this.format=b.hex,this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewChecked(){}openDialog(e,n=!0){this.service.setActive(this),this.setInitialColor(e),this.setColorFromString(e,n),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e){this.setInitialColor(e.color),this.mode=At(e.mode),this.callbacks=e.callbacks,this.disableInput=e.disableInput,this.cmykEnabled=e.cmykEnabled,this.alphaChannel=e.alphaChannel,this.outputFormat=e.outputFormat,this.dialogDisplay=e.dialogDisplay,this.ignoredElements=[...e.ignoredElements??[],this.elRef&&this.elRef.nativeElement,e.elementRef&&e.elementRef.nativeElement].filter(n=>!!n),this.saveClickOutside=e.saveClickOutside,this.closeClickOutside=e.closeClickOutside,this.width=Le(e.width),this.height=Le(e.height),this.okButton=e.okButton,this.cancelButton=e.cancelButton,this.fallbackColor=e.fallbackColor||"#fff",this.setPresetConfig(e.presetLabel,e.presetColors),this.maxPresetColors=e.maxPresetColors,this.presetColorsEditable=e.presetColorsEditable,e.outputFormat==M.hex&&e.alphaChannel!=P.always&&e.alphaChannel!=P.forced&&(this.alphaChannel=P.disabled)}setInitialColor(e){this.initialColor=e,this.setColorFromString(this.initialColor,!1,!0)}setPresetConfig(e,n){this.presetLabel=e,this.presetColors=n}setColorFromString(e,n=!0,i=!0){let o=$(e,!0),l=He(e,!0);!o&&!this.hsva&&!l&&!this.cmyk&&(o=$(this.fallbackColor,!0),l=He(this.fallbackColor,!0)),(o||l)&&(this.alphaChannel==P.disabled&&(o&&(o.a=1),l&&(l.a=1)),this.hsva=o,this.cmyk=l,this.sliderH=this.hsva?.h,this.updateColorPicker(n,i,l&&this.cmykEnabled))}stringToRgba(e){let n=$(e,!0);if(n)return z(n,M.rgba,P.enabled)}onDragEnd(e){this.callbacks&&this.callbacks.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.callbacks&&this.callbacks.sliderDragStart({slider:e,color:this.outputColor})}onFormatToggle(e){let n=this.dialogInputFields.length-(this.cmykEnabled?0:1),i=((this.dialogInputFields.indexOf(this.format)+e)%n+n)%n;this.format=this.dialogInputFields[i]}onColorChange(e){"rgX"in e&&"rgY"in e&&(this.hsva&&(this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY),this.updateColorPicker(),this.callbacks&&this.callbacks.sliderChanged({slider:"lightness",value:this.hsva?.v,color:this.outputColor}),this.callbacks&&this.callbacks.sliderChanged({slider:"saturation",value:this.hsva?.s,color:this.outputColor}))}onHueChange(e){"v"in e&&"rgX"in e&&(this.hsva&&(this.hsva.h=e.v/e.rgX),this.sliderH=this.hsva?.h,this.updateColorPicker(),this.callbacks&&this.callbacks.sliderChanged({slider:"hue",value:this.hsva?.h,color:this.outputColor}))}onValueChange(e){"v"in e&&"rgX"in e&&(this.hsva&&(this.hsva.v=e.v/e.rgX),this.updateColorPicker(),this.callbacks&&this.callbacks.sliderChanged({slider:"value",value:this.hsva?.v,color:this.outputColor}))}onAlphaChange(e){"v"in e&&"rgX"in e&&(this.hsva&&(this.hsva.a=e.v/e.rgX),this.updateColorPicker(),this.callbacks&&this.callbacks.sliderChanged({slider:"alpha",value:this.hsva?.a,color:this.outputColor}))}onHexInput(e){if(typeof e=="string"){e&&e[0]!="#"&&(e="#"+e);let i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi.test(e);i&&(e.length==4&&(e="#"+e.substring(1).split("").map(o=>o+o).join("")),e.length==7&&this.alphaChannel==P.forced&&(e+=((this.hsva?.a||0)*255).toString(16)),this.setColorFromString(e,!0,!1)),this.callbacks&&this.callbacks.inputChanged({input:"hex",valid:i,value:e,color:this.outputColor})}else this.updateColorPicker()}onRedInput(e){if(typeof e!="string"){let n=this.hsva?E(this.hsva):new m(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.r=e.v/e.rg,this.hsva=X(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"red",valid:i,value:n.r,color:this.outputColor})}}onBlueInput(e){if(typeof e!="string"){let n=this.hsva?E(this.hsva):new m(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.b=e.v/e.rg,this.hsva=X(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"blue",valid:i,value:n.b,color:this.outputColor})}}onGreenInput(e){if(typeof e!="string"){let n=this.hsva?E(this.hsva):new m(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.g=e.v/e.rg,this.hsva=X(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"green",valid:i,value:n.g,color:this.outputColor})}}onHueInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.hsva=this.hsva||new y(0,0,0,0,!0),n&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"hue",valid:n,value:this.hsva.h,color:this.outputColor})}}onValueInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.hsva=this.hsva||new y(0,0,0,0,!0),n&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"value",valid:n,value:this.hsva.v,color:this.outputColor})}}onAlphaInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.hsva=this.hsva||new y(0,0,0,0,!0),n&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"alpha",valid:n,value:this.hsva.a,color:this.outputColor})}}onLightnessInput(e){if(typeof e!="string"){let n=this.hsva?K(this.hsva):new V(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.l=e.v/e.rg,this.hsva=J(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"lightness",valid:i,value:n.l,color:this.outputColor})}}onSaturationInput(e){if(typeof e!="string"){let n=this.hsva?K(this.hsva):new V(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.s=e.v/e.rg,this.hsva=J(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"saturation",valid:i,value:n.s,color:this.outputColor})}}onCyanInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.cmyk=this.cmyk||new I(0,0,0,0,0,!0),n&&(this.cmyk.c=e.v/e.rg,this.updateColorPicker(!0,!0,!0)),this.callbacks&&this.callbacks.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}}onMagentaInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.cmyk=this.cmyk||new I(0,0,0,0,0,!0),n&&(this.cmyk.m=e.v/e.rg,this.updateColorPicker(!0,!0,!0)),this.callbacks&&this.callbacks.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}}onYellowInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.cmyk=this.cmyk||new I(0,0,0,0,0,!0),n&&(this.cmyk.y=e.v/e.rg,this.updateColorPicker(!0,!0,!0)),this.callbacks&&this.callbacks.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}}onBlackInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.cmyk=this.cmyk||new I(0,0,0,0,0,!0),n&&(this.cmyk.k=e.v/e.rg,this.updateColorPicker(!0,!0,!0)),this.callbacks&&this.callbacks.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}}onAddPresetColor(e){this.presetColors?.filter(n=>n==e).length||(this.presetColors=this.presetColors?.concat(e),this.callbacks&&this.callbacks.presetColorsChanged(this.presetColors))}onRemovePresetColor(e){this.presetColors=this.presetColors?.filter(n=>n!=e),this.callbacks&&this.callbacks.presetColorsChanged(this.presetColors)}openColorPicker(){this.show||(this.show=!0,this.callbacks&&this.callbacks.stateChanged(!0))}closeColorPicker(){this.show&&(this.show=!1,this.callbacks&&this.callbacks.stateChanged(!1),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,n=!0,i=!1){this.hsva=this.hsva||new y(0,0,0,0,!0),this.cmyk=this.cmyk||new I(0,0,0,0,0,!0),this.mode==L.grayscale&&(this.hsva.s=0);let o=this.outputColor,l=K(this.hsva);this.cmykEnabled&&(i?this.hsva=X(ze(this.cmyk)):this.cmyk=U(E(this.hsva)),this.sliderH=this.hsva.h);let h=new y(this.sliderH||this.hsva.h,1,1,1,!0),f=E(this.hsva);if(n){this.hslaText=Ze(l),this.rgbaText=q(f),this.cmykEnabled&&(this.cmykText=Xe(this.cmyk));let G=this.alphaChannel===P.always;this.hexText=je(f,G),this.hexAlpha=this.rgbaText.a}this.outputFormat==M.auto&&this.hsva.a<1&&!Vt.has(this.format)&&(this.format=this.hsva.a<1?b.rgba:b.hex);let H=new y(this.hsva.h,this.hsva.s,this.hsva.v,0,this.hsva.normalized),D=new y(this.hsva.h,this.hsva.s,this.hsva.v,1,this.hsva.normalized);this.hueSliderColor=z(h,"auto","disabled"),this.alphaSliderColor="linear-gradient(to right, "+z(H,"auto","forced")+" 0%, "+z(D,"auto","disabled")+" 100%)",this.svSliderLight=Q(f),this.hueSliderLight=Q(E(h)),this.valueSliderLight=Q(f),this.alphaSliderLight=Nt(f),this.outputColor=z(this.hsva,this.outputFormat,this.alphaChannel),this.selectedColor=z(this.hsva,M.rgba),this.format!==b.cmyk?this.cmykColor="":this.cmykColor=Dt(this.cmyk,this.alphaChannel),this.slider=new te(this.sliderH||this.hsva.h,this.hsva.s,1-this.hsva.v,this.hsva.a),e&&o!=this.outputColor&&this.callbacks&&(this.cmykEnabled&&this.callbacks.cmykChanged(this.cmykColor),this.callbacks.colorChanged(this.outputColor))}fill(e){return new Array(e).fill(1)}formatAlpha(e){return e?.toFixed(2).replace(/\.?0+$/,"")}static{this.\u0275fac=function(n){return new(n||t)(F(Z),F(Ie),F(Rt))}}static{this.\u0275cmp=xe({type:t,selectors:[["nxt-color-picker"]],hostBindings:function(n,i){n&1&&g("keyup.esc",function(l){return i.onCancel(l)},!1,B)("keyup.enter",function(l){return i.onAccept(l)},!1,B)("mousedown",function(l){return i.onFocusChange(l)},!1,B)("focusin",function(l){return i.onFocusChange(l)},!1,B)},standalone:!1,decls:1,vars:1,consts:()=>{let e;e=$localize`:@@nxt-color-picker.button.add-color:Add color to preset`;let n;n=$localize`:@@nxt-color-picker.preset-colors:Preset colors`;let i;i=$localize`:@@nxt-color-picker.button.remove-color:Remove Color`;let o;o=$localize`:@@nxt-color-picker.button.cancel:Cancel`;let l;return l=$localize`:@@nxt-color-picker.button.ok:OK`,[["formatSwitch",""],["stringLabel",""],n,o,l,["class","color-picker",3,"ngStyle","click",4,"ngIf"],[1,"color-picker",3,"click","ngStyle"],["class","color-picker__arrow",4,"ngIf"],["class","color-picker__sv","nxtSlider","",3,"rgX","rgY","ngStyle","newValue","dragStart","dragEnd",4,"ngIf"],[1,"color-picker__controls"],[1,"color-picker__selected"],[1,"color-picker__selected-color"],[3,"ngStyle"],["type","button","title",e,"class","color-picker__add-selected",3,"ngClass","click",4,"ngIf"],[1,"color-picker__hav"],["class","color-picker__slider color-picker__slider--hue","nxtSlider","",3,"rgX","newValue","dragStart","dragEnd",4,"ngIf"],["class","color-picker__slider color-picker__slider--value","nxtSlider","",3,"rgX","newValue","dragStart","dragEnd",4,"ngIf"],["class","color-picker__slider color-picker__slider--alpha","nxtSlider","",3,"rgX","newValue","dragStart","dragEnd",4,"ngIf"],["class","color-picker__inputs",4,"ngIf"],[4,"ngIf"],["class","color-picker__buttons",4,"ngIf"],[1,"color-picker__arrow"],["nxtSlider","",1,"color-picker__sv",3,"newValue","dragStart","dragEnd","rgX","rgY","ngStyle"],[1,"color-picker__cursor","color-picker__cursor--sv",3,"ngClass","ngStyle"],["type","button","title",e,1,"color-picker__add-selected",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],["d","M0 0h24v24H0z","fill","none"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--hue",3,"newValue","dragStart","dragEnd","rgX"],[1,"color-picker__cursor",3,"ngClass","ngStyle"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--value",3,"newValue","dragStart","dragEnd","rgX"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--alpha",3,"newValue","dragStart","dragEnd","rgX"],[1,"color-picker__slider--alpha-bg",3,"ngStyle"],[1,"color-picker__inputs"],[1,"color-picker__input-fields"],[4,"ngIf","ngIfElse"],["class","color-picker__input-type",4,"ngIf"],[1,"color-picker__input-field"],["type","number","pattern","[0-9]*","min","0","max","100","nxtText","",3,"keyup.enter","newValue","rg","value"],[1,"color-picker__input-field-label"],["class","color-picker__input-field",4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.01","nxtText","",3,"keyup.enter","newValue","rg","value"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","number","pattern","[0-9]*","min","0","max","360","nxtText","",3,"keyup.enter","newValue","rg","value"],["type","number","pattern","[0-9]*","min","0","max","255","nxtText","",3,"keyup.enter","newValue","rg","value"],["nxtText","",3,"blur","keyup.enter","newValue","value"],[1,"color-picker__input-type"],[1,"color-picker__input-type-arrow",3,"click"],[1,"color-picker__separator"],[1,"color-picker__preset"],["class","color-picker__preset-label",4,"ngIf"],["class","color-picker__preset-items",4,"ngIf"],[1,"color-picker__preset-label"],[1,"color-picker__preset-items"],[4,"ngFor","ngForOf"],["class","color-picker__preset-item",4,"ngFor","ngForOf"],["class","color-picker__preset-item",3,"title","click",4,"ngIf"],[1,"color-picker__preset-item",3,"click","title"],[1,"color-picker__preset-item-fill",3,"ngStyle"],["type","button","title",i,"class","color-picker__remove-selected",3,"click",4,"ngIf"],["type","button","title",i,1,"color-picker__remove-selected",3,"click"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],[1,"color-picker__preset-item"],[1,"color-picker__buttons"],["type","button",3,"click",4,"ngIf"],["type","button",3,"click"]]},template:function(n,i){n&1&&k(0,Ot,15,17,"div",5),n&2&&a("ngIf",i.show)},dependencies:[Se,Oe,Ve,Fe,Te,Ee,De,Ht,Bt],styles:[".color-picker[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;user-select:none;background-color:#fff;box-shadow:0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f,0 5px 5px -3px #0003;display:flex;flex-direction:column}.color-picker[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;font-size:12px}.color-picker[_ngcontent-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{height:0;width:0;border-style:solid;position:absolute;z-index:999999}.color-picker[_ngcontent-%COMP%]   .color-picker__cursor[_ngcontent-%COMP%]{cursor:pointer;position:absolute;border-radius:50%;width:16px;height:16px;border:#222222 solid 2px;margin:0 -8px;transition:border .2s linear}.color-picker[_ngcontent-%COMP%]   .color-picker__cursor.color-picker__cursor--sv[_ngcontent-%COMP%]{margin:-8px}.color-picker[_ngcontent-%COMP%]   .color-picker__cursor.color-picker__cursor--light[_ngcontent-%COMP%]{border-color:#dadada}.color-picker[_ngcontent-%COMP%]   .color-picker__sv[_ngcontent-%COMP%]{position:relative;direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-image:linear-gradient(to bottom,#0000,#000),linear-gradient(to right,#fff,#fff0);background-size:100% 100%}.color-picker[_ngcontent-%COMP%]   .color-picker__controls[_ngcontent-%COMP%]{display:flex;margin:8px;align-items:center}.color-picker[_ngcontent-%COMP%]   .color-picker__controls[_ngcontent-%COMP%]   .color-picker__selected[_ngcontent-%COMP%]{margin:4px;flex:48px 0 0}.color-picker[_ngcontent-%COMP%]   .color-picker__controls[_ngcontent-%COMP%]   .color-picker__hav[_ngcontent-%COMP%]{margin:-4px -4px -4px 0;flex:auto 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__selected-color[_ngcontent-%COMP%]{width:48px;height:48px;display:flex;align-items:stretch;justify-content:stretch;border-radius:50%;background-size:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cmVjdCBmaWxsPSIjQ0NDQ0NDIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgeT0iNTAiIGZpbGw9IiNDQ0NDQ0MiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIvPjxyZWN0IHk9IjUwIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIi8+PC9zdmc+);background-repeat:repeat;box-shadow:0 0 8px -2px #00000080}.color-picker[_ngcontent-%COMP%]   .color-picker__selected-color[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.color-picker[_ngcontent-%COMP%]   .color-picker__add-selected[_ngcontent-%COMP%]{background:none;border:none;padding:0;width:100%;margin:0;color:#222;transition:color .2s linear;display:flex;align-items:center;justify-content:center;height:100%}.color-picker[_ngcontent-%COMP%]   .color-picker__add-selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentcolor;width:24px;height:auto}.color-picker[_ngcontent-%COMP%]   .color-picker__add-selected.color-picker__add-selected--light[_ngcontent-%COMP%]{color:#dadada}.color-picker[_ngcontent-%COMP%]   .color-picker__hav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.color-picker[_ngcontent-%COMP%]   .color-picker__slider[_ngcontent-%COMP%]{width:100%;flex:100% 1 1;height:16px;margin:8px;position:relative}.color-picker[_ngcontent-%COMP%]   .color-picker__slider.color-picker__slider--hue[_ngcontent-%COMP%]{background-size:100% 100%;background-image:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}.color-picker[_ngcontent-%COMP%]   .color-picker__slider.color-picker__slider--value[_ngcontent-%COMP%]{background-size:100% 100%;background-image:linear-gradient(to right,#000,#fff)}.color-picker[_ngcontent-%COMP%]   .color-picker__slider.color-picker__slider--alpha[_ngcontent-%COMP%]{background-size:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cmVjdCBmaWxsPSIjQ0NDQ0NDIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgeT0iNTAiIGZpbGw9IiNDQ0NDQ0MiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIvPjxyZWN0IHk9IjUwIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIi8+PC9zdmc+);background-repeat:repeat}.color-picker[_ngcontent-%COMP%]   .color-picker__slider.color-picker__slider--alpha[_ngcontent-%COMP%]   .color-picker__slider--alpha-bg[_ngcontent-%COMP%]{position:absolute;inset:0}.color-picker[_ngcontent-%COMP%]   .color-picker__inputs[_ngcontent-%COMP%]{display:flex;margin:8px;align-items:flex-start}.color-picker[_ngcontent-%COMP%]   .color-picker__inputs[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]{flex:auto 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__inputs[_ngcontent-%COMP%]   .color-picker__input-type[_ngcontent-%COMP%]{flex:24px 0 0}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]{display:flex}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]{margin:4px;display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:center;flex:20% 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;font-size:12px;height:24px;appearance:none;flex:100% 1 1;padding:1px;border:#999 solid 1px;width:100%;background:none;min-width:0}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid{box-shadow:none}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{appearance:none;margin:0}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   .color-picker__input-field-label[_ngcontent-%COMP%]{flex:100% 1 1;display:block;text-align:center;margin-top:4px}.color-picker[_ngcontent-%COMP%]   .color-picker__input-type[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:4px;display:flex;flex-wrap:wrap;background-size:contain;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjUwIDE2IDMwIDQ0IDcwIDQ0ICIvPjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iNTAgODQgNzAgNTYgMzAgNTYgIi8+PC9zdmc+);background-repeat:no-repeat;background-position:center}.color-picker[_ngcontent-%COMP%]   .color-picker__input-type[_ngcontent-%COMP%]   .color-picker__input-type-arrow[_ngcontent-%COMP%]{display:block;cursor:pointer;flex:100% 1 1;width:100%;height:50%}.color-picker[_ngcontent-%COMP%]   .color-picker__separator[_ngcontent-%COMP%]{border-top:1px solid #999;margin-left:8px;margin-right:8px;flex:100% 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__preset[_ngcontent-%COMP%]{display:flex;margin:8px;align-items:center;flex-wrap:wrap}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-label[_ngcontent-%COMP%]{margin:4px;flex:100% 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-items[_ngcontent-%COMP%]{display:flex;flex:100% 1 1;flex-wrap:wrap;align-items:flex-start}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-items[_ngcontent-%COMP%]   .color-picker__preset-item[_ngcontent-%COMP%]{position:relative;flex:20px 1 1;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cmVjdCBmaWxsPSIjQ0NDQ0NDIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgeT0iNTAiIGZpbGw9IiNDQ0NDQ0MiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIvPjxyZWN0IHk9IjUwIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIi8+PC9zdmc+);background-size:100% 100%;margin:4px;border-radius:4px;border:1px solid #999;cursor:pointer}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-items[_ngcontent-%COMP%]   .color-picker__preset-item[_ngcontent-%COMP%]   .color-picker__preset-item-fill[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:100%;border-radius:3px}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-items[_ngcontent-%COMP%]   .color-picker__preset-item[_ngcontent-%COMP%]:empty{margin-top:0;margin-bottom:0;border-top:0;border-bottom:0}.color-picker[_ngcontent-%COMP%]   .color-picker__remove-selected[_ngcontent-%COMP%]{border:none;padding:0;margin:0;color:#222;transition:color .2s linear;align-items:center;justify-content:center;box-shadow:0 0 8px -2px #00000080;position:absolute;width:12px;height:12px;right:-6px;top:-6px;background:#fff;border-radius:50%;display:flex}.color-picker[_ngcontent-%COMP%]   .color-picker__remove-selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentcolor;width:100%;height:auto}.color-picker[_ngcontent-%COMP%]   .color-picker__buttons[_ngcontent-%COMP%]{display:flex;margin:0 8px 8px;align-items:center;flex-wrap:wrap;justify-content:flex-end}.color-picker[_ngcontent-%COMP%]   .color-picker__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:auto 0 0;margin:4px;color:var(--nxt-color-picker-button-color, inherit);background:var(--nxt-color-picker-button-background, #dadada);padding:var(--nxt-color-picker-button-padding, 4px 8px);border:var(--nxt-color-picker-button-border, none);border-radius:var(--nxt-color-picker-button-border-radius, 4px);font-size:var(--nxt-color-picker-button-font-size, inherit);font-weight:var(--nxt-color-picker-button-font-weight, inherit)}.color-picker__arrow--top[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%], .color-picker__arrow--top   [_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-bottom:16px}.color-picker__arrow--top[_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%], .color-picker__arrow--top   [_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{border-width:12px 6px;border-color:#999 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);left:12px;bottom:-24px}.color-picker__arrow--left[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%], .color-picker__arrow--left   [_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-right:16px}.color-picker__arrow--left[_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%], .color-picker__arrow--left   [_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{border-width:6px 12px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #999;top:12px;left:230px}.color-picker__arrow--right[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%], .color-picker__arrow--right   [_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-left:16px}.color-picker__arrow--right[_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%], .color-picker__arrow--right   [_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{border-width:6px 12px;border-color:rgba(0,0,0,0) #999 rgba(0,0,0,0) rgba(0,0,0,0);top:12px;left:-24px}.color-picker__arrow--bottom[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%], .color-picker__arrow--bottom   [_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-top:16px}.color-picker__arrow--bottom[_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%], .color-picker__arrow--bottom   [_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{border-width:12px 6px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #999 rgba(0,0,0,0);top:-24px;left:12px}"]})}}return t})(),ti=(()=>{class t{get resIgnoredElements(){return(Array.isArray(this.ignoredElements)?this.ignoredElements:[this.ignoredElements]).filter(n=>!!n)}constructor(e,n,i,o,l){this.injector=e,this.appRef=n,this.vcRef=i,this.elRef=o,this.overlay=l,this.dialogCreated=!1,this.ignoreChanges=!1,this._callbacks={stateChanged:h=>{this.toggleChange.emit(h),h?this.open.emit(this.nxtColor):this.close.emit(this.nxtColor)},cmykChanged:(h,f=!0)=>{this.ignoreChanges=f,this.cmykColorChange.emit(h)},colorChanged:(h,f=!0)=>{this.ignoreChanges=f,this.nxtColorChange.emit(h)},colorSelectCanceled:()=>{this.colorSelectCancel.emit()},colorSelected:h=>{this.colorSelect.emit(h)},inputChanged:h=>{this.inputChange.emit(h)},sliderDragStart:h=>{this.sliderDragStart.emit(h)},sliderChanged:h=>{this.sliderChange.emit(h)},sliderDragEnd:h=>{this.sliderDragEnd.emit(h)},presetColorsChanged:h=>{this.presetColorsChange.emit(h)}},this.width="230px",this.height="auto",this.toggle=!1,this.disabled=!1,this.mode="color",this.cmykEnabled=!1,this.outputFormat=M.auto,this.alphaChannel=P.enabled,this.position=T.auto,this.positionOffset=0,this.presetLabel=!0,this.disableInput=!1,this.dialogDisplay=O.popup,this.saveClickOutside=!0,this.closeClickOutside=!0,this.okButton=!1,this.cancelButton=!1,this.presetColorsEditable=!1,this.useRootViewContainer=!1,this.open=new w(!0),this.close=new w(!0),this.inputChange=new w(!0),this.toggleChange=new w(!0),this.sliderDragStart=new w(!0),this.sliderChange=new w(!0),this.sliderDragEnd=new w(!0),this.colorSelect=new w(!0),this.colorSelectCancel=new w(!0),this.nxtColorChange=new w(!1),this.cmykColorChange=new w(!0),this.presetColorsChange=new w(!0)}handleOpen(e){let n=new Set(We(e)),i=this.resIgnoredElements.find(o=>n.has(o));!this.disabled&&!i&&this.openDialog()}handleInput(e){let n=((e?.target?.value||"")+"").trim();this.dialog?this.dialog.setColorFromString(n,!0):(this.nxtColor=n,this.nxtColorChange.emit(this.nxtColor))}ngOnDestroy(){this.dispose()}ngOnChanges(e){e.toggle&&!this.disabled&&(e.toggle.currentValue?this.openDialog():this.closeDialog()),e.nxtColor&&(this.dialog&&!this.ignoreChanges&&(this.dialogDisplay==O.inline&&this.dialog.setInitialColor(e.nxtColor.currentValue),this.dialog.setColorFromString(e.nxtColor.currentValue,!1),this.useRootViewContainer&&this.dialogDisplay!=O.inline&&this.cmpRef?.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.presetLabel||e.presetColors)&&this.dialog&&this.dialog.setPresetConfig(this.presetLabel,this.presetColors),e.dialogDisplay&&(this.dispose(),this.create()),(e.position||e.positionOffset)&&this.dialogDisplay==O.popup&&this.overlayRef&&this.overlayRef.updatePositionStrategy(this.overlay.position().flexibleConnectedTo(this.elRef).withPositions(this.getPositions(this.positionOffset)))}openDialog(){this.dialogCreated?this.dialog&&(this.overlayRef&&!this.overlayRef.hasAttached()&&(this.cmpRef=this.overlayRef.attach(new le(ce,null,this.injector)),this.dialog=this.cmpRef.instance,this.setupDialog()),this.dialog.openDialog(this.nxtColor)):this.create()}closeDialog(){this.dialog&&this.dialogDisplay==O.popup&&this.dialog.closeDialog()}textColorMode(e=new m(1,1,1,1,!0),n=this.dialog?.rgbaText){typeof e=="string"&&(e=E($(e)??new y(1,1,1,1,!0)));let i=he(n||e,new m(e.r,e.g,e.b,1,e.normalized));return Q(i)?"light":"dark"}dispose(){this.cmpRef&&this.cmpRef.destroy(),this.overlayRef&&this.overlayRef.dispose(),this.cmpRef=void 0,this.overlayRef=void 0,this.dialogCreated=!1}create(){let e=this.vcRef;if(this.dialogCreated=!0,this.useRootViewContainer&&this.dialogDisplay!=O.inline){let n=this.appRef.componentTypes[0],i=this.injector.get(n);e=i.vcRef||i.viewContainerRef||this.vcRef,e==this.vcRef&&console.warn("You are using useRootViewContainer, but the root component is not exposing viewContainerRef! Please expose it by adding 'vcRef: ViewContainerRef' to the constructor.")}if(this.dialogDisplay!=O.inline){let n=this.overlay.position().flexibleConnectedTo(this.elRef).withFlexibleDimensions(!1).withPush(!1).withPositions(this.getPositions(this.positionOffset));this.overlayRef=this.overlay.create({positionStrategy:n,scrollStrategy:this.overlay.scrollStrategies.reposition({autoClose:!0})}),this.cmpRef=this.overlayRef.attach(new le(ce,null,this.injector))}else this.cmpRef=e.createComponent(ce,{injector:this.injector,index:0});this.dialog=this.cmpRef.instance,this.setupDialog(),this.vcRef!=e&&this.cmpRef.changeDetectorRef.detectChanges()}setupDialog(){this.dialog?.setupDialog(ge(ue({},this),{callbacks:this._callbacks,elementRef:this.elRef,color:this.nxtColor}))}getPositions(e=0){let n=[],i=Array.isArray(this.position)?this.position:[this.position||T.auto],o=this.elRef.nativeElement.getBoundingClientRect(),l={[T.right]:{originX:"end",originY:"top",overlayX:"start",overlayY:"top",panelClass:"color-picker__arrow--right",offsetX:o.width*e},[T.left]:{originX:"start",originY:"top",overlayX:"end",overlayY:"top",panelClass:"color-picker__arrow--left",offsetX:-o.width*e},[T.top]:{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"color-picker__arrow--top",offsetY:-o.height*e},[T.bottom]:{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",panelClass:"color-picker__arrow--bottom",offsetY:o.height*e}},h=new Set;return i.forEach(f=>{!h.has(f)&&f in l&&(h.add(f),n.push(l[f]))}),i.find(f=>f==T.auto)&&[T.right,T.top,T.bottom,T.left].forEach(f=>{!h.has(f)&&f in l&&(h.add(f),n.push(l[f]))}),n}static{this.\u0275fac=function(n){return new(n||t)(F(ve),F(be),F(ke),F(Z),F(Ae))}}static{this.\u0275dir=Y({type:t,selectors:[["","nxtColor",""]],hostBindings:function(n,i){n&1&&g("focus",function(l){return i.handleOpen(l)})("click",function(l){return i.handleOpen(l)})("input",function(l){return i.handleInput(l)})("change",function(l){return i.handleInput(l)})},inputs:{nxtColor:"nxtColor",width:"width",height:"height",toggle:"toggle",disabled:"disabled",mode:"mode",cmykEnabled:"cmykEnabled",outputFormat:"outputFormat",alphaChannel:"alphaChannel",fallbackColor:"fallbackColor",position:"position",positionOffset:"positionOffset",presetLabel:"presetLabel",presetColors:"presetColors",disableInput:"disableInput",dialogDisplay:"dialogDisplay",ignoredElements:"ignoredElements",saveClickOutside:"saveClickOutside",closeClickOutside:"closeClickOutside",okButton:"okButton",cancelButton:"cancelButton",presetColorsEditable:"presetColorsEditable",maxPresetColors:"maxPresetColors",useRootViewContainer:"useRootViewContainer"},outputs:{open:"open",close:"close",inputChange:"inputChange",toggleChange:"toggleChange",sliderDragStart:"sliderDragStart",sliderChange:"sliderChange",sliderDragEnd:"sliderDragEnd",colorSelect:"colorSelect",colorSelectCancel:"colorSelectCancel",nxtColorChange:"nxtColorChange",cmykColorChange:"cmykColorChange",presetColorsChange:"presetColorsChange"},exportAs:["nxtColorPicker"],standalone:!1,features:[fe]})}}return t})(),ii=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=we({type:t})}static{this.\u0275inj=me({imports:[Ne,Re]})}}return t})();export{I as a,$ as b,He as c,z as d,Dt as e,ti as f,ii as g};
