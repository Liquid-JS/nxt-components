import{i as U}from"./chunk-5CCRMC6C.js";import{$ as S,Na as C,Tb as j,V as y,Y as m,Z as D,ba as a,ca as R,cc as I,eb as P,fb as g,hb as w,l as x,la as A,ma as v,oc as H,pa as h,pc as T,ra as b,rc as k,sc as c,ta as L,va as _,zc as F}from"./chunk-QI4V3FBZ.js";import{i as o}from"./chunk-FBFWB55K.js";function G(n,e){let t=!e?.manualCleanup?e?.injector?.get(v)??a(v):null,i=z(e?.equal),r;e?.requireSync?r=h({kind:0},{equal:i}):r=h({kind:1,value:e?.initialValue},{equal:i});let d,f=n.subscribe({next:l=>r.set({kind:1,value:l}),error:l=>{r.set({kind:2,error:l}),d?.()},complete:()=>{d?.()}});if(e?.requireSync&&r().kind===0)throw new y(601,!1);return d=t?.onDestroy(f.unsubscribe.bind(f)),H(()=>{let l=r();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new y(601,!1)}},{equal:e?.equal})}function z(n=Object.is){return(e,s)=>e.kind===1&&s.kind===1&&n(e.value,s.value)}var $=new S("NXT_HIGHLIGHT_OPTIONS");function we(n){return R([{provide:$,useValue:n}])}var u=function(n){return n.FULL_WITH_CORE_LIBRARY_IMPORTS="The full library and the core library were imported, only one of them should be imported!",n.FULL_WITH_LANGUAGE_IMPORTS="The highlighting languages were imported they are not needed!",n.CORE_WITHOUT_LANGUAGE_IMPORTS="The highlighting languages were not imported!",n.LANGUAGE_WITHOUT_CORE_IMPORTS="The core library was not imported!",n.NO_FULL_AND_NO_CORE_IMPORTS="Highlight.js library was not imported!",n}(u||{}),V=/\r\n|\r|\n/g,q=(n={})=>{let e={children:[]};return Object.assign(e,n),e},M=class n{constructor(){this.rootNode=q(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let s=q({scope:e});this.add(s),this.stack.push(s)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,s){return typeof s=="string"?e.addText(s):s.children&&(e.openNode(s),s.children.forEach(t=>this._walk(e,t)),e.closeNode(s)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(s=>typeof s=="string")?e.children=[e.children.join("")]:e.children.forEach(s=>{n._collapse(s)}))}},O=class extends M{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,s){let t=e.root;s&&(t.scope=`language:${s}`),this.add(t)}toHTML(){return new N(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}},B="</span>",W=n=>!!n.scope,X=(n,{prefix:e})=>{if(n.startsWith("language:"))return n.replace("language:","language-");if(n.includes(".")){let s=n.split(".");return[`${e}${s.shift()}`,...s.map((t,i)=>`${t}${"_".repeat(i+1)}`)].join(" ")}return`${e}${n}`},N=class{constructor(e,s){this.buffer="",this.classPrefix=s.classPrefix,this.openStack=[],e.walk(this)}addText(e){let s=e.split(V).map(Y),t=new Array(this.openStack.length).fill(B).join("")+`
`+this.openStack.join("");this.buffer+=s.join(t)}openNode(e){if(!W(e))return;let s=X(e.scope,{prefix:this.classPrefix});this.span(s)}closeNode(e){W(e)&&(this.buffer+=B,this.openStack.pop())}value(){return this.buffer}span(e){let s=`<span class="${e}">`;this.buffer+=s,this.openStack.push(s)}};function Y(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}var J=(()=>{let e=class e{constructor(){this.document=a(A),this.options=a($,{optional:!0}),this.pendingTasks=a(b),this._t=this.pendingTasks.add(),this.ready=this.loadLibrary().then(t=>o(this,null,function*(){if(this.options?.lineNumbersLoader){let i=yield this.options.lineNumbersLoader();t.lineNumbersBlock=i.activateLineNumbers(this.document)}return t.configure({__emitter:O}),this.options?.highlightOptions&&t.configure(this.options.highlightOptions),t})).finally(this._t),this.options?.themePath&&this.loadTheme(this.options.themePath)}loadLibrary(){return o(this,null,function*(){if(this.options){if(this.options.fullLibraryLoader&&this.options.coreLibraryLoader)throw new Error(u.FULL_WITH_CORE_LIBRARY_IMPORTS);if(this.options.fullLibraryLoader&&this.options.languages)throw new Error(u.FULL_WITH_LANGUAGE_IMPORTS);if(this.options.coreLibraryLoader&&!this.options.languages)throw new Error(u.CORE_WITHOUT_LANGUAGE_IMPORTS);if(!this.options.coreLibraryLoader&&this.options.languages)throw new Error(u.LANGUAGE_WITHOUT_CORE_IMPORTS);if(this.options.fullLibraryLoader)return this.options.fullLibraryLoader();if(this.options.coreLibraryLoader&&this.options.languages&&Object.keys(this.options.languages).length)return this.options.coreLibraryLoader().then(t=>this.loadLanguages(t))}throw new Error(u.NO_FULL_AND_NO_CORE_IMPORTS)})}loadLanguages(t){return o(this,null,function*(){return yield Promise.all(Object.entries(this.options?.languages||{}).map(([i,r])=>r().then(d=>t.registerLanguage(i,d)))),t})}setTheme(t){this.themeLinkElement?this.themeLinkElement.href=t:this.loadTheme(t)}loadTheme(t){this.themeLinkElement=this.document.createElement("link"),this.themeLinkElement.href=t,this.themeLinkElement.type="text/css",this.themeLinkElement.rel="stylesheet",this.themeLinkElement.media="screen,print",this.document.head.appendChild(this.themeLinkElement)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),K=(()=>{let e=class e{constructor(){this.loader=a(J),this.hljs=G(x(this.loader.ready))}highlight(t,i){return o(this,null,function*(){return(yield this.loader.ready).highlight(t,i)})}highlightAuto(t,i){return o(this,null,function*(){return(yield this.loader.ready).highlightAuto(t,i)})}highlightElement(t){return o(this,null,function*(){(yield this.loader.ready).highlightElement(t)})}highlightAll(){return o(this,null,function*(){(yield this.loader.ready).highlightAll()})}registerLanguage(t,i){return o(this,null,function*(){(yield this.loader.ready).registerLanguage(t,i)})}unregisterLanguage(t){return o(this,null,function*(){(yield this.loader.ready).unregisterLanguage(t)})}registerAliases(r,d){return o(this,arguments,function*(t,{languageName:i}){(yield this.loader.ready).registerAliases(t,{languageName:i})})}listLanguages(){return o(this,null,function*(){return(yield this.loader.ready).listLanguages()})}getLanguage(t){return o(this,null,function*(){return(yield this.loader.ready).getLanguage(t)})}safeMode(){return o(this,null,function*(){(yield this.loader.ready).safeMode()})}debugMode(){return o(this,null,function*(){(yield this.loader.ready).debugMode()})}lineNumbersBlock(t,i){return o(this,null,function*(){let r=yield this.loader.ready;r.lineNumbersBlock&&r.lineNumbersBlock(t,i)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),E;function Q(){if(!E)try{E=window?.trustedTypes?.createPolicy("nxt-highlightjs",{createHTML:n=>n})}catch{}return E}function Z(n){return Q()?.createHTML(n)||n}var p=(()=>{let e=class e{constructor(){this.hljs=a(K),this.nativeElement=a(_).nativeElement,this.sanitizer=a(U),T(()=>{let t=this.code();if(t){let i=this.highlightElement(t);i&&(this.setInnerHTML(i?.value??void 0),this.highlightResult.set(i),this.highlighted.emit(i))}else this.setTextContent("")})}setTextContent(t){this.nativeElement.textContent=t}setInnerHTML(t){this.nativeElement.innerHTML=Z(this.sanitizer.sanitize(C.HTML,t||null)||"")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=g({type:e});let n=e;return n})(),je=(()=>{let e=class e extends p{constructor(){super(...arguments),this.code=c(void 0,{alias:"nxtHighlightAuto"}),this.highlightResult=h(void 0),this.languages=c(),this.highlighted=k()}highlightElement(t){return this.hljs.hljs()?.highlightAuto(t,this.languages())}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=L(e)))(r||e)}})(),e.\u0275dir=g({type:e,selectors:[["","nxtHighlightAuto",""]],hostVars:2,hostBindings:function(i,r){i&2&&j("hljs",!0)},inputs:{code:[1,"nxtHighlightAuto","code"],languages:[1,"languages"]},outputs:{highlighted:"highlighted"},features:[I([{provide:p,useExisting:e}]),w]});let n=e;return n})(),Ie=(()=>{let e=class e extends p{constructor(){super(...arguments),this.code=c(void 0,{alias:"nxtHighlight"}),this.highlightResult=h(void 0),this.language=c.required(),this.ignoreIllegals=c(void 0,{transform:F}),this.highlighted=k()}highlightElement(t){return this.hljs.hljs()?.highlight(t,{language:this.language(),ignoreIllegals:this.ignoreIllegals()})}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=L(e)))(r||e)}})(),e.\u0275dir=g({type:e,selectors:[["","nxtHighlight",""]],hostVars:2,hostBindings:function(i,r){i&2&&j("hljs",!0)},inputs:{code:[1,"nxtHighlight","code"],language:[1,"language"],ignoreIllegals:[1,"ignoreIllegals"]},outputs:{highlighted:"highlighted"},features:[I([{provide:p,useExisting:e}]),w]});let n=e;return n})(),Te=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=D({});let n=e;return n})();export{$ as a,we as b,J as c,K as d,p as e,je as f,Ie as g,Te as h};
