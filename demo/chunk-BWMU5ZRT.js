import{f as ce,l as Te}from"./chunk-A6XGMI4Q.js";import{$ as B,Ab as re,Bb as le,Cb as ae,Db as x,Dc as Ie,Eb as _,Fb as d,Gb as A,Hc as M,Ic as g,Kb as ve,Lb as be,Nb as b,Sb as K,Tb as h,Ua as H,Va as p,W as ge,Wb as l,ea as s,ec as R,fa as c,fb as ke,fc as X,ga as oe,gc as se,ia as me,ic as P,kb as xe,kc as Pe,mb as W,ua as fe,uc as Me,vb as we,vc as ye,xa as Y,xb as f,yb as k}from"./chunk-HAUTYPWP.js";import{a as he,b as ue}from"./chunk-FBFWB55K.js";var Re=(t,r,e)=>({visibility:t,width:r,height:e}),Le=(t,r)=>({top:t,left:r});function ze(t,r){t&1&&A(0,"div",5)}function Xe(t,r){if(t&1){let e=b();_(0,"div",17),h("newValue",function(i){s(e);let o=l(2);return c(o.onColorChange(i))})("dragStart",function(){s(e);let i=l(2);return c(i.onDragStart("saturation-lightness"))})("dragEnd",function(){s(e);let i=l(2);return c(i.onDragEnd("saturation-lightness"))}),A(1,"div",18),d()}if(t&2){let e=l(2);R("background-color",e.hueSliderColor||""),x("rgX",1)("rgY",1),p(),se(Me(8,Le,((e.slider==null?null:e.slider.v)||0)*100+"%",((e.slider==null?null:e.slider.s)||0)*100+"%")),X("color-picker__cursor--light",e.svSliderLight)}}function je(t,r){if(t&1){let e=b();_(0,"button",19),h("click",function(){s(e);let i=l(2);return c(i.onAddPresetColor(i.selectedColor))}),oe(),_(1,"svg",20),A(2,"path",21)(3,"path",22),d()()}if(t&2){let e=l(2);X("color-picker__add-selected--light",e.alphaSliderLight)}}function Ge(t,r){if(t&1){let e=b();_(0,"div",23),h("newValue",function(i){s(e);let o=l(2);return c(o.onHueChange(i))})("dragStart",function(){s(e);let i=l(2);return c(i.onDragStart("hue"))})("dragEnd",function(){s(e);let i=l(2);return c(i.onDragEnd("hue"))}),A(1,"div",24),d()}if(t&2){let e=l(2);x("rgX",1),p(),R("left",((e.slider==null?null:e.slider.h)||0)*100+"%"),X("color-picker__cursor--light",e.hueSliderLight)}}function Ze(t,r){if(t&1){let e=b();_(0,"div",25),h("newValue",function(i){s(e);let o=l(2);return c(o.onValueChange(i))})("dragStart",function(){s(e);let i=l(2);return c(i.onDragStart("value"))})("dragEnd",function(){s(e);let i=l(2);return c(i.onDragEnd("value"))}),A(1,"div",24),d()}if(t&2){let e=l(2);x("rgX",1),p(),R("left",(1-((e.slider==null?null:e.slider.v)||0))*100+"%"),X("color-picker__cursor--light",e.valueSliderLight)}}function Ye(t,r){if(t&1){let e=b();_(0,"div",26),h("newValue",function(i){s(e);let o=l(2);return c(o.onAlphaChange(i))})("dragStart",function(){s(e);let i=l(2);return c(i.onDragStart("alpha"))})("dragEnd",function(){s(e);let i=l(2);return c(i.onDragEnd("alpha"))}),_(1,"div",27),A(2,"div",24),d()()}if(t&2){let e=l(2);x("rgX",1),p(),R("background-image",e.alphaSliderColor||""),p(),R("left",((e.slider==null?null:e.slider.a)||0)*100+"%"),X("color-picker__cursor--light",e.alphaSliderLight)}}function We(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",33),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onAlphaInput(i))}),d(),_(2,"span",32),P(3,"A"),d()()}if(t&2){let e=l(4);p(),x("rg",1)("value",e.formatAlpha(e.hslaText==null?null:e.hslaText.a))}}function Ke(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",31),h("keyup.enter",function(i){s(e);let o=l(3);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(3);return c(o.onValueInput(i))}),d(),_(2,"span",32),P(3,"V"),d()(),f(4,We,4,2,"div",30)}if(t&2){let e=l(3);p(),x("rg",100)("value",e.hslaText==null||e.hslaText.l==null?null:e.hslaText.l.toFixed(0)),p(3),k(e.alphaChannel!="disabled"?4:-1)}}function $e(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",33),h("keyup.enter",function(i){s(e);let o=l(5);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(5);return c(o.onAlphaInput(i))}),d(),_(2,"span",32),P(3,"A"),d()()}if(t&2){let e=l(5);p(),x("rg",1)("value",e.formatAlpha(e.hslaText==null?null:e.hslaText.a))}}function Ue(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",34),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onHueInput(i))}),d(),_(2,"span",32),P(3,"H"),d()(),_(4,"div",30)(5,"input",31),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onSaturationInput(i))}),d(),_(6,"span",32),P(7,"S"),d()(),_(8,"div",30)(9,"input",31),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onLightnessInput(i))}),d(),_(10,"span",32),P(11,"L"),d()(),f(12,$e,4,2,"div",30)}if(t&2){let e=l(4);p(),x("rg",360)("value",e.hslaText==null||e.hslaText.h==null?null:e.hslaText.h.toFixed(0)),p(4),x("rg",100)("value",e.hslaText==null||e.hslaText.s==null?null:e.hslaText.s.toFixed(0)),p(4),x("rg",100)("value",e.hslaText==null||e.hslaText.l==null?null:e.hslaText.l.toFixed(0)),p(3),k(e.alphaChannel!="disabled"?12:-1)}}function Qe(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",33),h("keyup.enter",function(i){s(e);let o=l(5);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(5);return c(o.onAlphaInput(i))}),d(),_(2,"span",32),P(3,"A"),d()()}if(t&2){let e=l(5);p(),x("rg",1)("value",e.formatAlpha(e.hslaText==null?null:e.hslaText.a))}}function Je(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",35),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onRedInput(i))}),d(),_(2,"span",32),P(3,"R"),d()(),_(4,"div",30)(5,"input",35),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onGreenInput(i))}),d(),_(6,"span",32),P(7,"G"),d()(),_(8,"div",30)(9,"input",35),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onBlueInput(i))}),d(),_(10,"span",32),P(11,"B"),d()(),f(12,Qe,4,2,"div",30)}if(t&2){let e=l(4);p(),x("rg",255)("value",e.rgbaText==null||e.rgbaText.r==null?null:e.rgbaText.r.toFixed(0)),p(4),x("rg",255)("value",e.rgbaText==null||e.rgbaText.g==null?null:e.rgbaText.g.toFixed(0)),p(4),x("rg",255)("value",e.rgbaText==null||e.rgbaText.b==null?null:e.rgbaText.b.toFixed(0)),p(3),k(e.alphaChannel!="disabled"?12:-1)}}function qe(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",33),h("keyup.enter",function(i){s(e);let o=l(5);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(5);return c(o.onAlphaInput(i))}),d(),_(2,"span",32),P(3,"A"),d()()}if(t&2){let e=l(5);p(),x("rg",1)("value",e.formatAlpha(e.cmykText==null?null:e.cmykText.a))}}function et(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",31),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onCyanInput(i))}),d(),_(2,"span",32),P(3,"C"),d()(),_(4,"div",30)(5,"input",31),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onMagentaInput(i))}),d(),_(6,"span",32),P(7,"M"),d()(),_(8,"div",30)(9,"input",31),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onYellowInput(i))}),d(),_(10,"span",32),P(11,"Y"),d()(),_(12,"div",30)(13,"input",31),h("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onBlackInput(i))}),d(),_(14,"span",32),P(15,"K"),d()(),f(16,qe,4,2,"div",30)}if(t&2){let e=l(4);p(),x("rg",100)("value",e.cmykText==null||e.cmykText.c==null?null:e.cmykText.c.toFixed(0)),p(4),x("rg",100)("value",e.cmykText==null||e.cmykText.m==null?null:e.cmykText.m.toFixed(0)),p(4),x("rg",100)("value",e.cmykText==null||e.cmykText.y==null?null:e.cmykText.y.toFixed(0)),p(4),x("rg",100)("value",e.cmykText==null||e.cmykText.k==null?null:e.cmykText.k.toFixed(0)),p(3),k(e.alphaChannel!="disabled"?16:-1)}}function tt(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",33),h("keyup.enter",function(i){s(e);let o=l(5);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(5);return c(o.onAlphaInput(i))}),d(),_(2,"span",32),P(3,"A"),d()()}if(t&2){let e=l(5);p(),x("rg",1)("value",e.formatAlpha(e.hexAlpha))}}function it(t,r){if(t&1){let e=b();_(0,"div",30)(1,"input",36),h("blur",function(){s(e);let i=l(4);return c(i.onHexInput())})("keyup.enter",function(i){s(e);let o=l(4);return c(o.onAccept(i))})("newValue",function(i){s(e);let o=l(4);return c(o.onHexInput(i))}),d(),_(2,"span",32),P(3,"Hex"),d()(),f(4,tt,4,2,"div",30)}if(t&2){let e=l(4);p(),x("value",e.hexText),p(3),k(e.alphaChannel=="forced"?4:-1)}}function nt(t,r){if(t&1&&f(0,Ue,13,7)(1,Je,13,7)(2,et,17,9)(3,it,5,2),t&2){let e,n=l(3);k((e=n.format)==="hsla"?0:e==="rgba"?1:e==="cmyk"?2:3)}}function ot(t,r){if(t&1){let e=b();_(0,"div",29)(1,"span",37),h("click",function(){s(e);let i=l(3);return c(i.onFormatToggle(1))})("keydown.enter",function(){s(e);let i=l(3);return c(i.onFormatToggle(1))}),d(),_(2,"span",37),h("click",function(){s(e);let i=l(3);return c(i.onFormatToggle(-1))})("keydown.enter",function(){s(e);let i=l(3);return c(i.onFormatToggle(-1))}),d()()}}function rt(t,r){if(t&1&&(_(0,"div",15)(1,"div",28),f(2,Ke,5,3)(3,nt,4,1),d(),f(4,ot,3,0,"div",29),d()),t&2){let e=l(2);p(2),k(e.mode==e.colorModeInternal.grayscale?2:3),p(2),k(e.mode==e.colorModeInternal.color?4:-1)}}function lt(t,r){t&1&&(ve(0),K(1,0),be())}function at(t,r){if(t&1&&P(0),t&2){let e=l(4);Pe(" ",e.presetLabel," ")}}function st(t,r){if(t&1&&(_(0,"div",40),f(1,lt,2,0,"ng-container")(2,at,1,1),d()),t&2){let e=l(3);p(),k(e.presetLabel===!0?1:2)}}function ct(t,r){if(t&1){let e=b();_(0,"button",47),h("click",function(){s(e);let i=l(2).$implicit,o=l(4);return c(o.onRemovePresetColor(i))})("keydown.enter",function(){s(e);let i=l(2).$implicit,o=l(4);return c(o.onRemovePresetColor(i))}),oe(),_(1,"svg",20),A(2,"path",48)(3,"path",22),d()()}}function _t(t,r){if(t&1){let e=b();_(0,"div",44),h("click",function(){s(e);let i=l().$implicit,o=l(4);return c(o.setColorFromString(i))})("keydown.enter",function(){s(e);let i=l().$implicit,o=l(4);return c(o.setColorFromString(i))}),_(1,"div",45),f(2,ct,4,0,"button",46),d()()}if(t&2){let e=l().$implicit,n=l(4);x("title",e),p(),R("background-color",r||""),p(),k(n.presetColorsEditable?2:-1)}}function dt(t,r){if(t&1&&f(0,_t,3,4,"div",43),t&2){let e,n=r.$implicit,i=l(4);k((e=i.stringToRgba(n))?0:-1,e)}}function pt(t,r){t&1&&A(0,"div",42)}function Ct(t,r){if(t&1&&(_(0,"div",41),le(1,dt,1,1,null,null,re),le(3,pt,1,0,"div",42,re),d()),t&2){let e=l(3);p(),ae(e.presetColors),p(2),ae(e.fill(50))}}function ht(t,r){if(t&1&&(A(0,"div",38),_(1,"div",39),f(2,st,3,1,"div",40),f(3,Ct,5,0,"div",41),d()),t&2){let e=l(2);p(2),k(e.presetLabel?2:-1),p(),k(e.presetColors!=null&&e.presetColors.length?3:-1)}}function ut(t,r){if(t&1){let e=b();_(0,"button",50),h("click",function(i){s(e);let o=l(3);return c(o.onCancel(i))}),K(1,1),d()}}function gt(t,r){if(t&1){let e=b();_(0,"button",50),h("click",function(i){s(e);let o=l(3);return c(o.onAccept(i))}),K(1,2),d()}}function mt(t,r){if(t&1&&(_(0,"div",16),f(1,ut,2,0,"button",49),f(2,gt,2,0,"button",49),d()),t&2){let e=l(2);p(),k(e.cancelButton?1:-1),p(),k(e.okButton?2:-1)}}function ft(t,r){if(t&1&&(_(0,"div",4),f(1,ze,1,0,"div",5),f(2,Xe,2,11,"div",6),_(3,"div",7)(4,"div",8)(5,"div",9)(6,"div"),f(7,je,4,2,"button",10),d()()(),_(8,"div",11),f(9,Ge,2,5,"div",12),f(10,Ze,2,5,"div",13),f(11,Ye,3,7,"div",14),d()(),f(12,rt,5,2,"div",15),f(13,ht,4,2),f(14,mt,3,2,"div",16),d()),t&2){let e=l();se(ye(13,Re,e.show?"visible":"hidden",e.width||"",e.height||"")),p(),k(e.dialogDisplay=="popup"?1:-1),p(),k(e.mode==e.colorModeInternal.color?2:-1),p(4),R("background-color",e.selectedColor||""),p(),k(e.presetColorsEditable&&!(e.maxPresetColors&&((e.presetColors==null?null:e.presetColors.length)||0)>=e.maxPresetColors)?7:-1),p(2),k(e.mode==e.colorModeInternal.color?9:-1),p(),k(e.mode==e.colorModeInternal.grayscale?10:-1),p(),k(e.alphaChannel!="disabled"?11:-1),p(),k(!e.disableInput&&(e.mode==e.colorModeInternal.color||e.mode==e.colorModeInternal.grayscale)?12:-1),p(),k(e.presetColors!=null&&e.presetColors.length?13:-1),p(),k(e.okButton||e.cancelButton?14:-1)}}var O=class{constructor(r,e,n,i,o,a=!0){this.c=r,this.m=e,this.y=n,this.k=i,this.a=o,this.normalized=a}},D=class{constructor(r,e,n,i,o=!0){this.h=r,this.s=e,this.l=n,this.a=i,this.normalized=o}},T=class{constructor(r,e,n,i,o=!0){this.h=r,this.s=e,this.v=n,this.a=i,this.normalized=o}},m=class{constructor(r,e,n,i,o=!0){this.r=r,this.g=e,this.b=n,this.a=i,this.normalized=o}},y=(function(t){return t.hex="hex",t.rgba="rgba",t.hsla="hsla",t.cmyk="cmyk",t})(y||{}),kt=new Set([y.hsla,y.rgba,y.cmyk]),V=(function(t){return t.auto="auto",t.hex="hex",t.rgba="rgba",t.hsla="hsla",t})(V||{}),I=(function(t){return t.enabled="enabled",t.disabled="disabled",t.always="always",t.forced="forced",t})(I||{}),E=(function(t){return t.auto="auto",t.top="top",t.left="left",t.right="right",t.bottom="bottom",t})(E||{}),S=(function(t){return t.popup="popup",t.inline="inline",t})(S||{});function u(t,r,e){return Math.min(e,Math.max(t,r))}function $(t){t=Fe(t);let r=t.h,e=t.s,n=t.v,i=t.a;if(n==0)return new D(r,0,0,i,!0);if(e==0&&n==1)return new D(r,1,1,i,!0);{let o=n*(2-e)/2;return new D(r,n*e/(1-Math.abs(2*o-1)),o,i,!0)}}function q(t){t=wt(t);let r=Math.min(t.h,1),e=Math.min(t.s,1),n=Math.min(t.l,1),i=Math.min(t.a,1);if(n==0)return new T(r,0,0,i,!0);{let o=n+e*(1-Math.abs(2*n-1))/2;return new T(r,2*(o-n)/o,o,i,!0)}}function N(t){t=Fe(t);let r,e,n,i=t.h,o=t.s,a=t.v,C=t.a,w=Math.floor(i*6),v=i*6-w,F=a*(1-o),Z=a*(1-v*o),ne=a*(1-(1-v)*o);switch(w%6){case 0:r=a,e=ne,n=F;break;case 1:r=Z,e=a,n=F;break;case 2:r=F,e=a,n=ne;break;case 3:r=F,e=Z,n=a;break;case 4:r=ne,e=F,n=a;break;case 5:r=a,e=F,n=Z;break;default:r=0,e=0,n=0}return new m(r,e,n,C,!0)}function U(t){t=z(t);let r=1-Math.max(t.r,t.g,t.b);if(r==1)return new O(0,0,0,1,t.a,!0);{let e=(1-t.r-r)/(1-r),n=(1-t.g-r)/(1-r),i=(1-t.b-r)/(1-r);return new O(e,n,i,r,t.a,!0)}}function G(t){t=z(t);let r,e=Math.min(t.r,1),n=Math.min(t.g,1),i=Math.min(t.b,1),o=Math.min(t.a,1),a=Math.max(e,n,i),C=Math.min(e,n,i),w=a,v=a-C,F=a==0?0:v/a;if(a==C)r=0;else{switch(a){case e:r=(n-i)/v+(n<i?6:0);break;case n:r=(i-e)/v+2;break;case i:r=(e-n)/v+4;break;default:r=0}r/=6}return new T(r,F,w,o,!0)}function De(t,r){t=ee(t);let e="#"+(1<<24|Math.round(t.r)<<16|Math.round(t.g)<<8|Math.round(t.b)).toString(16).substring(1);return r&&(e+=(256|u(Math.round(t.a*255),0,255)).toString(16).substring(1)),e}function Ee(t){t=xt(t);let r=(1-t.c)*(1-t.k),e=(1-t.m)*(1-t.k),n=(1-t.y)*(1-t.k);return new m(r,e,n,t.a,!0)}function xt(t){return t.normalized?t:new O(u(t.c/100,0,1),u(t.m/100,0,1),u(t.y/100,0,1),u(t.k/100,0,1),u(t.a,0,1),!0)}function Ne(t){return t.normalized?new O(u(t.c*100,0,100),u(t.m*100,0,100),u(t.y*100,0,100),u(t.k*100,0,100),u(t.a,0,1),!1):t}function z(t){return t.normalized?t:new m(u(t.r/255,0,1),u(t.g/255,0,1),u(t.b/255,0,1),u(t.a,0,1),!0)}function ee(t){return t.normalized?new m(u(t.r*255,0,255),u(t.g*255,0,255),u(t.b*255,0,255),u(t.a,0,1),!1):t}function Fe(t){return t.normalized?t:new T(u(t.h/360,0,1),u(t.s/100,0,1),u(t.v/100,0,1),u(t.a,0,1),!0)}function wt(t){return t.normalized?t:new D(u(t.h/360,0,1),u(t.s/100,0,1),u(t.l/100,0,1),u(t.a,0,1),!0)}function Ae(t){return t.normalized?new D(u(t.h*360,0,360),u(t.s*100,0,100),u(t.l*100,0,100),u(t.a,0,1),!1):t}function Q(t="",r=!1){let e;t=(t||"").toLowerCase();let n=[{re:/(cmyk)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new O(parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4])/100,parseFloat(i[5])/100,isNaN(parseFloat(i[6]))?1:parseFloat(i[6]),!0)},{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new m(parseFloat(i[2])/255,parseFloat(i[3])/255,parseFloat(i[4])/255,isNaN(parseFloat(i[5]))?1:parseFloat(i[5]),!0)},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new D(parseFloat(i[2])/360,parseFloat(i[3])/100,parseFloat(i[4])/100,isNaN(parseFloat(i[5]))?1:parseFloat(i[5]),!0)}];r?n.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:i=>new m(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255,parseInt(i[4]||"FF",16)/255,!0)}):n.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:i=>new m(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255,1,!0)}),n.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:i=>new m(parseInt(i[1]+i[1],16)/255,parseInt(i[2]+i[2],16)/255,parseInt(i[3]+i[3],16)/255,1,!0)});for(let i in n)if(n.hasOwnProperty(i)){let o=n[i],a=o.re.exec(t),C=a&&o.parse(a);if(C)return C instanceof m?e=G(C):C instanceof D?e=q(C):C instanceof O?e=G(Ee(C)):e=C,e}return e}function Ve(t="",r=!1){let e;t=(t||"").toLowerCase();let n=[{re:/(cmyk)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new O(parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4])/100,parseFloat(i[5])/100,isNaN(parseFloat(i[6]))?1:parseFloat(i[6]),!0)},{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new m(parseFloat(i[2])/255,parseFloat(i[3])/255,parseFloat(i[4])/255,isNaN(parseFloat(i[5]))?1:parseFloat(i[5]),!0)},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:i=>new D(parseFloat(i[2])/360,parseFloat(i[3])/100,parseFloat(i[4])/100,isNaN(parseFloat(i[5]))?1:parseFloat(i[5]),!0)}];r?n.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:i=>new m(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255,parseInt(i[4]||"FF",16)/255,!0)}):n.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:i=>new m(parseInt(i[1],16)/255,parseInt(i[2],16)/255,parseInt(i[3],16)/255,1,!0)}),n.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:i=>new m(parseInt(i[1]+i[1],16)/255,parseInt(i[2]+i[2],16)/255,parseInt(i[3]+i[3],16)/255,1,!0)});for(let i in n)if(n.hasOwnProperty(i)){let o=n[i],a=o.re.exec(t),C=a&&o.parse(a);if(C)return C instanceof m?e=U(C):C instanceof T?e=U(N(C)):C instanceof D?e=U(N(q(C))):e=C,e}return e}function j(t,r,e){switch(r==V.auto&&(r=t.a<1?V.rgba:V.hex),r){case V.hsla:let n=Ae($(t));return t.a<1||e==I.always?"hsla("+n.h.toFixed(0)+","+n.s.toFixed(0)+"%,"+n.l.toFixed(0)+"%,"+n.a.toFixed(2)+")":"hsl("+n.h.toFixed(0)+","+n.s.toFixed(0)+"%,"+n.l.toFixed(0)+"%)";case V.rgba:let i=ee(N(t));return t.a<1||e==I.always?"rgba("+i.r.toFixed(0)+","+i.g.toFixed(0)+","+i.b.toFixed(0)+","+i.a.toFixed(2)+")":"rgb("+i.r.toFixed(0)+","+i.g.toFixed(0)+","+i.b.toFixed(0)+")";default:let o=e==I.always||e==I.forced;return De(ee(N(t)),o)}}function vt(t,r){return t=Ne(t),t.a<1||r==I.always?"cmyka("+t.c.toFixed(0)+","+t.m.toFixed(0)+","+t.y.toFixed(0)+","+t.k.toFixed(0)+","+t.a.toFixed(2)+")":"cmyk("+t.c.toFixed(0)+","+t.m.toFixed(0)+","+t.y.toFixed(0)+","+t.k.toFixed(0)+")"}function te(t,r){t=z(t),r=z(r),Math.round(t.a*100)<100&&(t=Ce(t,r));let e=Oe(t)+.05,n=Oe(r)+.05;return Math.max(e,n)/Math.min(e,n)}function Ce(t,r){t=z(t),r=z(r);let e=bt(t.a,r.a),n=_e(t.r,t.a,r.r,r.a,e),i=_e(t.g,t.a,r.g,r.a,e),o=_e(t.b,t.a,r.b,r.a,e);return new m(n,i,o,e,!0)}function bt(t,r){return 1-(1-r)*(1-t)}function _e(t,r,e,n,i){return i==0?0:(t*r+e*n*(1-r))/i}function Oe(t){t=z(t);let r=t.r;r=r<.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);let e=t.g;e=e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4);let n=t.b;return n=n<.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*r+.7152*e+.0722*n}var pe=new m(218,218,218,1,!1),Be=new m(34,34,34,1,!1);function J(t){let r=te(pe,new m(t.r,t.g,t.b,1,t.normalized)),e=te(Be,new m(t.r,t.g,t.b,1,t.normalized));return r>e}function Pt(t){let r=Ce(t,pe),e=te(pe,new m(r.r,r.g,r.b,1,r.normalized)),n=te(Be,new m(r.r,r.g,r.b,1,r.normalized));return e>n}var ie=class{constructor(r,e,n,i){this.h=r,this.s=e,this.v=n,this.a=i}};var L=(function(t){return t[t.color=0]="color",t[t.grayscale=1]="grayscale",t[t.presets=2]="presets",t})(L||{});function Mt(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":return L.color;case"2":case"G":case"GRAYSCALE":return L.grayscale;case"3":case"P":case"PRESETS":return L.presets;default:return L.color}}function Se(t){let r=((t||"auto")+"").trim().toLowerCase();if(r.match(/^\d+[a-z%]+$/)||r=="auto")return r;let e=parseInt(r,10);return Number.isNaN(e)?"auto":`${e}px`}function He(t){if(t.composedPath)return t.composedPath();let r=t;if(r.path)return r.path;let e=r.target;for(r.path=[];e.parentNode!==null;)r.path.push(e),e=e.parentNode;return r.path.push(document,window),r.path}var yt=(()=>{class t{setActive(e){e&&e.dialogDisplay==S.popup&&(this.active&&this.active!=e&&this.active.closeDialog(),this.active=e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),It=(()=>{class t{constructor(){this.isMoving=!1,this.rgX=g(),this.rgY=g(),this.slider=g(void 0,{alias:"nxtSlider"}),this.dragEnd=M(),this.dragStart=M(),this.newValue=M(),this.elRef=B(Y)}onStart(e){e.stopPropagation(),e.preventDefault(),this.setCursor(e),this.isMoving=!0,this.dragStart.emit(void 0)}onMove(e){this.isMoving&&(e.stopPropagation(),e.preventDefault(),this.setCursor(e))}onStop(e){this.isMoving&&(e.stopPropagation(),e.preventDefault(),this.isMoving=!1,this.dragEnd.emit(void 0))}getX(e){let n=this.elRef.nativeElement.getBoundingClientRect();return("pageX"in e?e.pageX:e.touches[0].pageX)-n.left-window.scrollX}getY(e){let n=this.elRef.nativeElement.getBoundingClientRect();return("pageX"in e?e.pageY:e.touches[0].pageY)-n.top-window.scrollY}setCursor(e){let n=this.elRef.nativeElement.offsetWidth,i=this.elRef.nativeElement.offsetHeight,o=Math.max(0,Math.min(this.getX(e),n)),a=Math.max(0,Math.min(this.getY(e),i)),C=this.rgX(),w=this.rgY();C!=null&&w!=null?this.newValue.emit({s:o/n,v:1-a/i,rgX:C,rgY:w}):C==null&&w!=null?this.newValue.emit({v:a/i,rgY:w}):C!=null&&w==null&&this.newValue.emit({v:o/n,rgX:C})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=W({type:t,selectors:[["","nxtSlider",""]],hostBindings:function(n,i){n&1&&h("mousedown",function(a){return i.onStart(a)})("touchstart",function(a){return i.onStart(a)})("mousemove",function(a){return i.onMove(a)},H)("touchmove",function(a){return i.onMove(a)},H)("mouseup",function(a){return i.onStop(a)},H)("touchend",function(a){return i.onStop(a)},H)},inputs:{rgX:[1,"rgX"],rgY:[1,"rgY"],slider:[1,"nxtSlider","slider"]},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}})}}return t})(),Tt=(()=>{class t{constructor(){this.rg=g(),this.text=g(void 0,{alias:"nxtText"}),this.newValue=M()}inputChange(e){let n=((e?.target?.value||"")+"").trim(),i=this.rg();if(i==null)this.newValue.emit(n);else{let o=parseFloat(n);this.newValue.emit({v:o,rg:i})}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=W({type:t,selectors:[["","nxtText",""]],hostBindings:function(n,i){n&1&&h("input",function(a){return i.inputChange(a)})("change",function(a){return i.inputChange(a)})},inputs:{rg:[1,"rg"],text:[1,"nxtText","text"]},outputs:{newValue:"newValue"}})}}return t})(),de=(()=>{class t{constructor(){this.colorModeInternal=L,this.cmykColor="",this.outputColor="",this.initialColor="",this.dialogInputFields=[y.hex,y.rgba,y.hsla,y.cmyk],this.show=!1,this.format=y.hex,this.selectedColor="",this.svSliderLight=!1,this.hueSliderLight=!1,this.valueSliderLight=!1,this.alphaSliderLight=!1,this.mode=L.color,this.cmykEnabled=!1,this.alphaChannel=I.enabled,this.outputFormat=V.auto,this.disableInput=!1,this.saveClickOutside=!1,this.closeClickOutside=!1,this.okButton=!1,this.cancelButton=!1,this.presetLabel=!1,this.presetColorsEditable=!1,this.elRef=B(Y),this.service=B(yt)}onCancel(e){e.stopPropagation(),e.preventDefault(),this.initialColor&&this.setColorFromString(this.initialColor,!0),this.callbacks&&this.callbacks.colorSelectCanceled(),this.show&&this.dialogDisplay==S.popup&&this.closeColorPicker()}onAccept(e){e.stopPropagation(),e.preventDefault(),this.show&&this.dialogDisplay==S.popup&&(this.outputColor&&this.callbacks&&this.callbacks.colorSelected(this.outputColor),this.dialogDisplay==S.popup&&this.closeColorPicker())}onClick(e){e.stopPropagation()}onFocusChange(e){let n=new Set(He(e));this.ignoredElements?.find(o=>n.has(o))||(this.show&&this.dialogDisplay==S.popup?(this.saveClickOutside?this.outputColor&&this.callbacks&&this.callbacks.colorSelected(this.outputColor):(this.setColorFromString(this.initialColor,!1),this.callbacks&&(this.cmykEnabled&&this.callbacks.cmykChanged(this.cmykColor),this.callbacks.colorChanged(this.initialColor))),this.closeClickOutside&&this.closeColorPicker()):this.saveClickOutside&&this.outputColor&&this.callbacks&&this.callbacks.colorSelected(this.outputColor))}ngOnInit(){this.slider=new ie(0,0,0,0),this.cmykEnabled?this.format=y.cmyk:this.outputFormat==V.rgba?this.format=y.rgba:this.outputFormat==V.hsla?this.format=y.hsla:this.format=y.hex,this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewChecked(){}openDialog(e,n=!0){this.service.setActive(this),this.setInitialColor(e),this.setColorFromString(e,n),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e){this.setInitialColor(e.color),this.mode=Mt(e.mode()),this.callbacks=e.callbacks,this.disableInput=e.disableInput(),this.cmykEnabled=e.cmykEnabled(),this.alphaChannel=e.alphaChannel(),this.outputFormat=e.outputFormat(),this.dialogDisplay=e.dialogDisplay(),this.ignoredElements=[...e.ignoredElements()??[],this.elRef&&this.elRef.nativeElement,e.elementRef&&e.elementRef.nativeElement].filter(n=>!!n),this.saveClickOutside=e.saveClickOutside(),this.closeClickOutside=e.closeClickOutside(),this.width=Se(e.width()),this.height=Se(e.height()),this.okButton=e.okButton(),this.cancelButton=e.cancelButton(),this.fallbackColor=e.fallbackColor()||"#fff",this.setPresetConfig(e.presetLabel(),e.presetColors()),this.maxPresetColors=e.maxPresetColors(),this.presetColorsEditable=e.presetColorsEditable(),e.outputFormat()==V.hex&&e.alphaChannel()!=I.always&&e.alphaChannel()!=I.forced&&(this.alphaChannel=I.disabled)}setInitialColor(e){this.initialColor=e,this.setColorFromString(this.initialColor,!1,!0)}setPresetConfig(e,n){this.presetLabel=e,this.presetColors=n}setColorFromString(e,n=!0,i=!0){let o=Q(e,!0),a=Ve(e,!0);!o&&!this.hsva&&!a&&!this.cmyk&&(o=Q(this.fallbackColor,!0),a=Ve(this.fallbackColor,!0)),(o||a)&&(this.alphaChannel==I.disabled&&(o&&(o.a=1),a&&(a.a=1)),this.hsva=o,this.cmyk=a,this.sliderH=this.hsva?.h,this.updateColorPicker(n,i,a&&this.cmykEnabled))}stringToRgba(e){let n=Q(e,!0);if(n)return j(n,V.rgba,I.enabled)}onDragEnd(e){this.callbacks&&this.callbacks.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.callbacks&&this.callbacks.sliderDragStart({slider:e,color:this.outputColor})}onFormatToggle(e){let n=this.dialogInputFields.length-(this.cmykEnabled?0:1),i=((this.dialogInputFields.indexOf(this.format)+e)%n+n)%n;this.format=this.dialogInputFields[i]}onColorChange(e){"rgX"in e&&"rgY"in e&&(this.hsva&&(this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY),this.updateColorPicker(),this.callbacks&&this.callbacks.sliderChanged({slider:"lightness",value:this.hsva?.v,color:this.outputColor}),this.callbacks&&this.callbacks.sliderChanged({slider:"saturation",value:this.hsva?.s,color:this.outputColor}))}onHueChange(e){"v"in e&&"rgX"in e&&(this.hsva&&(this.hsva.h=e.v/e.rgX),this.sliderH=this.hsva?.h,this.updateColorPicker(),this.callbacks&&this.callbacks.sliderChanged({slider:"hue",value:this.hsva?.h,color:this.outputColor}))}onValueChange(e){"v"in e&&"rgX"in e&&(this.hsva&&(this.hsva.v=e.v/e.rgX),this.updateColorPicker(),this.callbacks&&this.callbacks.sliderChanged({slider:"value",value:this.hsva?.v,color:this.outputColor}))}onAlphaChange(e){"v"in e&&"rgX"in e&&(this.hsva&&(this.hsva.a=e.v/e.rgX),this.updateColorPicker(),this.callbacks&&this.callbacks.sliderChanged({slider:"alpha",value:this.hsva?.a,color:this.outputColor}))}onHexInput(e){if(typeof e=="string"){e&&e[0]!="#"&&(e="#"+e);let i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi.test(e);i&&(e.length==4&&(e="#"+e.substring(1).split("").map(o=>o+o).join("")),e.length==7&&this.alphaChannel==I.forced&&(e+=((this.hsva?.a||0)*255).toString(16)),this.setColorFromString(e,!0,!1)),this.callbacks&&this.callbacks.inputChanged({input:"hex",valid:i,value:e,color:this.outputColor})}else this.updateColorPicker()}onRedInput(e){if(typeof e!="string"){let n=this.hsva?N(this.hsva):new m(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.r=e.v/e.rg,this.hsva=G(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"red",valid:i,value:n.r,color:this.outputColor})}}onBlueInput(e){if(typeof e!="string"){let n=this.hsva?N(this.hsva):new m(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.b=e.v/e.rg,this.hsva=G(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"blue",valid:i,value:n.b,color:this.outputColor})}}onGreenInput(e){if(typeof e!="string"){let n=this.hsva?N(this.hsva):new m(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.g=e.v/e.rg,this.hsva=G(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"green",valid:i,value:n.g,color:this.outputColor})}}onHueInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.hsva=this.hsva||new T(0,0,0,0,!0),n&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"hue",valid:n,value:this.hsva.h,color:this.outputColor})}}onValueInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.hsva=this.hsva||new T(0,0,0,0,!0),n&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"value",valid:n,value:this.hsva.v,color:this.outputColor})}}onAlphaInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.hsva=this.hsva||new T(0,0,0,0,!0),n&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"alpha",valid:n,value:this.hsva.a,color:this.outputColor})}}onLightnessInput(e){if(typeof e!="string"){let n=this.hsva?$(this.hsva):new D(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.l=e.v/e.rg,this.hsva=q(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"lightness",valid:i,value:n.l,color:this.outputColor})}}onSaturationInput(e){if(typeof e!="string"){let n=this.hsva?$(this.hsva):new D(0,0,0,0,!0),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.s=e.v/e.rg,this.hsva=q(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.callbacks&&this.callbacks.inputChanged({input:"saturation",valid:i,value:n.s,color:this.outputColor})}}onCyanInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.cmyk=this.cmyk||new O(0,0,0,0,0,!0),n&&(this.cmyk.c=e.v/e.rg,this.updateColorPicker(!0,!0,!0)),this.callbacks&&this.callbacks.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}}onMagentaInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.cmyk=this.cmyk||new O(0,0,0,0,0,!0),n&&(this.cmyk.m=e.v/e.rg,this.updateColorPicker(!0,!0,!0)),this.callbacks&&this.callbacks.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}}onYellowInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.cmyk=this.cmyk||new O(0,0,0,0,0,!0),n&&(this.cmyk.y=e.v/e.rg,this.updateColorPicker(!0,!0,!0)),this.callbacks&&this.callbacks.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}}onBlackInput(e){if(typeof e!="string"){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;this.cmyk=this.cmyk||new O(0,0,0,0,0,!0),n&&(this.cmyk.k=e.v/e.rg,this.updateColorPicker(!0,!0,!0)),this.callbacks&&this.callbacks.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}}onAddPresetColor(e){this.presetColors?.filter(n=>n==e).length||(this.presetColors=this.presetColors?.concat(e),this.callbacks&&this.callbacks.presetColorsChanged(this.presetColors))}onRemovePresetColor(e){this.presetColors=this.presetColors?.filter(n=>n!=e),this.callbacks&&this.callbacks.presetColorsChanged(this.presetColors)}openColorPicker(){this.show||(this.show=!0,this.callbacks&&this.callbacks.stateChanged(!0))}closeColorPicker(){this.show&&(this.show=!1,this.callbacks&&this.callbacks.stateChanged(!1))}updateColorPicker(e=!0,n=!0,i=!1){this.hsva=this.hsva||new T(0,0,0,0,!0),this.cmyk=this.cmyk||new O(0,0,0,0,0,!0),this.mode==L.grayscale&&(this.hsva.s=0);let o=this.outputColor,a=$(this.hsva);this.cmykEnabled&&(i?this.hsva=G(Ee(this.cmyk)):this.cmyk=U(N(this.hsva)),this.sliderH=this.hsva.h);let C=new T(this.sliderH||this.hsva.h,1,1,1,!0),w=N(this.hsva);if(n){this.hslaText=Ae(a),this.rgbaText=ee(w),this.cmykEnabled&&(this.cmykText=Ne(this.cmyk));let Z=this.alphaChannel===I.always;this.hexText=De(w,Z),this.hexAlpha=this.rgbaText.a}this.outputFormat==V.auto&&this.hsva.a<1&&!kt.has(this.format)&&(this.format=this.hsva.a<1?y.rgba:y.hex);let v=new T(this.hsva.h,this.hsva.s,this.hsva.v,0,this.hsva.normalized),F=new T(this.hsva.h,this.hsva.s,this.hsva.v,1,this.hsva.normalized);this.hueSliderColor=j(C,"auto","disabled"),this.alphaSliderColor="linear-gradient(to right, "+j(v,"auto","forced")+" 0%, "+j(F,"auto","disabled")+" 100%)",this.svSliderLight=J(w),this.hueSliderLight=J(N(C)),this.valueSliderLight=J(w),this.alphaSliderLight=Pt(w),this.outputColor=j(this.hsva,this.outputFormat,this.alphaChannel),this.selectedColor=j(this.hsva,V.rgba),this.format!==y.cmyk?this.cmykColor="":this.cmykColor=vt(this.cmyk,this.alphaChannel),this.slider=new ie(this.sliderH||this.hsva.h,this.hsva.s,1-this.hsva.v,this.hsva.a),e&&o!=this.outputColor&&this.callbacks&&(this.cmykEnabled&&this.callbacks.cmykChanged(this.cmykColor),this.callbacks.colorChanged(this.outputColor))}fill(e){return new Array(e).fill(1)}formatAlpha(e){return e?.toFixed(2).replace(/\.?0+$/,"")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=xe({type:t,selectors:[["nxt-color-picker"]],hostBindings:function(n,i){n&1&&h("keyup.esc",function(a){return i.onCancel(a)},H)("keyup.enter",function(a){return i.onAccept(a)},H)("mousedown",function(a){return i.onFocusChange(a)},H)("focusin",function(a){return i.onFocusChange(a)},H)("click",function(a){return i.onClick(a)})},decls:1,vars:1,consts:()=>{let e;e=$localize`:@@nxt-color-picker.button.add-color:Add color to preset`;let n;n=$localize`:@@nxt-color-picker.preset-colors:Preset colors`;let i;i=$localize`:@@nxt-color-picker.button.remove-color:Remove Color`;let o;o=$localize`:@@nxt-color-picker.button.cancel:Cancel`;let a;return a=$localize`:@@nxt-color-picker.button.ok:OK`,[n,o,a,[1,"color-picker",3,"style"],[1,"color-picker"],[1,"color-picker__arrow"],["nxtSlider","",1,"color-picker__sv",3,"rgX","rgY","backgroundColor"],[1,"color-picker__controls"],[1,"color-picker__selected"],[1,"color-picker__selected-color"],["type","button","title",e,1,"color-picker__add-selected",3,"color-picker__add-selected--light"],[1,"color-picker__hav"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--hue",3,"rgX"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--value",3,"rgX"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--alpha",3,"rgX"],[1,"color-picker__inputs"],[1,"color-picker__buttons"],["nxtSlider","",1,"color-picker__sv",3,"newValue","dragStart","dragEnd","rgX","rgY"],[1,"color-picker__cursor","color-picker__cursor--sv"],["type","button","title",e,1,"color-picker__add-selected",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],["d","M0 0h24v24H0z","fill","none"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--hue",3,"newValue","dragStart","dragEnd","rgX"],[1,"color-picker__cursor"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--value",3,"newValue","dragStart","dragEnd","rgX"],["nxtSlider","",1,"color-picker__slider","color-picker__slider--alpha",3,"newValue","dragStart","dragEnd","rgX"],[1,"color-picker__slider--alpha-bg"],[1,"color-picker__input-fields"],[1,"color-picker__input-type"],[1,"color-picker__input-field"],["type","number","pattern","[0-9]*","min","0","max","100","nxtText","",3,"keyup.enter","newValue","rg","value"],[1,"color-picker__input-field-label"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.01","nxtText","",3,"keyup.enter","newValue","rg","value"],["type","number","pattern","[0-9]*","min","0","max","360","nxtText","",3,"keyup.enter","newValue","rg","value"],["type","number","pattern","[0-9]*","min","0","max","255","nxtText","",3,"keyup.enter","newValue","rg","value"],["nxtText","",3,"blur","keyup.enter","newValue","value"],["tabindex","0",1,"color-picker__input-type-arrow",3,"click","keydown.enter"],[1,"color-picker__separator"],[1,"color-picker__preset"],[1,"color-picker__preset-label"],[1,"color-picker__preset-items"],[1,"color-picker__preset-item"],["tabindex","0",1,"color-picker__preset-item",3,"title"],["tabindex","0",1,"color-picker__preset-item",3,"click","keydown.enter","title"],[1,"color-picker__preset-item-fill"],["type","button","title",i,"tabindex","0",1,"color-picker__remove-selected"],["type","button","title",i,"tabindex","0",1,"color-picker__remove-selected",3,"click","keydown.enter"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"],["type","button"],["type","button",3,"click"]]},template:function(n,i){n&1&&f(0,ft,15,17,"div",3),n&2&&k(i.show?0:-1)},dependencies:[It,Tt],styles:[".color-picker[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;user-select:none;background-color:#fff;box-shadow:0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f,0 5px 5px -3px #0003;display:flex;flex-direction:column}.color-picker[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;font-size:12px}.color-picker[_ngcontent-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{height:0;width:0;border-style:solid;position:absolute;z-index:999999}.color-picker[_ngcontent-%COMP%]   .color-picker__cursor[_ngcontent-%COMP%]{cursor:pointer;position:absolute;border-radius:50%;width:16px;height:16px;border:#222222 solid 2px;margin:0 -8px;transition:border .2s linear}.color-picker[_ngcontent-%COMP%]   .color-picker__cursor.color-picker__cursor--sv[_ngcontent-%COMP%]{margin:-8px}.color-picker[_ngcontent-%COMP%]   .color-picker__cursor.color-picker__cursor--light[_ngcontent-%COMP%]{border-color:#dadada}.color-picker[_ngcontent-%COMP%]   .color-picker__sv[_ngcontent-%COMP%]{position:relative;direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-image:linear-gradient(to bottom,#0000,#000),linear-gradient(to right,#fff,#fff0);background-size:100% 100%}.color-picker[_ngcontent-%COMP%]   .color-picker__controls[_ngcontent-%COMP%]{display:flex;margin:8px;align-items:center}.color-picker[_ngcontent-%COMP%]   .color-picker__controls[_ngcontent-%COMP%]   .color-picker__selected[_ngcontent-%COMP%]{margin:4px;flex:48px 0 0}.color-picker[_ngcontent-%COMP%]   .color-picker__controls[_ngcontent-%COMP%]   .color-picker__hav[_ngcontent-%COMP%]{margin:-4px -4px -4px 0;flex:auto 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__selected-color[_ngcontent-%COMP%]{width:48px;height:48px;display:flex;align-items:stretch;justify-content:stretch;border-radius:50%;background-size:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cmVjdCBmaWxsPSIjQ0NDQ0NDIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgeT0iNTAiIGZpbGw9IiNDQ0NDQ0MiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIvPjxyZWN0IHk9IjUwIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIi8+PC9zdmc+);background-repeat:repeat;box-shadow:0 0 8px -2px #00000080}.color-picker[_ngcontent-%COMP%]   .color-picker__selected-color[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.color-picker[_ngcontent-%COMP%]   .color-picker__add-selected[_ngcontent-%COMP%]{background:none;border:none;padding:0;width:100%;margin:0;color:#222;transition:color .2s linear;display:flex;align-items:center;justify-content:center;height:100%}.color-picker[_ngcontent-%COMP%]   .color-picker__add-selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentcolor;width:24px;height:auto}.color-picker[_ngcontent-%COMP%]   .color-picker__add-selected.color-picker__add-selected--light[_ngcontent-%COMP%]{color:#dadada}.color-picker[_ngcontent-%COMP%]   .color-picker__hav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.color-picker[_ngcontent-%COMP%]   .color-picker__slider[_ngcontent-%COMP%]{width:100%;flex:100% 1 1;height:16px;margin:8px;position:relative}.color-picker[_ngcontent-%COMP%]   .color-picker__slider.color-picker__slider--hue[_ngcontent-%COMP%]{background-size:100% 100%;background-image:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}.color-picker[_ngcontent-%COMP%]   .color-picker__slider.color-picker__slider--value[_ngcontent-%COMP%]{background-size:100% 100%;background-image:linear-gradient(to right,#000,#fff)}.color-picker[_ngcontent-%COMP%]   .color-picker__slider.color-picker__slider--alpha[_ngcontent-%COMP%]{background-size:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cmVjdCBmaWxsPSIjQ0NDQ0NDIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgeT0iNTAiIGZpbGw9IiNDQ0NDQ0MiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIvPjxyZWN0IHk9IjUwIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIi8+PC9zdmc+);background-repeat:repeat}.color-picker[_ngcontent-%COMP%]   .color-picker__slider.color-picker__slider--alpha[_ngcontent-%COMP%]   .color-picker__slider--alpha-bg[_ngcontent-%COMP%]{position:absolute;inset:0}.color-picker[_ngcontent-%COMP%]   .color-picker__inputs[_ngcontent-%COMP%]{display:flex;margin:8px;align-items:flex-start}.color-picker[_ngcontent-%COMP%]   .color-picker__inputs[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]{flex:auto 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__inputs[_ngcontent-%COMP%]   .color-picker__input-type[_ngcontent-%COMP%]{flex:24px 0 0}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]{display:flex}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]{margin:4px;display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:center;flex:20% 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;font-size:12px;height:24px;appearance:none;flex:100% 1 1;padding:1px;border:#999 solid 1px;width:100%;background:none;min-width:0}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid{box-shadow:none}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{appearance:none;margin:0}.color-picker[_ngcontent-%COMP%]   .color-picker__input-fields[_ngcontent-%COMP%]   .color-picker__input-field[_ngcontent-%COMP%]   .color-picker__input-field-label[_ngcontent-%COMP%]{flex:100% 1 1;display:block;text-align:center;margin-top:4px}.color-picker[_ngcontent-%COMP%]   .color-picker__input-type[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:4px;display:flex;flex-wrap:wrap;background-size:contain;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjUwIDE2IDMwIDQ0IDcwIDQ0ICIvPjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iNTAgODQgNzAgNTYgMzAgNTYgIi8+PC9zdmc+);background-repeat:no-repeat;background-position:center}.color-picker[_ngcontent-%COMP%]   .color-picker__input-type[_ngcontent-%COMP%]   .color-picker__input-type-arrow[_ngcontent-%COMP%]{display:block;cursor:pointer;flex:100% 1 1;width:100%;height:50%}.color-picker[_ngcontent-%COMP%]   .color-picker__separator[_ngcontent-%COMP%]{border-top:1px solid #999;margin-left:8px;margin-right:8px;flex:100% 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__preset[_ngcontent-%COMP%]{display:flex;margin:8px;align-items:center;flex-wrap:wrap}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-label[_ngcontent-%COMP%]{margin:4px;flex:100% 1 1}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-items[_ngcontent-%COMP%]{display:flex;flex:100% 1 1;flex-wrap:wrap;align-items:flex-start}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-items[_ngcontent-%COMP%]   .color-picker__preset-item[_ngcontent-%COMP%]{position:relative;flex:20px 1 1;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAgMTAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cmVjdCBmaWxsPSIjQ0NDQ0NDIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgeT0iNTAiIGZpbGw9IiNDQ0NDQ0MiIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIvPjxyZWN0IHk9IjUwIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiLz48cmVjdCB4PSI1MCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIi8+PC9zdmc+);background-size:100% 100%;margin:4px;border-radius:4px;border:1px solid #999;cursor:pointer}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-items[_ngcontent-%COMP%]   .color-picker__preset-item[_ngcontent-%COMP%]   .color-picker__preset-item-fill[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:100%;border-radius:3px}.color-picker[_ngcontent-%COMP%]   .color-picker__preset-items[_ngcontent-%COMP%]   .color-picker__preset-item[_ngcontent-%COMP%]:empty{margin-top:0;margin-bottom:0;border-top:0;border-bottom:0}.color-picker[_ngcontent-%COMP%]   .color-picker__remove-selected[_ngcontent-%COMP%]{border:none;padding:0;margin:0;color:#222;transition:color .2s linear;align-items:center;justify-content:center;box-shadow:0 0 8px -2px #00000080;position:absolute;width:12px;height:12px;right:-6px;top:-6px;background:#fff;border-radius:50%;display:flex}.color-picker[_ngcontent-%COMP%]   .color-picker__remove-selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:currentcolor;width:100%;height:auto}.color-picker[_ngcontent-%COMP%]   .color-picker__buttons[_ngcontent-%COMP%]{display:flex;margin:0 8px 8px;align-items:center;flex-wrap:wrap;justify-content:flex-end}.color-picker[_ngcontent-%COMP%]   .color-picker__buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:auto 0 0;margin:4px;color:var(--nxt-color-picker-button-color, inherit);background:var(--nxt-color-picker-button-background, #dadada);padding:var(--nxt-color-picker-button-padding, 4px 8px);border:var(--nxt-color-picker-button-border, none);border-radius:var(--nxt-color-picker-button-border-radius, 4px);font-size:var(--nxt-color-picker-button-font-size, inherit);font-weight:var(--nxt-color-picker-button-font-weight, inherit)}.color-picker__arrow--top[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%], .color-picker__arrow--top   [_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-bottom:16px}.color-picker__arrow--top[_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%], .color-picker__arrow--top   [_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{border-width:12px 6px;border-color:#999 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);left:12px;bottom:-24px}.color-picker__arrow--left[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%], .color-picker__arrow--left   [_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-right:16px}.color-picker__arrow--left[_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%], .color-picker__arrow--left   [_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{border-width:6px 12px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #999;top:12px;left:230px}.color-picker__arrow--right[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%], .color-picker__arrow--right   [_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-left:16px}.color-picker__arrow--right[_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%], .color-picker__arrow--right   [_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{border-width:6px 12px;border-color:rgba(0,0,0,0) #999 rgba(0,0,0,0) rgba(0,0,0,0);top:12px;left:-24px}.color-picker__arrow--bottom[_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%], .color-picker__arrow--bottom   [_nghost-%COMP%]   .color-picker[_ngcontent-%COMP%]{margin-top:16px}.color-picker__arrow--bottom[_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%], .color-picker__arrow--bottom   [_nghost-%COMP%]   .color-picker__arrow[_ngcontent-%COMP%]{border-width:12px 6px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #999 rgba(0,0,0,0);top:-24px;left:12px}"]})}}return t})(),Lt=(()=>{class t{constructor(){this.dialogCreated=!1,this.ignoreChanges=!1,this._callbacks={stateChanged:e=>{this.toggleChange.emit(e),e?this.open.emit(this.nxtColor()):this.close.emit(this.nxtColor())},cmykChanged:(e,n=!0)=>{this.ignoreChanges=n,this.cmykColorChange.emit(e)},colorChanged:(e,n=!0)=>{this.ignoreChanges=n,this.nxtColorChange.emit(e)},colorSelectCanceled:()=>{this.colorSelectCancel.emit(void 0)},colorSelected:e=>{this.colorSelect.emit(e)},inputChanged:e=>{this.inputChange.emit(e)},sliderDragStart:e=>{this.sliderDragStart.emit(e)},sliderChanged:e=>{this.sliderChange.emit(e)},sliderDragEnd:e=>{this.sliderDragEnd.emit(e)},presetColorsChanged:e=>{this.presetColorsChange.emit(e)}},this._nxtColor=g(void 0,{alias:"nxtColor"}),this.nxtColor=Ie({source:()=>this._nxtColor(),computation:e=>e}),this.width=g("230px"),this.height=g("auto"),this.toggle=g(!1),this.disabled=g(!1),this.mode=g("color"),this.cmykEnabled=g(!1),this.outputFormat=g(V.auto),this.alphaChannel=g(I.enabled),this.fallbackColor=g(),this.position=g(E.auto),this.positionOffset=g(0),this.presetLabel=g(!0),this.presetColors=g(),this.disableInput=g(!1),this.dialogDisplay=g(S.popup),this.ignoredElements=g(),this.saveClickOutside=g(!0),this.closeClickOutside=g(!0),this.okButton=g(!1),this.cancelButton=g(!1),this.presetColorsEditable=g(!1),this.maxPresetColors=g(),this.useRootViewContainer=g(!1),this.open=M(),this.close=M(),this.inputChange=M(),this.toggleChange=M(),this.sliderDragStart=M(),this.sliderChange=M(),this.sliderDragEnd=M(),this.colorSelect=M(),this.colorSelectCancel=M(),this.nxtColorChange=M(),this.cmykColorChange=M(),this.presetColorsChange=M(),this.injector=B(me),this.appRef=B(we),this.vcRef=B(ke),this.elRef=B(Y),this.overlay=B(Te)}get resIgnoredElements(){let e=this.ignoredElements();return(Array.isArray(e)?e:[e]).filter(i=>!!i)}handleOpen(e){let n=new Set(He(e)),i=this.resIgnoredElements.find(o=>n.has(o));!this.disabled()&&!i&&this.openDialog()}handleInput(e){let n=((e?.target?.value||"")+"").trim();this.dialog?this.dialog.setColorFromString(n,!0):(this.nxtColor.set(n),this.nxtColorChange.emit(n))}ngOnDestroy(){this.dispose()}ngOnChanges(e){e.toggle&&!this.disabled()&&(e.toggle.currentValue?this.openDialog():this.closeDialog()),e.nxtColor&&(this.dialog&&!this.ignoreChanges&&(this.dialogDisplay()==S.inline&&this.dialog.setInitialColor(e.nxtColor.currentValue),this.dialog.setColorFromString(e.nxtColor.currentValue,!1),this.useRootViewContainer()&&this.dialogDisplay()!=S.inline&&this.cmpRef?.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.presetLabel||e.presetColors)&&this.dialog&&this.dialog.setPresetConfig(this.presetLabel(),this.presetColors()),e.dialogDisplay&&(this.dispose(),this.create()),(e.position||e.positionOffset)&&this.dialogDisplay()==S.popup&&this.overlayRef&&this.overlayRef.updatePositionStrategy(this.overlay.position().flexibleConnectedTo(this.elRef).withPositions(this.getPositions(this.positionOffset())))}openDialog(){this.dialogCreated?this.dialog&&(this.overlayRef&&!this.overlayRef.hasAttached()&&(this.cmpRef=this.overlayRef.attach(new ce(de,null,this.injector)),this.dialog=this.cmpRef.instance,this.setupDialog()),this.dialog.openDialog(this.nxtColor())):this.create()}closeDialog(){this.dialog&&this.dialogDisplay()==S.popup&&this.dialog.closeDialog()}textColorMode(e=new m(1,1,1,1,!0),n=this.dialog?.rgbaText){typeof e=="string"&&(e=N(Q(e)??new T(1,1,1,1,!0)));let i=Ce(n||e,new m(e.r,e.g,e.b,1,e.normalized));return J(i)?"light":"dark"}dispose(){this.cmpRef&&this.cmpRef.destroy(),this.overlayRef&&this.overlayRef.dispose(),this.cmpRef=void 0,this.overlayRef=void 0,this.dialogCreated=!1}create(){let e=this.vcRef;if(this.dialogCreated=!0,this.useRootViewContainer()&&this.dialogDisplay()!=S.inline){let n=this.appRef.componentTypes[0],i=this.injector.get(n);e=i.vcRef||i.viewContainerRef||this.vcRef,e==this.vcRef&&console.warn("You are using useRootViewContainer, but the root component is not exposing viewContainerRef! Please expose it by adding 'vcRef: ViewContainerRef' to the constructor.")}if(this.dialogDisplay()!=S.inline){let n=this.overlay.position().flexibleConnectedTo(this.elRef).withFlexibleDimensions(!1).withPush(!1).withPositions(this.getPositions(this.positionOffset()));this.overlayRef=this.overlay.create({positionStrategy:n,scrollStrategy:this.overlay.scrollStrategies.reposition({autoClose:!0})}),this.cmpRef=this.overlayRef.attach(new ce(de,null,this.injector))}else this.cmpRef=e.createComponent(de,{injector:this.injector,index:0});this.dialog=this.cmpRef.instance,this.setupDialog(),this.vcRef!=e&&this.cmpRef.changeDetectorRef.detectChanges()}setupDialog(){this.dialog?.setupDialog(ue(he({},this),{callbacks:this._callbacks,elementRef:this.elRef,color:this.nxtColor()}))}getPositions(e=0){let n=[],i=this.position(),o=Array.isArray(i)?i:[i||E.auto],a=this.elRef.nativeElement.getBoundingClientRect(),C={[E.right]:{originX:"end",originY:"top",overlayX:"start",overlayY:"top",panelClass:"color-picker__arrow--right",offsetX:a.width*e},[E.left]:{originX:"start",originY:"top",overlayX:"end",overlayY:"top",panelClass:"color-picker__arrow--left",offsetX:-a.width*e},[E.top]:{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"color-picker__arrow--top",offsetY:-a.height*e},[E.bottom]:{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",panelClass:"color-picker__arrow--bottom",offsetY:a.height*e}},w=new Set;return o.forEach(v=>{!w.has(v)&&v in C&&(w.add(v),n.push(C[v]))}),o.find(v=>v==E.auto)&&[E.right,E.top,E.bottom,E.left].forEach(v=>{!w.has(v)&&v in C&&(w.add(v),n.push(C[v]))}),n}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=W({type:t,selectors:[["","nxtColor",""]],hostBindings:function(n,i){n&1&&h("focus",function(a){return i.handleOpen(a)})("click",function(a){return i.handleOpen(a)})("input",function(a){return i.handleInput(a)})("change",function(a){return i.handleInput(a)})},inputs:{_nxtColor:[1,"nxtColor","_nxtColor"],width:[1,"width"],height:[1,"height"],toggle:[1,"toggle"],disabled:[1,"disabled"],mode:[1,"mode"],cmykEnabled:[1,"cmykEnabled"],outputFormat:[1,"outputFormat"],alphaChannel:[1,"alphaChannel"],fallbackColor:[1,"fallbackColor"],position:[1,"position"],positionOffset:[1,"positionOffset"],presetLabel:[1,"presetLabel"],presetColors:[1,"presetColors"],disableInput:[1,"disableInput"],dialogDisplay:[1,"dialogDisplay"],ignoredElements:[1,"ignoredElements"],saveClickOutside:[1,"saveClickOutside"],closeClickOutside:[1,"closeClickOutside"],okButton:[1,"okButton"],cancelButton:[1,"cancelButton"],presetColorsEditable:[1,"presetColorsEditable"],maxPresetColors:[1,"maxPresetColors"],useRootViewContainer:[1,"useRootViewContainer"]},outputs:{open:"open",close:"close",inputChange:"inputChange",toggleChange:"toggleChange",sliderDragStart:"sliderDragStart",sliderChange:"sliderChange",sliderDragEnd:"sliderDragEnd",colorSelect:"colorSelect",colorSelectCancel:"colorSelectCancel",nxtColorChange:"nxtColorChange",cmykColorChange:"cmykColorChange",presetColorsChange:"presetColorsChange"},exportAs:["nxtColorPicker"],features:[fe]})}}return t})();export{O as a,Q as b,Ve as c,j as d,vt as e,Lt as f};
