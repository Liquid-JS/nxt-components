import{i as D}from"./chunk-MARFYW4U.js";import{c as R}from"./chunk-D6FAYY5Q.js";import{$ as o,D as _,Ec as k,Hc as m,Ic as a,Qa as H,Sc as A,W as c,Z as I,aa as w,fc as f,ja as M,mb as l,ob as p,q as j,qa as d,ra as E,rc as y,sa as b,va as u,xa as O}from"./chunk-HAUTYPWP.js";import{i as n}from"./chunk-FBFWB55K.js";var F=new I("NXT_HIGHLIGHT_OPTIONS");function ne(t){return w([{provide:F,useValue:t}])}var h=(function(t){return t.FULL_WITH_CORE_LIBRARY_IMPORTS="The full library and the core library were imported, only one of them should be imported!",t.FULL_WITH_LANGUAGE_IMPORTS="The highlighting languages were imported they are not needed!",t.CORE_WITHOUT_LANGUAGE_IMPORTS="The highlighting languages were not imported!",t.LANGUAGE_WITHOUT_CORE_IMPORTS="The core library was not imported!",t.NO_FULL_AND_NO_CORE_IMPORTS="Highlight.js library was not imported!",t})(h||{}),G=/\r\n|\r|\n/g,S=(t={})=>{let i={children:[]};return Object.assign(i,t),i},v=class t{constructor(){this.rootNode=S(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(i){this.top.children.push(i)}openNode(i){let e=S({scope:i});this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,void 0,4)}walk(i){return this.constructor._walk(i,this.rootNode)}static _walk(i,e){return typeof e=="string"?i.addText(e):e.children&&(i.openNode(e),e.children.forEach(s=>this._walk(i,s)),i.closeNode(e)),i}static _collapse(i){typeof i!="string"&&i.children&&(i.children.every(e=>typeof e=="string")?i.children=[i.children.join("")]:i.children.forEach(e=>{t._collapse(e)}))}},N=class extends v{constructor(i){super(),this.options=i}addText(i){i!==""&&this.add(i)}startScope(i){this.openNode(i)}endScope(){this.closeNode()}__addSublanguage(i,e){let s=i.root;e&&(s.scope=`language:${e}`),this.add(s)}toHTML(){return new T(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}},P="</span>",x=t=>!!t.scope,U=(t,{prefix:i})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){let e=t.split(".");return[`${i}${e.shift()}`,...e.map((s,r)=>`${s}${"_".repeat(r+1)}`)].join(" ")}return`${i}${t}`},T=class{constructor(i,e){this.buffer="",this.classPrefix=e.classPrefix,this.openStack=[],i.walk(this)}addText(i){let e=i.split(G).map(B),s=new Array(this.openStack.length).fill(P).join("")+`
`+this.openStack.join("");this.buffer+=e.join(s)}openNode(i){if(!x(i))return;let e=U(i.scope,{prefix:this.classPrefix});this.span(e)}closeNode(i){x(i)&&(this.buffer+=P,this.openStack.pop())}value(){return this.buffer}span(i){let e=`<span class="${i}">`;this.buffer+=e,this.openStack.push(e)}};function B(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}var W=(()=>{class t{get ready(){return j(this._ready$)}constructor(){this.document=o(M),this.options=o(F,{optional:!0}),this.pendingTasks=o(E),this._t=this.pendingTasks.add(),this.hljs=k({loader:()=>this.loadLibrary().then(e=>n(this,null,function*(){if(this.options?.lineNumbersLoader){let s=yield this.options.lineNumbersLoader();e.lineNumbersBlock=s.activateLineNumbers(this.document)}return e.configure({__emitter:N}),this.options?.highlightOptions&&e.configure(this.options.highlightOptions),e})).finally(this._t)}).asReadonly(),this._ready$=R(this.hljs.value).pipe(_(e=>!!e)),this.options?.themePath&&this.loadTheme(this.options.themePath)}loadLibrary(){return n(this,null,function*(){if(this.options){if(this.options.fullLibraryLoader&&this.options.coreLibraryLoader)throw new Error(h.FULL_WITH_CORE_LIBRARY_IMPORTS);if(this.options.fullLibraryLoader&&this.options.languages)throw new Error(h.FULL_WITH_LANGUAGE_IMPORTS);if(this.options.coreLibraryLoader&&!this.options.languages)throw new Error(h.CORE_WITHOUT_LANGUAGE_IMPORTS);if(!this.options.coreLibraryLoader&&this.options.languages)throw new Error(h.LANGUAGE_WITHOUT_CORE_IMPORTS);if(this.options.fullLibraryLoader)return this.options.fullLibraryLoader();if(this.options.coreLibraryLoader&&this.options.languages&&Object.keys(this.options.languages).length)return this.options.coreLibraryLoader().then(e=>this.loadLanguages(e))}throw new Error(h.NO_FULL_AND_NO_CORE_IMPORTS)})}loadLanguages(e){return n(this,null,function*(){return yield Promise.all(Object.entries(this.options?.languages||{}).map(([s,r])=>r().then(C=>e.registerLanguage(s,C)))),e})}setTheme(e){this.themeLinkElement?this.themeLinkElement.href=e:this.loadTheme(e)}loadTheme(e){this.themeLinkElement=this.document.createElement("link"),this.themeLinkElement.href=e,this.themeLinkElement.type="text/css",this.themeLinkElement.rel="stylesheet",this.themeLinkElement.media="screen,print",this.document.head.appendChild(this.themeLinkElement)}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$=(()=>{class t{constructor(){this.loader=o(W),this.hljs=this.loader.hljs.value}highlight(e,s){return n(this,null,function*(){return(yield this.loader.ready).highlight(e,s)})}highlightAuto(e,s){return n(this,null,function*(){return(yield this.loader.ready).highlightAuto(e,s)})}highlightElement(e){return n(this,null,function*(){(yield this.loader.ready).highlightElement(e)})}highlightAll(){return n(this,null,function*(){(yield this.loader.ready).highlightAll()})}registerLanguage(e,s){return n(this,null,function*(){(yield this.loader.ready).registerLanguage(e,s)})}unregisterLanguage(e){return n(this,null,function*(){(yield this.loader.ready).unregisterLanguage(e)})}registerAliases(r,C){return n(this,arguments,function*(e,{languageName:s}){(yield this.loader.ready).registerAliases(e,{languageName:s})})}listLanguages(){return n(this,null,function*(){return(yield this.loader.ready).listLanguages()})}getLanguage(e){return n(this,null,function*(){return(yield this.loader.ready).getLanguage(e)})}safeMode(){return n(this,null,function*(){(yield this.loader.ready).safeMode()})}debugMode(){return n(this,null,function*(){(yield this.loader.ready).debugMode()})}lineNumbersBlock(e,s){return n(this,null,function*(){(yield this.loader.ready).lineNumbersBlock(e,s)})}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),L;function z(){if(!L)try{L=window?.trustedTypes?.createPolicy("nxt-highlightjs",{createHTML:t=>t})}catch{}return L}function V(t){return z()?.createHTML(t)||t}var g=(()=>{class t{constructor(){this.hljs=o($),this.nativeElement=o(O).nativeElement,this.sanitizer=o(D),b(()=>{let e=this.code();if(e){let s=this.highlightElement(e);s&&(this.setInnerHTML(s?.value??void 0),this.highlightResult.set(s),this.highlighted.emit(s))}else this.setTextContent("")})}setTextContent(e){this.nativeElement.textContent=e}setInnerHTML(e){this.nativeElement.innerHTML=V(this.sanitizer.sanitize(H.HTML,e||null)||"")}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275dir=l({type:t})}}return t})(),re=(()=>{class t extends g{constructor(){super(...arguments),this.code=a(void 0,{alias:"nxtHighlightAuto"}),this.highlightResult=d(void 0),this.languages=a(),this.highlighted=m()}highlightElement(e){return this.hljs.hljs()?.highlightAuto(e,this.languages())}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=u(t)))(r||t)}})()}static{this.\u0275dir=l({type:t,selectors:[["","nxtHighlightAuto",""]],hostVars:2,hostBindings:function(s,r){s&2&&f("hljs",!0)},inputs:{code:[1,"nxtHighlightAuto","code"],languages:[1,"languages"]},outputs:{highlighted:"highlighted"},features:[y([{provide:g,useExisting:t}]),p]})}}return t})(),oe=(()=>{class t extends g{constructor(){super(...arguments),this.code=a(void 0,{alias:"nxtHighlight"}),this.highlightResult=d(void 0),this.language=a.required(),this.ignoreIllegals=a(void 0,{transform:A}),this.highlighted=m()}highlightElement(e){return this.hljs.hljs()?.highlight(e,{language:this.language(),ignoreIllegals:this.ignoreIllegals()})}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=u(t)))(r||t)}})()}static{this.\u0275dir=l({type:t,selectors:[["","nxtHighlight",""]],hostVars:2,hostBindings:function(s,r){s&2&&f("hljs",!0)},inputs:{code:[1,"nxtHighlight","code"],language:[1,"language"],ignoreIllegals:[1,"ignoreIllegals"]},outputs:{highlighted:"highlighted"},features:[y([{provide:g,useExisting:t}]),p]})}}return t})();export{F as a,ne as b,W as c,$ as d,g as e,re as f,oe as g};
