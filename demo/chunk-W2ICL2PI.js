import{a as x,d as B,e as O}from"./chunk-4RG6ERBP.js";import{Aa as v,Ac as j,Dc as F,da as h,ob as T,za as p,zc as A}from"./chunk-ZCDMTBCB.js";function J(s){let E="hljs-ln",u="hljs-ln-line",r="hljs-ln-code",f="hljs-ln-numbers",b="hljs-ln-n",g="data-line-number",D=/\r\n|\r|\n/g;w();function _(e){let t=e;for(;t;){if(t.className&&t.className.indexOf("hljs-ln-code")!==-1)return!0;t=t.parentNode}return!1}function M(e){let t=e;for(;t&&t.nodeName!=="TABLE";)t=t.parentNode;return t}function S(e){let t=e.toString(),n=e.anchorNode;for(;n?.nodeName!=="TD";)n=n?.parentNode||null;let i=e.focusNode;for(;i?.nodeName!=="TD";)i=i?.parentNode||null;let l=parseInt(n?.dataset.lineNumber||"0",10),o=parseInt(i?.dataset.lineNumber||"0",10);if(l!=o){let a=n.textContent,c=i.textContent;if(l>o){let d=l;l=o,o=d;let L=a;a=c,c=L}for(;t.indexOf(a||"")!==0;)a=a.slice(1);for(;t.lastIndexOf(c||"")===-1;)c=c.slice(0,-1);let N=a,V=M(n);for(let d=l+1;d<o;++d){let L=m('.{0}[{1}="{2}"]',[r,g,d]),K=V?.querySelector(L);N+=`
`+(K?.textContent||"")}return N+=`
`+c,N}else return t}s.addEventListener("copy",e=>{let t=window.getSelection();if(_(t?.anchorNode)){let n;window.navigator.userAgent.indexOf("Edge")!==-1&&t?n=S(t):n=t?.toString(),n&&(e.clipboardData?.setData("text/plain",n),e.preventDefault())}});function w(){let e=s.createElement("style");e.innerHTML=m(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[E,b,g]),s.getElementsByTagName("head")[0].appendChild(e)}function C(e,t){return H(e,t)}function H(e,t){let n=y(t);return I(e,n)}function I(e,t){let n=G(e);if(n[n.length-1].trim()===""&&n.pop(),n.length>1||t?.singleLine){let i="";for(let l=0,o=n.length;l<o;l++)i+=m('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',[u,f,b,g,r,l+ +!!t?.startFrom,n[l].length>0?n[l]:" "]);return m('<table class="{0}">{1}</table>',[E,i])}return e}function y(e){return e=e||{},{singleLine:R(e),startFrom:k(e)}}function R(e){return e?.singleLine?e.singleLine:!1}function k(e){let n=1;return isFinite(e?.startFrom??NaN)&&(n=e.startFrom),n}function G(e){return e.length===0?[]:e.split(D)}function m(e,t){return e.replace(/\{(\d+)\}/g,(n,i)=>t[i]!==null&&t[i]!==void 0?t[i]:n)}return C}var z=(()=>{class s{constructor(){this.options=h(x)?.lineNumbersOptions,this.hljs=h(B),this.highlight=h(O),this.nativeElement=h(v).nativeElement,this.startFrom=p(this.options?.startFrom,{transform:j}),this.singleLine=p(this.options?.singleLine,{transform:A}),F(()=>{let u=this.hljs.hljs(),r=this.highlight.highlightResult();if(r?.value){if(u.lineNumbersBlock){let f=u.lineNumbersBlock(r.value,{startFrom:this.startFrom(),singleLine:this.singleLine()});this.nativeElement.innerHTML=f}this.nativeElement.firstElementChild?.tagName.toUpperCase()==="TABLE"?this.nativeElement.classList.add("hljs-line-numbers"):this.nativeElement.classList.remove("hljs-line-numbers")}})}static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275dir=T({type:s,selectors:[["","nxtHighlight","","lineNumbers",""],["","nxtHighlightAuto","","lineNumbers",""]],inputs:{startFrom:[1,"startFrom"],singleLine:[1,"singleLine"]}})}}return s})();export{J as a,z as b};
