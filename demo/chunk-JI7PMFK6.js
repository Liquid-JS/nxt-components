import{b as f}from"./chunk-MJNUXCV6.js";import{c as u,d as y}from"./chunk-SQHVW6PR.js";import{g as T}from"./chunk-N63FMOBO.js";import{$ as n,N as h,W as m,Z as d,i as g,ja as v,nb as I}from"./chunk-I252HR53.js";import{a,b as p,e as l}from"./chunk-FBFWB55K.js";var F=new d("NXT_HIGHLIGHT_FILE_LOCATION",{providedIn:"root",factory:P});function P(){let e=n(v)?.location,o=n(T,{optional:!0})?.replace(/\/+$/igm,"");return{formatPathname:t=>{let i=(e?e.origin:"").replace(/\/+$/igm,"");if(t.startsWith("/"))return i+t;let r=o??i;return r&&(r+="/"),r+t}}}function D(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!]))?/.test(e)}var j=new d("NXT_GIST_OPTIONS");var c=(()=>{class e{constructor(){this.http=n(y),this.options=n(j,{optional:!0})}getCodeFromGist(t){let i;return this.options?.clientId&&this.options?.clientSecret&&(i=new u().set("client_id",this.options.clientId).set("client_secret",this.options.clientSecret)),this.fetchFile(`https://api.github.com/gists/${t}`,{params:i,responseType:"json"})}getCodeFromUrl(t){return this.fetchFile(t,{responseType:"text"})}fetchFile(t,i){return D(t)?this.http.get(t,i).pipe(h(1)):g}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Y(e,i={}){var r=i,{formatUrl:o}=r,t=l(r,["formatUrl"]);let M=t?.injector?t.injector.get(c):n(c),E=t?.injector?t.injector.get(F):n(F);return f(p(a({},t),{params:()=>{let s=typeof e=="string"?e:e();return D(s)?s:E.formatPathname(s)},stream:({params:s})=>M.fetchFile(s,{responseType:"text"})}))}function B(e,o){let t=o?.injector?o.injector.get(c):n(c);return f(p(a({},o),{params:()=>typeof e=="string"?e:e(),stream:({params:i})=>{let r;return t.options?.clientId&&t.options?.clientSecret&&(r=new u().set("client_id",t.options.clientId).set("client_secret",t.options.clientSecret)),t.fetchFile(`https://api.github.com/gists/${i}`,{params:r,responseType:"json"})}}))}var V=(()=>{class e{transform(t,i){if(i)return t?.files?.[i]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=I({name:"gistFile",type:e,pure:!0})}}return e})();export{Y as a,B as b,V as c};
