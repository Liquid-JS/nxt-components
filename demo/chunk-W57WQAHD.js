import{a as Lt}from"./chunk-TALDZWHH.js";import{c as xe,d as te,e as Nt,g as I,h as ue,i as Et,j as re,k as Se,l as Ot}from"./chunk-J6T57LRS.js";import{a as Ke,d as Pt,e as Yt}from"./chunk-GIIWI5YK.js";import{b as Ie}from"./chunk-D6FAYY5Q.js";import{a as Ft,b as Rt,c as de,d as Bt,e as le,f as Ve,g as Ht,h as Ne,i as Wt,j as Ue,k as $t,l as Ge}from"./chunk-A6XGMI4Q.js";import{a as oe,c as je,d as me}from"./chunk-CR2F7LZQ.js";import{i as Vt}from"./chunk-IVHFKMEK.js";import{$ as l,$a as ft,B as lt,Bb as ke,Cb as De,Cc as o,D as ie,Db as T,Dc as C,Eb as h,Fb as f,Gb as z,H as ct,Hb as O,Hc as g,I as Y,Ib as Q,Ic as d,J as Te,Jb as we,Jc as X,Nb as L,O as ht,Ob as se,Pb as Ye,R as ut,Sc as ze,Tb as v,Ub as He,Uc as It,V as Ce,Va as p,Vb as ce,W as V,Wb as m,Z as N,_a as gt,bb as _t,bc as J,cb as bt,cc as ee,dc as Ae,e as x,ea as _,ec as he,f as rt,fa as b,fb as Mt,fc as D,ga as U,ha as ne,hc as We,ia as q,ic as S,ja as B,jc as ae,kb as A,kc as Z,m as ve,ma as mt,mb as G,mc as Ct,na as E,nb as vt,nc as yt,ob as ye,oc as kt,pb as Tt,qa as u,qc as Dt,rc as $e,sa as H,sc as wt,ua as pt,v as ot,va as Be,vc as At,wb as k,wc as xt,x as dt,xa as F,xb as W,yb as $,yc as St,zb as Pe}from"./chunk-HAUTYPWP.js";import{a as Re}from"./chunk-FBFWB55K.js";function zt(s){return s.buttons===0||s.detail===0}function jt(s){let a=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!!a&&a.identifier===-1&&(a.radiusX==null||a.radiusX===1)&&(a.radiusY==null||a.radiusY===1)}var Kt=new N("cdk-input-modality-detector-options"),Ut={ignoreKeys:[18,17,224,91,16]},Gt=650,Ze={passive:!0,capture:!0},Zt=(()=>{class s{_platform=l(oe);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new rt(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(t=>t===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=de(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<Gt||(this._modality.next(zt(e)?"keyboard":"mouse"),this._mostRecentTarget=de(e))};_onTouchstart=e=>{if(jt(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=de(e)};constructor(){let e=l(E),t=l(B),i=l(Kt,{optional:!0});if(this._options=Re(Re({},Ut),i),this.modalityDetected=this._modality.pipe(ht(1)),this.modalityChanged=this.modalityDetected.pipe(Te()),this._platform.isBrowser){let n=l(_t).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[n.listen(t,"keydown",this._onKeydown,Ze),n.listen(t,"mousedown",this._onMousedown,Ze),n.listen(t,"touchstart",this._onTouchstart,Ze)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(t){return new(t||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),pe=(function(s){return s[s.IMMEDIATE=0]="IMMEDIATE",s[s.EVENTUAL=1]="EVENTUAL",s})(pe||{}),Xt=new N("cdk-focus-monitor-default-options"),Ee=Lt({passive:!0,capture:!0}),qt=(()=>{class s{_ngZone=l(E);_platform=l(oe);_inputModalityDetector=l(Zt);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=l(B);_stopInputModalityDetector=new x;constructor(){let e=l(Xt,{optional:!0});this._detectionMode=e?.detectionMode||pe.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let t=de(e);for(let i=t;i;i=i.parentElement)e.type==="focus"?this._onFocus(e,i):this._onBlur(e,i)};monitor(e,t=!1){let i=me(e);if(!this._platform.isBrowser||i.nodeType!==1)return ve();let n=Ft(i)||this._document,r=this._elementInfo.get(i);if(r)return t&&(r.checkChildren=!0),r.subject;let c={checkChildren:t,subject:new x,rootNode:n};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){let t=me(e),i=this._elementInfo.get(t);i&&(i.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(i))}focusVia(e,t,i){let n=me(e),r=this._document.activeElement;n===r?this._getClosestElementsInfo(n).forEach(([c,M])=>this._originChanged(c,t,M)):(this._setOrigin(t),typeof n.focus=="function"&&n.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===pe.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,t){e.classList.toggle("cdk-focused",!!t),e.classList.toggle("cdk-touch-focused",t==="touch"),e.classList.toggle("cdk-keyboard-focused",t==="keyboard"),e.classList.toggle("cdk-mouse-focused",t==="mouse"),e.classList.toggle("cdk-program-focused",t==="program")}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&t,this._detectionMode===pe.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?Gt:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(e,t){let i=this._elementInfo.get(t),n=de(e);!i||!i.checkChildren&&t!==n||this._originChanged(t,this._getFocusOrigin(n),i)}_onBlur(e,t){let i=this._elementInfo.get(t);!i||i.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(i,null))}_emitOrigin(e,t){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let t=e.rootNode,i=this._rootNodeFocusListenerCount.get(t)||0;i||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ee),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ee)}),this._rootNodeFocusListenerCount.set(t,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ut(this._stopInputModalityDetector)).subscribe(n=>{this._setOrigin(n,!0)}))}_removeGlobalListeners(e){let t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){let i=this._rootNodeFocusListenerCount.get(t);i>1?this._rootNodeFocusListenerCount.set(t,i-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ee),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ee),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,i){this._setClasses(e,t),this._emitOrigin(i,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){let t=[];return this._elementInfo.forEach((i,n)=>{(n===e||i.checkChildren&&n.contains(e))&&t.push([n,i])}),t}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:t,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!t||t===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let n=e.labels;if(n){for(let r=0;r<n.length;r++)if(n[r].contains(t))return!0}return!1}static \u0275fac=function(t){return new(t||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Xe=(()=>{class s{_elementRef=l(F);_focusMonitor=l(qt);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new mt;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>{this._focusOrigin=t,this.cdkFocusChange.emit(t)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||s)};static \u0275dir=G({type:s,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return s})();var Qt=(()=>{class s{static \u0275fac=function(t){return new(t||s)};static \u0275cmp=A({type:s,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(t,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return s})();var qe=(()=>{class s{_platform=l(oe);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return hi(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let t=ci(Mi(e));if(t&&(Jt(t)===-1||!this.isVisible(t)))return!1;let i=e.nodeName.toLowerCase(),n=Jt(e);return e.hasAttribute("contenteditable")?n!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!_i(e)?!1:i==="audio"?e.hasAttribute("controls")?n!==-1:!1:i==="video"?n===-1?!1:n!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,t){return bi(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(t){return new(t||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ci(s){try{return s.frameElement}catch{return null}}function hi(s){return!!(s.offsetWidth||s.offsetHeight||typeof s.getClientRects=="function"&&s.getClientRects().length)}function ui(s){let a=s.nodeName.toLowerCase();return a==="input"||a==="select"||a==="button"||a==="textarea"}function mi(s){return gi(s)&&s.type=="hidden"}function pi(s){return fi(s)&&s.hasAttribute("href")}function gi(s){return s.nodeName.toLowerCase()=="input"}function fi(s){return s.nodeName.toLowerCase()=="a"}function ei(s){if(!s.hasAttribute("tabindex")||s.tabIndex===void 0)return!1;let a=s.getAttribute("tabindex");return!!(a&&!isNaN(parseInt(a,10)))}function Jt(s){if(!ei(s))return null;let a=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(a)?-1:a}function _i(s){let a=s.nodeName.toLowerCase(),e=a==="input"&&s.type;return e==="text"||e==="password"||a==="select"||a==="textarea"}function bi(s){return mi(s)?!1:ui(s)||pi(s)||s.hasAttribute("contenteditable")||ei(s)}function Mi(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}var ge=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(a){this._enabled=a,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(a,this._startAnchor),this._toggleAnchorTabIndex(a,this._endAnchor))}_enabled=!0;constructor(a,e,t,i,n=!1,r){this._element=a,this._checker=e,this._ngZone=t,this._document=i,this._injector=r,n||this.attachAnchors()}destroy(){let a=this._startAnchor,e=this._endAnchor;a&&(a.removeEventListener("focus",this.startAnchorListener),a.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(a){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(a)))})}focusFirstTabbableElementWhenReady(a){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(a)))})}focusLastTabbableElementWhenReady(a){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(a)))})}_getRegionBoundary(a){let e=this._element.querySelectorAll(`[cdk-focus-region-${a}], [cdkFocusRegion${a}], [cdk-focus-${a}]`);return a=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(a){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let t=this._getFirstTabbableElement(e);return t?.focus(a),!!t}return e.focus(a),!0}return this.focusFirstTabbableElement(a)}focusFirstTabbableElement(a){let e=this._getRegionBoundary("start");return e&&e.focus(a),!!e}focusLastTabbableElement(a){let e=this._getRegionBoundary("end");return e&&e.focus(a),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(a){if(this._checker.isFocusable(a)&&this._checker.isTabbable(a))return a;let e=a.children;for(let t=0;t<e.length;t++){let i=e[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[t]):null;if(i)return i}return null}_getLastTabbableElement(a){if(this._checker.isFocusable(a)&&this._checker.isTabbable(a))return a;let e=a.children;for(let t=e.length-1;t>=0;t--){let i=e[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[t]):null;if(i)return i}return null}_createAnchor(){let a=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,a),a.classList.add("cdk-visually-hidden"),a.classList.add("cdk-focus-trap-anchor"),a.setAttribute("aria-hidden","true"),a}_toggleAnchorTabIndex(a,e){a?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(a){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(a,this._startAnchor),this._toggleAnchorTabIndex(a,this._endAnchor))}_executeOnStable(a){this._injector?gt(a,{injector:this._injector}):setTimeout(a)}},ti=(()=>{class s{_checker=l(qe);_ngZone=l(E);_document=l(B);_injector=l(q);constructor(){l(Bt).load(Qt)}create(e,t=!1){return new ge(e,this._checker,this._ngZone,this._document,t,this._injector)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Qe=(()=>{class s{_elementRef=l(F);_focusTrapFactory=l(ti);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){l(oe).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Rt(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(t){return new(t||s)};static \u0275dir=G({type:s,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",ze],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",ze]},exportAs:["cdkTrapFocus"],features:[pt]})}return s})();var Je=class extends ge{_focusTrapManager;_inertStrategy;get enabled(){return this._enabled}set enabled(a){this._enabled=a,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(a,e,t,i,n,r,c,M){super(a,e,t,i,c.defer,M),this._focusTrapManager=n,this._inertStrategy=r,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},et=class{_listener=null;preventFocus(a){this._listener&&a._document.removeEventListener("focus",this._listener,!0),this._listener=e=>this._trapFocus(a,e),a._ngZone.runOutsideAngular(()=>{a._document.addEventListener("focus",this._listener,!0)})}allowFocus(a){this._listener&&(a._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(a,e){let t=e.target,i=a._element;t&&!i.contains(t)&&!t.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{a.enabled&&!i.contains(a._document.activeElement)&&a.focusFirstTabbableElement()})}},vi=new N("FOCUS_TRAP_INERT_STRATEGY"),Ti=(()=>{class s{_focusTrapStack=[];register(e){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==e);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();let t=this._focusTrapStack,i=t.indexOf(e);i!==-1&&(t.splice(i,1),t.length&&t[t.length-1]._enable())}static \u0275fac=function(t){return new(t||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),ii=(()=>{class s{_checker=l(qe);_ngZone=l(E);_focusTrapManager=l(Ti);_document=l(B);_inertStrategy;_injector=l(q);constructor(){let e=l(vi,{optional:!0});this._inertStrategy=e||new et}create(e,t={defer:!1}){let i;return typeof t=="boolean"?i={defer:t}:i=t,new Je(e,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,i,this._injector)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Ci=["nxtDateTimeCalendarBody",""],yi=(s,a,e)=>({"nxt-dt-calendar-cell-out":s,"nxt-dt-calendar-cell-today":a,"nxt-dt-calendar-cell-selected":e});function ki(s,a){if(s&1){let e=L();O(0,"td",2),ce("click",function(){let i=_(e).$implicit,n=m(2);return b(n.selectCell(i))}),O(1,"span",3),S(2),Q()()}if(s&2){let e=a.$implicit,t=a.$index,i=m().$index,n=m();We(Dt("nxt-dt-calendar-cell ",e.cellClass)),he("width",100/n.numCols(),"%")("padding-top",50*n.cellRatio()/n.numCols(),"%")("padding-bottom",50*n.cellRatio()/n.numCols(),"%"),D("nxt-dt-calendar-cell-active",n.isActiveCell(i,t))("nxt-dt-calendar-cell-disabled",!e.enabled)("nxt-dt-calendar-cell-in-range",n.isInRange(e.value))("nxt-dt-calendar-cell-range-from",n.isRangeFrom(e.value))("nxt-dt-calendar-cell-range-from-long",n.isInRange(e.value+7))("nxt-dt-calendar-cell-range-to",n.isRangeTo(e.value))("nxt-dt-calendar-cell-range-to-long",n.isInRange(e.value-7)),se("tabIndex",n.isActiveCell(i,t)?0:-1),k("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null),p(),We(At(29,yi,e.out,e.value===n.todayValue(),n.isSelected(e.value))),p(),Z(" ",e.displayValue," ")}}function Di(s,a){if(s&1&&(O(0,"tr",0),ke(1,ki,3,33,"td",1,Pe),Q()),s&2){let e=a.$implicit;p(),De(e)}}var wi=(s,a)=>a.long;function Ai(s,a){if(s&1&&(h(0,"th",3)(1,"span"),S(2),f()()),s&2){let e=a.$implicit;k("aria-label",e.long),p(2),ae(e.short)}}function xi(s,a){if(s&1){let e=L();h(0,"nxt-date-time-month-view",15),v("pickerMomentChange",function(i){_(e);let n=m();return b(n.handlePickerMomentChange(i))})("selectedChange",function(i){_(e);let n=m();return b(n.dateSelected(i))})("userSelection",function(){_(e);let i=m();return b(i.userSelected())}),f()}if(s&2){let e=m();T("pickerMoment",e.pickerMoment())("firstDayOfWeek",e.firstDayOfWeek())("selected",e.selected())("selecteds",e.selecteds())("selectMode",e.selectMode()??"single")("min",e.min())("max",e.max())("dateTimeFilter",e.dateTimeFilter())("hideOtherMonths",e.hideOtherMonths())}}function Si(s,a){if(s&1){let e=L();h(0,"nxt-date-time-year-view",16),v("keyboardEnter",function(){_(e);let i=m();return b(i.focusActiveCell())})("pickerMomentChange",function(i){_(e);let n=m();return b(n.handlePickerMomentChange(i))})("monthSelected",function(i){_(e);let n=m();return b(n.selectMonthInYearView(i))})("change",function(i){_(e);let n=m();return b(n.goToDateInView(i,"month"))}),f()}if(s&2){let e=m();T("pickerMoment",e.pickerMoment())("selected",e.selected())("selecteds",e.selecteds())("selectMode",e.selectMode()??"single")("min",e.min())("max",e.max())("dateTimeFilter",e.dateTimeFilter())}}function Ii(s,a){if(s&1){let e=L();h(0,"nxt-date-time-multi-year-view",17),v("keyboardEnter",function(){_(e);let i=m();return b(i.focusActiveCell())})("pickerMomentChange",function(i){_(e);let n=m();return b(n.handlePickerMomentChange(i))})("yearSelected",function(i){_(e);let n=m();return b(n.selectYearInMultiYearView(i))})("change",function(i){_(e);let n=m();return b(n.goToDateInView(i,"year"))}),f()}if(s&2){let e=m();T("pickerMoment",e.pickerMoment())("selected",e.selected())("selecteds",e.selecteds())("selectMode",e.selectMode()??"single")("min",e.min())("max",e.max())("dateTimeFilter",e.dateTimeFilter())}}function Vi(s,a){s&1&&we(0,"div",1)}function Ni(s,a){if(s&1){let e=L();h(0,"nxt-date-time-timer-box",4),v("inputChange",function(i){_(e);let n=m();return b(n.setSecondValue(i))})("valueChange",function(i){_(e);let n=m();return b(n.setSecondValue(i))}),f()}if(s&2){let e=m();T("showDivider",!0)("upBtnAriaLabel",e.upSecondButtonLabel())("downBtnAriaLabel",e.downSecondButtonLabel())("upBtnDisabled",!e.upSecondEnabled())("downBtnDisabled",!e.downSecondEnabled())("value",e.secondValue())("min",0)("max",59)("step",e.stepSecond())}}function Ei(s,a){if(s&1){let e=L();h(0,"div",3)(1,"button",5),v("click",function(i){_(e);let n=m();return b(n.setMeridiem(i))}),h(2,"span",6),S(3),f()()()}if(s&2){let e=m();p(3),Z(" ",e.hour12ButtonLabel()," ")}}var Oi=()=>[];function Li(s,a){if(s&1){let e=L();h(0,"nxt-date-time-calendar",7),kt("pickerMomentChange",function(i){_(e);let n=m();return yt(n.pickerMoment,i)||(n.pickerMoment=i),b(i)}),v("yearSelected",function(i){let n;_(e);let r=m();return b((n=r.picker())==null?null:n.selectYear(i))})("monthSelected",function(i){let n;_(e);let r=m();return b((n=r.picker())==null?null:n.selectMonth(i))})("selectedChange",function(i){_(e);let n=m();return b(n.dateSelected(i))}),f()}if(s&2){let e=m();T("firstDayOfWeek",e.firstDayOfWeek()??0),Ct("pickerMoment",e.pickerMoment),T("selected",e.selected())("selecteds",e.selecteds()??wt(10,Oi))("selectMode",e.selectMode())("min",e.min())("max",e.max())("dateTimeFilter",e.dateTimeFilter())("startView",e.startView()??"month")("hideOtherMonths",!!e.hideOtherMonths())}}function Fi(s,a){if(s&1){let e=L();h(0,"nxt-date-time-timer",8),v("selectedChange",function(i){_(e);let n=m();return b(n.timeSelected(i))}),f()}if(s&2){let e=m();T("pickerMoment",e.pickerMoment)("min",e.min())("max",e.max())("showSecondsTimer",!!e.showSecondsTimer())("hour12Timer",!!e.hour12Timer())("stepHour",e.stepHour()??1)("stepMinute",e.stepMinute()??1)("stepSecond",e.stepSecond()??1)}}function Ri(s,a){if(s&1){let e=L();h(0,"div",5)(1,"div",9,0),v("click",function(i){_(e);let n=m();return b(n.handleClickOnInfoGroup(i,0))})("keydown",function(i){_(e);let n=Ae(9),r=m();return b(r.handleKeydownOnInfoGroup(i,n,0))}),h(3,"span",10)(4,"span",11),S(5),f(),h(6,"span",12),S(7),f()()(),h(8,"div",13,1),v("click",function(i){_(e);let n=m();return b(n.handleClickOnInfoGroup(i,1))})("keydown",function(i){_(e);let n=Ae(2),r=m();return b(r.handleKeydownOnInfoGroup(i,n,1))}),h(10,"span",10)(11,"span",11),S(12),f(),h(13,"span",12),S(14),f()()()()}if(s&2){let e=m();p(),D("nxt-dt-container-info-active",e.activeSelectedIndex()===0),T("tabindex",e.activeSelectedIndex()===0?0:-1),k("aria-checked",e.activeSelectedIndex()===0),p(4),Z("",e.fromLabel(),":"),p(2),ae(e.fromFormattedValue()),p(),D("nxt-dt-container-info-active",e.activeSelectedIndex()===1),T("tabindex",e.activeSelectedIndex()===1?0:-1),k("aria-checked",e.activeSelectedIndex()===1),p(4),Z("",e.toLabel(),":"),p(2),ae(e.toFormattedValue())}}function Bi(s,a){if(s&1){let e=L();h(0,"div",6)(1,"button",14),v("click",function(i){_(e);let n=m();return b(n.onCancelClicked(i))}),h(2,"span",15),S(3),f()(),h(4,"button",14),v("click",function(i){_(e);let n=m();return b(n.onSetClicked(i))}),h(5,"span",15),S(6),f()()()}if(s&2){let e=m();p(3),Z(" ",e.cancelLabel()," "),p(3),Z(" ",e.setLabel()," ")}}function Pi(s,a){}var P=class{constructor(){this.locale=u(void 0),this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}compare(a,e){if(!this.isValid(a)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");let t=this.clone(a),i=this.clone(e),n=this.getTime(t)-this.getTime(i);return n<0?-1:n>0?1:n}compareYear(a,e){if(!this.isValid(a)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");let t=this.getYear(a),i=this.getYear(e),n=t-i;return n<0?-1:n>0?1:0}deserialize(a){return a==null||a==null||this.isDateInstance(a)&&this.isValid(a)?a:this.invalid()}setLocale(a){this.locale.set(a)}clampDate(a,e,t){return e&&this.compare(a,e)<0?e:t&&this.compare(a,t)>0?t:a}},be=new N("NXT_DATE_TIME_FORMATS"),_e=class{constructor(a,e,t,i,n=!1,r=""){this.value=a,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.out=n,this.cellClass=r}},j=(()=>{class s{constructor(){this.elmRef=l(F),this.ngZone=l(E),this.activeCell=d(0),this.rows=d(),this.numCols=d(7),this.cellRatio=d(1),this.todayValue=d(),this.selectedValues=d(),this.selectMode=d(),this.select=g(),this.isInSingleMode=o(()=>this.selectMode()==="single"),this.isInRangeMode=o(()=>{let e=this.selectMode();return e==="range"||e==="rangeFrom"||e==="rangeTo"})}selectCell(e){this.select.emit(e)}isActiveCell(e,t){return e*this.numCols()+t===this.activeCell()}isSelected(e){let t=this.selectedValues();if(!t||t.length===0)return!1;if(this.isInSingleMode())return e===t[0];if(this.isInRangeMode()){let i=t[0],n=t[1];return e===i||e===n}return!1}isInRange(e){if(this.isInRangeMode()){let t=this.selectedValues(),i=t?.[0],n=t?.[1];return i!==void 0&&n!==void 0?e>=i&&e<=n:e===i||e===n}return!1}isRangeFrom(e){if(this.isInRangeMode()){let t=this.selectedValues()?.[0];return t!==void 0&&e===t}return!1}isRangeTo(e){if(this.isInRangeMode()){let t=this.selectedValues()?.[1];return t!==void 0&&e===t}return!1}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(Y(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["","nxtDateTimeCalendarBody",""]],hostVars:2,hostBindings:function(t,i){t&2&&D("nxt-dt-calendar-body",!0)},inputs:{activeCell:[1,"activeCell"],rows:[1,"rows"],numCols:[1,"numCols"],cellRatio:[1,"cellRatio"],todayValue:[1,"todayValue"],selectedValues:[1,"selectedValues"],selectMode:[1,"selectMode"]},outputs:{select:"select"},exportAs:["nxtDateTimeCalendarBody"],attrs:Ci,decls:2,vars:0,consts:[["role","row"],[3,"class","tabindex","nxt-dt-calendar-cell-active","nxt-dt-calendar-cell-disabled","nxt-dt-calendar-cell-in-range","nxt-dt-calendar-cell-range-from","nxt-dt-calendar-cell-range-from-long","nxt-dt-calendar-cell-range-to","nxt-dt-calendar-cell-range-to-long","width","paddingTop","paddingBottom"],[3,"click","tabindex"],[1,"nxt-dt-calendar-cell-content"]],template:function(t,i){t&1&&ke(0,Di,3,0,"tr",0,Pe),t&2&&De(i.rows())},encapsulation:2,changeDetection:0})}}return s})(),tt=7,Yi=6,Hi=(()=>{class s{constructor(){this.dateTimeAdapter=l(P),this.dateTimeFormats=l(be),this.hideOtherMonths=d(!1),this._firstDayOfWeek=0,this.firstDayOfWeek=d(this._firstDayOfWeek,{transform:e=>e>=0&&e<=6&&e!==this._firstDayOfWeek?this._firstDayOfWeek=e:this._firstDayOfWeek}),this.selectMode=d("single"),this.selected=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.selecteds=d([],{transform:e=>e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}),this.pickerMoment=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e)||this.dateTimeAdapter.now())}),this.dateTimeFilter=d(),this.min=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.max=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.weekdays=o(()=>{let e=this.dateTimeAdapter.getDayOfWeekNames("long"),t=this.dateTimeAdapter.getDayOfWeekNames("short"),i=this.dateTimeAdapter.getDayOfWeekNames("narrow"),n=this.firstDayOfWeek(),r=e.map((c,M)=>({long:c,short:t[M],narrow:i[M]}));return r.slice(n).concat(r.slice(0,n))}),this._daysData=o(()=>{if(!this.pickerMoment())return;let e,t=this.dateTimeAdapter.getDay(this.firstDateOfMonth()),i=this.firstDayOfWeek(),n=0-(t+(tt-i))%tt,r=Math.abs(n),c=[];for(let M=0;M<Yi;M++){let R=[];for(let K=0;K<tt;K++){let Me=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth(),n),oi=this.createDateCell(Me,n);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),Me)&&(e=n+1),R.push(oi),n+=1}c.push(R)}return{days:c,todayDate:e,firstRowOffset:r}}),this.days=o(()=>{let e=this._daysData()?.days;return e!=null?this._days=e:this._days}),this.activeCell=o(()=>{if(this.pickerMoment())return this.dateTimeAdapter.getDate(this.pickerMoment())+this.firstRowOffset()-1}),this.isInSingleMode=o(()=>this.selectMode()==="single"),this.isInRangeMode=o(()=>this.selectMode()==="range"||this.selectMode()==="rangeFrom"||this.selectMode()==="rangeTo"),this.firstDateOfMonth=C({source:()=>this.pickerMoment(),computation:e=>this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),1)}),this.todayDate=o(()=>{let e=this._daysData()?.todayDate;return e!=null?this._todayDate=e:this._todayDate}),this.selectedDates=o(()=>{let e=new Array;if(!this.firstDateOfMonth())return this._selectedDates;if(this.isInSingleMode()&&this.selected()){let t=this.dateTimeAdapter.differenceInCalendarDays(this.selected(),this.firstDateOfMonth())??0;return e[0]=t+1,this._selectedDates=e}return this.isInRangeMode()&&this.selecteds()&&(e=this.selecteds().map(t=>{if(this.dateTimeAdapter.isValid(t))return(this.dateTimeAdapter.differenceInCalendarDays(t,this.firstDateOfMonth())??0)+1})),this._selectedDates=e}),this._firstRowOffset=0,this.firstRowOffset=o(()=>{let e=this._daysData()?.firstRowOffset;return e!=null?this._firstRowOffset=e:this._firstRowOffset}),this.selectedChange=g(),this.userSelection=g(),this.pickerMomentChange=g(),this.calendarBodyElm=X(j)}selectCalendarCell(e){!e.enabled||this.hideOtherMonths()&&e.out||this.selectDate(e.value)}selectDate(e){let t=e-1,i=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth(),t);this.selectedChange.emit(i),this.userSelection.emit(void 0)}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),-7),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),7),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),1-this.dateTimeAdapter.getDate(this.pickerMoment())),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment())-this.dateTimeAdapter.getDate(this.pickerMoment())),this.pickerMomentChange.emit(t);break;case"pageup":t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-1),this.pickerMomentChange.emit(t);break;case"pagedown":t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),1),this.pickerMomentChange.emit(t);break;case"enter":(!this.dateTimeFilter()||this.dateTimeFilter()(this.pickerMoment(),"date"))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment()));break;default:return}this.focusActiveCell(),e.preventDefault()}createDateCell(e,t){let i=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment()),r=this.dateTimeAdapter.getDate(e).toString(),c=this.dateTimeAdapter.format(e,this.dateTimeFormats.dateA11yLabel),M=this.isDateEnabled(e),R=t+1,K=R<1||R>i,Me="nxt-dt-day-"+this.dateTimeAdapter.getDay(e);return new _e(R,r,c,M,K,Me)}isDateEnabled(e){return!!e&&(!this.dateTimeFilter()||this.dateTimeFilter()(e,"date"))&&(!this.min()||this.dateTimeAdapter.compare(e,this.min())>=0)&&(!this.max()||this.dateTimeAdapter.compare(e,this.max())<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}isSameMonth(e,t){return!!(e&&t&&this.dateTimeAdapter.isValid(e)&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t))}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time-month-view"]],viewQuery:function(t,i){t&1&&J(i.calendarBodyElm,j,5),t&2&&ee()},hostVars:2,hostBindings:function(t,i){t&2&&D("nxt-dt-calendar-view",!0)},inputs:{hideOtherMonths:[1,"hideOtherMonths"],firstDayOfWeek:[1,"firstDayOfWeek"],selectMode:[1,"selectMode"],selected:[1,"selected"],selecteds:[1,"selecteds"],pickerMoment:[1,"pickerMoment"],dateTimeFilter:[1,"dateTimeFilter"],min:[1,"min"],max:[1,"max"]},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},decls:8,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-month-table"],[1,"nxt-dt-calendar-header"],[1,"nxt-dt-weekdays"],["scope","col",1,"nxt-dt-weekday"],["aria-hidden","true","colspan","7",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"]],template:function(t,i){t&1&&(h(0,"table",0)(1,"thead",1)(2,"tr",2),ke(3,Ai,3,2,"th",3,wi),f(),h(5,"tr"),z(6,"th",4),f()(),h(7,"tbody",5),v("keydown",function(r){return i.handleCalendarKeydown(r)})("select",function(r){return i.selectCalendarCell(r)}),f()()),t&2&&(D("nxt-dt-calendar-only-current-month",i.hideOtherMonths()),p(3),De(i.weekdays()),p(4),T("rows",i.days())("todayValue",i.todayDate())("selectedValues",i.selectedDates())("selectMode",i.selectMode())("activeCell",i.activeCell()??0))},dependencies:[j],encapsulation:2,changeDetection:0})}}return s})(),Fe=(()=>{class s{constructor(){this.upSecondLabel=u($localize`:@@nxt-pick-datetime.up-second:Add a second`),this.downSecondLabel=u($localize`:@@nxt-pick-datetime.down-second:Minus a second`),this.upMinuteLabel=u($localize`:@@nxt-pick-datetime.up-minute:Add a minute`),this.downMinuteLabel=u($localize`:@@nxt-pick-datetime.down-minute:Minus a minute`),this.upHourLabel=u($localize`:@@nxt-pick-datetime.up-hour:Add a hour`),this.downHourLabel=u($localize`:@@nxt-pick-datetime.down-hour:Minus a hour`),this.prevMonthLabel=u($localize`:@@nxt-pick-datetime.prev-month:Previous month`),this.nextMonthLabel=u($localize`:@@nxt-pick-datetime.next-month:Next month`),this.prevYearLabel=u($localize`:@@nxt-pick-datetime.prev-year:Previous year`),this.nextYearLabel=u($localize`:@@nxt-pick-datetime.next-year:Next year`),this.prevMultiYearLabel=u($localize`:@@nxt-pick-datetime.prev-multi-year:Previous 21 years`),this.nextMultiYearLabel=u($localize`:@@nxt-pick-datetime.next-multi-year:Next 21 years`),this.switchToMonthViewLabel=u($localize`:@@nxt-pick-datetime.switch-to-month:Change to month view`),this.switchToMultiYearViewLabel=u($localize`:@@nxt-pick-datetime.switch-to-year-month:Choose month and year`),this.cancelBtnLabel=u($localize`:@@nxt-pick-datetime.cancel:Cancel`),this.setBtnLabel=u($localize`:@@nxt-pick-datetime.set:Set`),this.rangeFromLabel=u($localize`:@@nxt-pick-datetime.from:From`),this.rangeToLabel=u($localize`:@@nxt-pick-datetime.to:To`),this.hour12AMLabel=u($localize`:@@nxt-pick-datetime.time-am:AM`),this.hour12PMLabel=u($localize`:@@nxt-pick-datetime.time-pm:PM`)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),y=3,w=7,Wi=(()=>{class s{constructor(){this.pickerIntl=l(Fe),this.dateTimeAdapter=l(P),this.selectMode=d("single"),this.selected=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.selecteds=d([],{transform:e=>e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}),this._pickerMomentInput=d(void 0,{alias:"pickerMoment"}),this._pickerMoment=C({source:()=>this._pickerMomentInput(),computation:e=>e}),this.pickerMoment=o(()=>{let e=this.dateTimeAdapter.deserialize(this._pickerMoment());return this.getValidDate(e)||this.dateTimeAdapter.now()}),this.dateTimeFilter=d(),this.min=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.max=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.yearsData=o(()=>{let e=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),t=[],i=this.dateTimeAdapter.getYear(this.pickerMoment()),n=i%(y*w);for(let r=0;r<w;r++){let c=[];for(let M=0;M<y;M++){let R=i-n+(M+r*y),K=this.createYearCell(R);c.push(K)}t.push(c)}return{years:t,todayYear:e}}),this.years=o(()=>this.yearsData().years),this.todayYear=o(()=>this.yearsData().todayYear),this.isInSingleMode=o(()=>this.selectMode()==="single"),this.isInRangeMode=o(()=>this.selectMode()==="range"||this.selectMode()==="rangeFrom"||this.selectMode()==="rangeTo"),this.selectedYears=o(()=>{let e=new Array;return this.isInSingleMode()&&this.selected()&&(e[0]=this.dateTimeAdapter.getYear(this.selected())),this.isInRangeMode()&&this.selecteds()&&(e=this.selecteds().map(t=>{if(this.dateTimeAdapter.isValid(t))return this.dateTimeAdapter.getYear(t)})),e}),this.activeCell=o(()=>{if(this.pickerMoment())return this.dateTimeAdapter.getYear(this.pickerMoment())%(y*w)}),this.tableHeader=o(()=>{let e=this.years();if(e&&e.length>0)return`${e[0][0].displayValue} ~ ${e[w-1][y-1].displayValue}`}),this.prevButtonLabel=this.pickerIntl.prevMultiYearLabel.asReadonly(),this.nextButtonLabel=this.pickerIntl.nextMultiYearLabel.asReadonly(),this.change=g(),this.yearSelected=g(),this.pickerMomentChange=g(),this.keyboardEnter=g(),this.calendarBodyElm=X(j)}selectCalendarCell(e){this.selectYear(e.value)}selectYear(e){this.yearSelected.emit(this.dateTimeAdapter.createDate(e,0,1));let t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment()),1),i=this.dateTimeAdapter.getNumDaysInMonth(t),n=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment()),Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment())),this.dateTimeAdapter.getHours(this.pickerMoment()),this.dateTimeAdapter.getMinutes(this.pickerMoment()),this.dateTimeAdapter.getSeconds(this.pickerMoment()));this.change.emit(n)}prevYearList(e){this._pickerMoment.set(this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1*w*y)),e.preventDefault()}nextYearList(e){this._pickerMoment.set(this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),w*y)),e.preventDefault()}previousEnabled(){return this.min()?!this.min()||!this.isSameYearList(this.pickerMoment(),this.min()):!0}nextEnabled(){return!this.max()||!this.isSameYearList(this.pickerMoment(),this.max())}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1*y),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),y),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-this.dateTimeAdapter.getYear(this.pickerMoment())%(y*w)),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),y*w-this.dateTimeAdapter.getYear(this.pickerMoment())%(y*w)-1),this.pickerMomentChange.emit(t);break;case"pageup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),e.altKey?-10*(y*w):-1*(y*w)),this.pickerMomentChange.emit(t);break;case"pagedown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),e.altKey?10*(y*w):y*w),this.pickerMomentChange.emit(t);break;case"enter":this.selectYear(this.dateTimeAdapter.getYear(this.pickerMoment())),this.keyboardEnter.emit(void 0);break;default:return}this.focusActiveCell(),e.preventDefault()}createYearCell(e){let t=this.dateTimeAdapter.createDate(e,0,1),i=this.dateTimeAdapter.getYearName(t),n="nxt-dt-year-"+e;return new _e(e,e.toString(),i,this.isYearEnabled(e),!1,n)}isYearEnabled(e){if(!this.dateTimeFilter())return!0;let t=this.dateTimeAdapter.createDate(e,0,1);for(let i=t;this.dateTimeAdapter.getYear(i)==e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(this.dateTimeFilter()(i,"year"))return!0;return!1}isSameYearList(e,t){return Math.floor(this.dateTimeAdapter.getYear(e)/(y*w))===Math.floor(this.dateTimeAdapter.getYear(t)/(y*w))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time-multi-year-view"]],viewQuery:function(t,i){t&1&&J(i.calendarBodyElm,j,5),t&2&&ee()},hostVars:4,hostBindings:function(t,i){t&2&&D("nxt-dt-calendar-view",!0)("nxt-dt-calendar-multi-year-view",!0)},inputs:{selectMode:[1,"selectMode"],selected:[1,"selected"],selecteds:[1,"selecteds"],_pickerMomentInput:[1,"pickerMoment","_pickerMomentInput"],dateTimeFilter:[1,"dateTimeFilter"],min:[1,"min"],max:[1,"max"]},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:14,vars:12,consts:[["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-table","nxt-dt-calendar-multi-year-table"],[1,"nxt-dt-calendar-header"],["colspan","3"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(t,i){t&1&&(h(0,"button",0),v("click",function(r){return i.prevYearList(r)}),h(1,"span",1),U(),h(2,"svg",2),z(3,"path",3),f()()(),ne(),h(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),S(8),f()()(),h(9,"tbody",7),v("keydown",function(r){return i.handleCalendarKeydown(r)})("select",function(r){return i.selectCalendarCell(r)}),f()(),h(10,"button",0),v("click",function(r){return i.nextYearList(r)}),h(11,"span",1),U(),h(12,"svg",8),z(13,"path",9),f()()()),t&2&&(T("disabled",!i.previousEnabled()),k("aria-label",i.prevButtonLabel()),p(8),ae(i.tableHeader()),p(),T("rows",i.years())("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell()??0)("todayValue",i.todayYear())("selectedValues",i.selectedYears())("selectMode",i.selectMode()),p(),T("disabled",!i.nextEnabled()),k("aria-label",i.nextButtonLabel()))},dependencies:[j],encapsulation:2,changeDetection:0})}}return s})(),$i=12,it=3,zi=(()=>{class s{constructor(){this.dateTimeAdapter=l(P),this.dateTimeFormats=l(be),this.selectMode=d("single"),this.selected=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.selecteds=d([],{transform:e=>e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}),this.pickerMoment=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e)||this.dateTimeAdapter.now())}),this.dateTimeFilter=d(),this.min=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.max=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.monthNames=this.dateTimeAdapter.getMonthNames("short"),this.monthsData=o(()=>{if(!this.pickerMoment())return;let e=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),t=[];for(let i=0;i<$i/it;i++){let n=[];for(let r=0;r<it;r++){let c=r+i*it,M=this.createMonthCell(c);n.push(M)}t.push(n)}return{months:t,todayMonth:e}}),this.months=o(()=>{let e=this.monthsData()?.months;return e!=null?this._months=e:this._months}),this.activeCell=o(()=>{if(this.pickerMoment())return this.dateTimeAdapter.getMonth(this.pickerMoment())}),this.isInSingleMode=o(()=>this.selectMode()==="single"),this.isInRangeMode=o(()=>this.selectMode()==="range"||this.selectMode()==="rangeFrom"||this.selectMode()==="rangeTo"),this.todayMonth=o(()=>{let e=this.monthsData()?.todayMonth;return e!=null?this._todayMonth=e:this._todayMonth}),this.selectedMonths=o(()=>{let e=[];return this.isInSingleMode()&&this.selected()&&(e[0]=this.getMonthInCurrentYear(this.selected())),this.isInRangeMode()&&this.selecteds()&&(e[0]=this.getMonthInCurrentYear(this.selecteds()[0]),e[1]=this.getMonthInCurrentYear(this.selecteds()[1])),e}),this.change=g(),this.monthSelected=g(),this.pickerMomentChange=g(),this.keyboardEnter=g(),this.calendarBodyElm=X(j)}selectCalendarCell(e){this.selectMonth(e.value)}selectMonth(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment()),e,1);this.monthSelected.emit(t);let i=this.dateTimeAdapter.getNumDaysInMonth(t),n=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment()),e,Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment())),this.dateTimeAdapter.getHours(this.pickerMoment()),this.dateTimeAdapter.getMinutes(this.pickerMoment()),this.dateTimeAdapter.getSeconds(this.pickerMoment()));this.change.emit(n)}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-3),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),3),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-this.dateTimeAdapter.getMonth(this.pickerMoment())),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),11-this.dateTimeAdapter.getMonth(this.pickerMoment())),this.pickerMomentChange.emit(t);break;case"pageup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),e.altKey?-10:-1),this.pickerMomentChange.emit(t);break;case"pagedown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),e.altKey?10:1),this.pickerMomentChange.emit(t);break;case"enter":this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment())),this.keyboardEnter.emit(void 0);break;default:return}this.focusActiveCell(),e.preventDefault()}createMonthCell(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment()),e,1),i=this.dateTimeAdapter.format(t,this.dateTimeFormats.monthYearA11yLabel),n="nxt-dt-month-"+e;return new _e(e,this.monthNames[e],i,this.isMonthEnabled(e),!1,n)}isMonthEnabled(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment()),e,1);for(let i=t;this.dateTimeAdapter.getMonth(i)===e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(i&&(!this.dateTimeFilter()||this.dateTimeFilter()(i,"month"))&&(!this.min()||this.dateTimeAdapter.compare(i,this.min())>=0)&&(!this.max()||this.dateTimeAdapter.compare(i,this.max())<=0))return!0;return!1}getMonthInCurrentYear(e){if(this.getValidDate(e)&&this.getValidDate(this.pickerMoment())){let t=this.dateTimeAdapter.compareYear(e,this.pickerMoment());return t<0?-1:t>0?12:this.dateTimeAdapter.getMonth(e)}}hasSameYear(e,t){return!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time-year-view"]],viewQuery:function(t,i){t&1&&J(i.calendarBodyElm,j,5),t&2&&ee()},hostVars:2,hostBindings:function(t,i){t&2&&D("nxt-dt-calendar-view",!0)},inputs:{selectMode:[1,"selectMode"],selected:[1,"selected"],selecteds:[1,"selecteds"],pickerMoment:[1,"pickerMoment"],dateTimeFilter:[1,"dateTimeFilter"],min:[1,"min"],max:[1,"max"]},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:5,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-year-table"],[1,"nxt-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(t,i){t&1&&(h(0,"table",0)(1,"thead",1)(2,"tr"),z(3,"th",2),f()(),h(4,"tbody",3),v("keydown",function(r){return i.handleCalendarKeydown(r)})("select",function(r){return i.selectCalendarCell(r)}),f()()),t&2&&(p(4),T("rows",i.months())("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell()??0)("todayValue",i.todayMonth())("selectedValues",i.selectedMonths())("selectMode",i.selectMode()))},dependencies:[j],encapsulation:2,changeDetection:0})}}return s})(),nt=(()=>{class s{constructor(){this.elmRef=l(F),this.pickerIntl=l(Fe),this.ngZone=l(E),this.dateTimeAdapter=l(P),this.dateTimeFormats=l(be),this.dateTimeFilter=d(),this.firstDayOfWeek=d(0),this.min=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):void 0)}),this.max=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):void 0)}),this._pickerMomentInput=d(void 0,{alias:"pickerMoment"}),this._pickerMoment=C({source:()=>this._pickerMomentInput(),computation:e=>e}),this.pickerMoment=o(()=>{let e=this.dateTimeAdapter.deserialize(this._pickerMoment());return this.getValidDate(e)||this.dateTimeAdapter.now()}),this.selectMode=d(),this.selected=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.selecteds=d([],{transform:e=>e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}),this.startView=d("month"),this.hideOtherMonths=d(!1),this.pickerMomentChange=g(),this.selectedChange=g(),this.userSelection=g(),this.yearSelected=g(),this.monthSelected=g(),this.periodButtonText=o(()=>this.isMonthView()?this.dateTimeAdapter.format(this.pickerMoment(),this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment())),this.periodButtonLabel=o(()=>this.isMonthView()?this.pickerIntl.switchToMultiYearViewLabel():this.pickerIntl.switchToMonthViewLabel()),this.prevButtonLabel=o(()=>{let e=this.currentView();if(e==="month")return this.pickerIntl.prevMonthLabel();if(e==="year")return this.pickerIntl.prevYearLabel()}),this.nextButtonLabel=o(()=>{let e=this.currentView();if(e==="month")return this.pickerIntl.nextMonthLabel();if(e==="year")return this.pickerIntl.nextYearLabel()}),this.currentView=C({source:()=>this.startView(),computation:e=>e}),this.isInSingleMode=o(()=>this.selectMode()==="single"),this.isInRangeMode=o(()=>{let e=this.selectMode();return e==="range"||e==="rangeFrom"||e==="rangeTo"}),this.showControlArrows=o(()=>this.currentView()!=="multi-years"),this.isMonthView=o(()=>this.currentView()==="month"),this.dateTimeFilterForViews=e=>{let t=this.dateTimeFilter();return!!e&&(!t||t(e,"date"))&&(!this.min()||this.dateTimeAdapter.compare(e,this.min())>=0)&&(!this.max()||this.dateTimeAdapter.compare(e,this.max())<=0)},It(()=>{this.currentView(),this.focusActiveCell()})}toggleViews(){this.currentView.set(this.currentView()=="month"?"multi-years":"month")}previousClicked(){let e=this.isMonthView()?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1);this._pickerMoment.set(e),this.pickerMomentChange.emit(e)}nextClicked(){let e=this.isMonthView()?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),1);this._pickerMoment.set(e),this.pickerMomentChange.emit(e)}dateSelected(e){this.dateTimeFilterForViews(e)&&this.selectedChange.emit(e)}goToDateInView(e,t){this.handlePickerMomentChange(e),this.currentView.set(t)}handlePickerMomentChange(e){let t=this.dateTimeAdapter.clampDate(e,this.min(),this.max());this._pickerMoment.set(t),this.pickerMomentChange.emit(t)}userSelected(){this.userSelection.emit(void 0)}prevButtonEnabled(){return!this.min()||!this.isSameView(this.pickerMoment(),this.min())}nextButtonEnabled(){return!this.max||!this.isSameView(this.pickerMoment(),this.max())}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(Y(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}selectYearInMultiYearView(e){this.yearSelected.emit(e)}selectMonthInYearView(e){this.monthSelected.emit(e)}isSameView(e,t){return this.currentView()==="month"?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t)):this.currentView()==="year"?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)):!1}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time-calendar"]],hostVars:2,hostBindings:function(t,i){t&2&&D("nxt-dt-calendar",!0)},inputs:{dateTimeFilter:[1,"dateTimeFilter"],firstDayOfWeek:[1,"firstDayOfWeek"],min:[1,"min"],max:[1,"max"],_pickerMomentInput:[1,"pickerMoment","_pickerMomentInput"],selectMode:[1,"selectMode"],selected:[1,"selected"],selecteds:[1,"selecteds"],startView:[1,"startView"],hideOtherMonths:[1,"hideOtherMonths"]},outputs:{pickerMomentChange:"pickerMomentChange",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},decls:21,vars:13,consts:[[1,"nxt-dt-calendar-control"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-control-content"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-period-button",3,"click"],[1,"nxt-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d",`M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424
                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428
                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z`],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                    C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"nxt-dt-calendar-main"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateTimeFilter","hideOtherMonths"],[3,"pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateTimeFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"]],template:function(t,i){if(t&1&&(h(0,"div",0)(1,"button",1),v("click",function(){return i.previousClicked()}),h(2,"span",2),U(),h(3,"svg",3),z(4,"path",4),f()()(),ne(),h(5,"div",5)(6,"button",6),v("click",function(){return i.toggleViews()}),h(7,"span",2),S(8),h(9,"span",7),U(),h(10,"svg",8)(11,"g"),z(12,"path",9),f()()()()()(),ne(),h(13,"button",1),v("click",function(){return i.nextClicked()}),h(14,"span",2),U(),h(15,"svg",10),z(16,"path",11),f()()()(),ne(),h(17,"div",12),W(18,xi,1,9,"nxt-date-time-month-view",13)(19,Si,1,7,"nxt-date-time-year-view",14)(20,Ii,1,7,"nxt-date-time-multi-year-view",14),f()),t&2){let n;p(),he("visibility",i.showControlArrows()?"visible":"hidden"),T("disabled",!i.prevButtonEnabled()),k("aria-label",i.prevButtonLabel()),p(5),k("aria-label",i.periodButtonLabel()),p(2),Z(" ",i.periodButtonText()," "),p(),he("transform","rotate("+(i.isMonthView()?0:180)+"deg)"),p(4),he("visibility",i.showControlArrows()?"visible":"hidden"),T("disabled",!i.nextButtonEnabled()),k("aria-label",i.nextButtonLabel()),p(5),$((n=i.currentView())==="month"?18:n==="year"?19:n==="multi-years"?20:-1)}},dependencies:[Xe,Hi,zi,Wi],encapsulation:2,changeDetection:0})}}return s})(),ji=0,ai=(()=>{class s{constructor(){this.dateTimeAdapter=l(P),this.dateTimeFormats=l(be),this.showSecondsTimer=d(!1),this.hour12Timer=d(!1),this.startView=d("month"),this.stepHour=d(1),this.stepMinute=d(1),this.stepSecond=d(1),this.firstDayOfWeek=d(0),this.hideOtherMonths=d(!1),this.id=`nxt-dt-picker-${ji++}`,this.formatString=o(()=>this.pickerType()==="both"?this.dateTimeFormats.fullPickerInput:this.pickerType()==="calendar"?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput),this.dateTimeChecker=u(e=>!!e&&(!this.dateTimeFilter()||this.dateTimeFilter()(e))&&(!this.min()||this.dateTimeAdapter.compare(e,this.min())>=0)&&(!this.max()||this.dateTimeAdapter.compare(e,this.max())<=0))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275dir=G({type:s,inputs:{showSecondsTimer:[1,"showSecondsTimer"],hour12Timer:[1,"hour12Timer"],startView:[1,"startView"],stepHour:[1,"stepHour"],stepMinute:[1,"stepMinute"],stepSecond:[1,"stepSecond"],firstDayOfWeek:[1,"firstDayOfWeek"],hideOtherMonths:[1,"hideOtherMonths"]}})}}return s})(),Ki=(()=>{class s{transform(e,t){if(e==null||!Number.isFinite(e))return;let i=Math.floor(e);return t==null||!Number.isFinite(t)?i:i.toFixed(0).padStart(Math.floor(t),"0")}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275pipe=vt({name:"numberFixedLen",type:s,pure:!0})}}return s})(),Ui=(()=>{class s{constructor(){this.showDivider=d(!1),this.upBtnAriaLabel=d(),this.upBtnDisabled=d(!1),this.downBtnAriaLabel=d(),this.downBtnDisabled=d(!1),this.boxValue=d(),this.value=d(0),this.min=d(0),this.max=d(0),this.step=d(1),this.inputLabel=d(),this.valueChange=g(),this.inputChange=g(),this.inputStream=new x,this.displayValue=o(()=>this.boxValue()||this.value())}ngOnInit(){this.inputStreamSub=this.inputStream.pipe(ct(500),Te()).subscribe(e=>{if(e){let t=je(e,0);this.updateValueViaInput(t)}})}ngOnDestroy(){this.inputStreamSub?.unsubscribe(),this.inputStreamSub=void 0}upBtnClicked(){this.updateValue(this.value()+this.step())}downBtnClicked(){this.updateValue(this.value()-this.step())}handleInputChange(e){this.inputStream.next(e)}updateValue(e){this.valueChange.emit(e)}updateValueViaInput(e){e>this.max()||e<this.min()||this.inputChange.emit(e)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time-timer-box"]],hostVars:2,hostBindings:function(t,i){t&2&&D("nxt-dt-timer-box",!0)},inputs:{showDivider:[1,"showDivider"],upBtnAriaLabel:[1,"upBtnAriaLabel"],upBtnDisabled:[1,"upBtnDisabled"],downBtnAriaLabel:[1,"downBtnAriaLabel"],downBtnDisabled:[1,"downBtnDisabled"],boxValue:[1,"boxValue"],value:[1,"value"],min:[1,"min"],max:[1,"max"],step:[1,"step"],inputLabel:[1,"inputLabel"]},outputs:{valueChange:"valueChange",inputChange:"inputChange"},decls:15,vars:10,consts:[["valueInput",""],["aria-hidden","true",1,"nxt-dt-timer-divider"],["type","button","tabindex","-1",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d",`M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0
                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4
                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z`],[1,"nxt-dt-timer-content"],["maxlength","2",1,"nxt-dt-timer-input",3,"input","value"],[1,"nxt-hidden-accessible"],["d",`M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751
                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0
                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z`]],template:function(t,i){if(t&1){let n=L();W(0,Vi,1,0,"div",1),O(1,"button",2),ce("click",function(){return _(n),b(i.upBtnClicked())}),O(2,"span",3),U(),O(3,"svg",4),we(4,"path",5),Q()()(),ne(),O(5,"label",6)(6,"input",7,0),xt(8,"numberFixedLen"),ce("input",function(){_(n);let c=Ae(7);return b(i.handleInputChange(c.value))}),Q(),O(9,"span",8),S(10),Q()(),O(11,"button",2),ce("click",function(){return _(n),b(i.downBtnClicked())}),O(12,"span",3),U(),O(13,"svg",4),we(14,"path",9),Q()()()}t&2&&($(i.showDivider()?0:-1),p(),se("disabled",i.upBtnDisabled()),k("aria-label",i.upBtnAriaLabel()),p(5),se("value",St(8,7,i.displayValue(),2)),p(4),ae(i.inputLabel()),p(),se("disabled",i.downBtnDisabled()),k("aria-label",i.downBtnAriaLabel()))},dependencies:[Ki],encapsulation:2,changeDetection:0})}}return s})(),st=(()=>{class s{constructor(){this.ngZone=l(E),this.elmRef=l(F),this.pickerIntl=l(Fe),this.dateTimeAdapter=l(P),this.pickerMoment=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e)||this.dateTimeAdapter.now())}),this.min=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.max=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.showSecondsTimer=d(!1),this.hour12Timer=d(!1),this.stepHour=d(1),this.stepMinute=d(1),this.stepSecond=d(1),this.hourValue=o(()=>this.dateTimeAdapter.getHours(this.pickerMoment())),this.hoursWithPM=o(()=>{let e=this.hourValue(),t;return this.hour12Timer()?(e===0?(e=12,t=!1):e>0&&e<12?t=!1:e===12?t=!0:e>12&&e<24&&(e=e-12,t=!0),{hours:e,isPM:t}):{hours:e,isPM:t}}),this._isPM=!1,this.isPM=C({source:()=>this.hoursWithPM().isPM,computation:e=>e!=null?this._isPM=e:this._isPM}),this.hourBoxValue=o(()=>this.hoursWithPM().hours),this.minuteValue=o(()=>this.dateTimeAdapter.getMinutes(this.pickerMoment())),this.secondValue=o(()=>this.dateTimeAdapter.getSeconds(this.pickerMoment())),this.upHourButtonLabel=this.pickerIntl.upHourLabel.asReadonly(),this.downHourButtonLabel=this.pickerIntl.downHourLabel.asReadonly(),this.upMinuteButtonLabel=this.pickerIntl.upMinuteLabel.asReadonly(),this.downMinuteButtonLabel=this.pickerIntl.downMinuteLabel.asReadonly(),this.upSecondButtonLabel=this.pickerIntl.upSecondLabel.asReadonly(),this.downSecondButtonLabel=this.pickerIntl.downSecondLabel.asReadonly(),this.hour12ButtonLabel=o(()=>this.isPM()?this.pickerIntl.hour12PMLabel():this.pickerIntl.hour12AMLabel()),this.selectedChange=g(),this.upHourEnabled=o(()=>!this.max()||this.compareHours(this.stepHour(),this.max())<1),this.downHourEnabled=o(()=>!this.min()||this.compareHours(-this.stepHour(),this.min())>-1),this.upMinuteEnabled=o(()=>!this.max()||this.compareMinutes(this.stepMinute(),this.max())<1),this.downMinuteEnabled=o(()=>!this.min()||this.compareMinutes(-this.stepMinute(),this.min())>-1),this.upSecondEnabled=o(()=>!this.max()||this.compareSeconds(this.stepSecond(),this.max())<1),this.downSecondEnabled=o(()=>!this.min()||this.compareSeconds(-this.stepSecond(),this.min())>-1)}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(Y(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(e){let t=this.hour12Timer();t&&this.isPM()&&e>=1&&e<=11?e=e+12:t&&!this.isPM()&&e===12&&(e=0),this.setHourValue(e)}setHourValue(e){let t=this.dateTimeAdapter.setHours(this.pickerMoment(),e);this.selectedChange.emit(t)}setMinuteValue(e){let t=this.dateTimeAdapter.setMinutes(this.pickerMoment(),e);this.selectedChange.emit(t)}setSecondValue(e){let t=this.dateTimeAdapter.setSeconds(this.pickerMoment(),e);this.selectedChange.emit(t)}setMeridiem(e){this.isPM.set(!this.isPM());let t=this.hourValue();this.isPM()?t=t+12:t=t-12,t>=0&&t<=23&&this.setHourValue(t),e.preventDefault()}compareHours(e,t){let i=this.dateTimeAdapter.getHours(this.pickerMoment())+e,n=this.dateTimeAdapter.setHours(this.pickerMoment(),i);return this.dateTimeAdapter.compare(n,t)}compareMinutes(e,t){let i=this.dateTimeAdapter.getMinutes(this.pickerMoment())+e,n=this.dateTimeAdapter.setMinutes(this.pickerMoment(),i);return this.dateTimeAdapter.compare(n,t)}compareSeconds(e,t){let i=this.dateTimeAdapter.getSeconds(this.pickerMoment())+e,n=this.dateTimeAdapter.setSeconds(this.pickerMoment(),i);return this.dateTimeAdapter.compare(n,t)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time-timer"]],hostVars:3,hostBindings:function(t,i){t&2&&(k("tabindex",-1),D("nxt-dt-timer",!0))},inputs:{pickerMoment:[1,"pickerMoment"],min:[1,"min"],max:[1,"max"],showSecondsTimer:[1,"showSecondsTimer"],hour12Timer:[1,"hour12Timer"],stepHour:[1,"stepHour"],stepMinute:[1,"stepMinute"],stepSecond:[1,"stepSecond"]},outputs:{selectedChange:"selectedChange"},decls:4,vars:20,consts:[["inputLabel","Hour",3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step"],["inputLabel","Minute",3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],["inputLabel","Second",3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],[1,"nxt-dt-timer-hour12"],["inputLabel","Second",3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"nxt-dt-control-button-content"]],template:function(t,i){t&1&&(h(0,"nxt-date-time-timer-box",0),v("inputChange",function(r){return i.setHourValueViaInput(r)})("valueChange",function(r){return i.setHourValue(r)}),f(),h(1,"nxt-date-time-timer-box",1),v("inputChange",function(r){return i.setMinuteValue(r)})("valueChange",function(r){return i.setMinuteValue(r)}),f(),W(2,Ni,1,9,"nxt-date-time-timer-box",2),W(3,Ei,4,1,"div",3)),t&2&&(T("upBtnAriaLabel",i.upHourButtonLabel())("downBtnAriaLabel",i.downHourButtonLabel())("upBtnDisabled",!i.upHourEnabled())("downBtnDisabled",!i.downHourEnabled())("boxValue",i.hourBoxValue())("value",i.hourValue())("min",0)("max",23)("step",i.stepHour()),p(),T("showDivider",!0)("upBtnAriaLabel",i.upMinuteButtonLabel())("downBtnAriaLabel",i.downMinuteButtonLabel())("upBtnDisabled",!i.upMinuteEnabled())("downBtnDisabled",!i.downMinuteEnabled())("value",i.minuteValue())("min",0)("max",59)("step",i.stepMinute()),p(),$(i.showSecondsTimer()?2:-1),p(),$(i.hour12Timer()?3:-1))},dependencies:[Ui],encapsulation:2,changeDetection:0})}}return s})(),ni={transformPicker:xe("transformPicker",[ue("void",I({opacity:0,transform:"scale(1, 0)"})),ue("enter",I({opacity:1,transform:"scale(1, 1)"})),re("void => enter",Nt([Ot("@fadeInPicker",Se(),{optional:!0}),te("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),re("enter => void",te("100ms linear",I({opacity:0})))]),fadeInPicker:xe("fadeInPicker",[ue("enter",I({opacity:1})),ue("void",I({opacity:0})),re("void => enter",te("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},fe=(()=>{class s{constructor(){this.elmRef=l(F),this.pickerIntl=l(Fe),this.dateTimeAdapter=l(P),this.calendar=X(nt),this.timer=X(st),this.picker=u(void 0),this.activeSelectedIndex=u(0),this.hidePicker$=new x,this.hidePickerStream=this.hidePicker$.asObservable(),this.confirmSelected$=new x,this.confirmSelectedStream=this.confirmSelected$.asObservable(),this.pickerOpened$=new x,this.pickerOpenedStream=this.pickerOpened$.asObservable(),this._clamPickerMoment=u(void 0),this.pickerType=o(()=>this.picker()?.pickerType()),this.pickerMode=o(()=>this.picker()?.pickerMode()),this.min=o(()=>this.picker()?.min()),this.max=o(()=>this.picker()?.max()),this.selected=o(()=>this.picker()?.selected()),this.selecteds=o(()=>this.picker()?.selecteds()),this.selectMode=o(()=>this.picker()?.selectMode()),this.isInRangeMode=o(()=>this.picker()?.isInRangeMode()),this.firstDayOfWeek=o(()=>this.picker()?.firstDayOfWeek()),this.dateTimeFilter=o(()=>this.picker()?.dateTimeFilter()),this.startView=o(()=>this.picker()?.startView()),this.hideOtherMonths=o(()=>this.picker()?.hideOtherMonths()),this.showSecondsTimer=o(()=>this.picker()?.showSecondsTimer()),this.hour12Timer=o(()=>this.picker()?.hour12Timer()),this.stepHour=o(()=>this.picker()?.stepHour()),this.stepMinute=o(()=>this.picker()?.stepMinute()),this.stepSecond=o(()=>this.picker()?.stepSecond()),this.disabled=o(()=>this.picker()?.disabled()),this.formatString=o(()=>this.picker()?.formatString()),this.startAt=o(()=>this.picker()?.startAt()),this.dateTimeChecker=o(()=>this.picker()?.dateTimeChecker()),this.cancelLabel=this.pickerIntl.cancelBtnLabel.asReadonly(),this.setLabel=this.pickerIntl.setBtnLabel.asReadonly(),this.fromLabel=this.pickerIntl.rangeFromLabel.asReadonly(),this.toLabel=this.pickerIntl.rangeToLabel.asReadonly(),this.fromFormattedValue=o(()=>{let e=this.selecteds()?.[0];return e?this.dateTimeAdapter.format(e,this.formatString()):""}),this.toFormattedValue=o(()=>{let e=this.selecteds()?.[1];return e?this.dateTimeAdapter.format(e,this.formatString()):""}),this.showControlButtons=o(()=>{let e=this.pickerMode(),t=this.pickerType();return e==="dialog"||t!=="calendar"&&e!=="inline"})}get pickerMoment(){return this._clamPickerMoment()}set pickerMoment(e){e&&this._clamPickerMoment.set(this.dateTimeAdapter.clampDate(e,this.min(),this.max()))}get containerElm(){return this.elmRef.nativeElement}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationDone(e){e.toState==="enter"&&this.pickerOpened$.next()}dateSelected(e){let t,i=this.picker();if(i?.isInSingleMode()){t=this.dateSelectedInSingleMode(e),t?(this.pickerMoment=t,i.select(t)):this.pickerType()==="calendar"&&this.hidePicker$.next();return}i?.isInRangeMode()&&(t=this.dateSelectedInRangeMode(e),t&&(this.pickerMoment=t[this.activeSelectedIndex()],i.select(t)))}timeSelected(e){this.pickerMoment=this.dateTimeAdapter.clone(e);let t=this.picker();if(t?.dateTimeChecker()?.(this.pickerMoment)){if(t.isInSingleMode()){t.select(this.pickerMoment);return}if(this.isInRangeMode()){let i=[...this.selecteds()||[]];this.activeSelectedIndex()===0&&i[1]&&this.dateTimeAdapter.compare(this.pickerMoment,i[1])===1||this.activeSelectedIndex()===1&&i[0]&&this.dateTimeAdapter.compare(this.pickerMoment,i[0])===-1?(i[0]=this.pickerMoment,i[1]=this.pickerMoment):i[this.activeSelectedIndex()]=this.pickerMoment,t.select(i)}}}onCancelClicked(e){this.hidePicker$.next(),e.preventDefault()}onSetClicked(e){if(!this.dateTimeChecker()?.(this.pickerMoment)){this.hidePicker$.next(),e.preventDefault();return}this.confirmSelected$.next(e),e.preventDefault()}handleClickOnInfoGroup(e,t){this.setActiveSelectedIndex(t),e.preventDefault(),e.stopPropagation()}handleKeydownOnInfoGroup(e,t,i){switch(e.keyCode){case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":t.focus(),this.setActiveSelectedIndex(i===0?1:0),e.preventDefault(),e.stopPropagation();break;case"Space":this.setActiveSelectedIndex(i),e.preventDefault(),e.stopPropagation();break;default:return}}setActiveSelectedIndex(e){if(this.selectMode()==="range"&&this.activeSelectedIndex()!==e){this.activeSelectedIndex.set(e);let t=this.selecteds()?.[this.activeSelectedIndex()];this.selecteds()&&t&&(this.pickerMoment=this.dateTimeAdapter.clone(t))}}initPicker(){this.pickerMoment=this.startAt()||this.dateTimeAdapter.now(),this.activeSelectedIndex.set(this.selectMode()==="rangeTo"?1:0)}dateSelectedInSingleMode(e){if(!this.dateTimeAdapter.isSameDay(e,this.selected()))return this.updateAndCheckCalendarDate(e)}dateSelectedInRangeMode(e){let t=this.selecteds()?.[0],i=this.selecteds()?.[1],n=this.updateAndCheckCalendarDate(e);if(n)return this.selectMode()==="range"?this.selecteds()?.length&&!i&&t&&(this.dateTimeAdapter.differenceInCalendarDays(n,t)??0)>=0?(i=n,this.activeSelectedIndex.set(1)):(t=n,i=void 0,this.activeSelectedIndex.set(0)):this.selectMode()==="rangeFrom"?(t=n,i&&this.dateTimeAdapter.compare(t,i)>0&&(i=void 0)):this.selectMode()==="rangeTo"&&(i=n,t&&this.dateTimeAdapter.compare(t,i)>0&&(t=void 0)),[t,i]}updateAndCheckCalendarDate(e){let t;return this.pickerType()==="both"?(t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),t=this.dateTimeAdapter.clampDate(t,this.min(),this.max())):t=this.dateTimeAdapter.clone(e),this.dateTimeChecker()?.(t)?t:void 0}focusPicker(){if(this.pickerMode()==="inline")return;let e=this.calendar(),t=this.timer();e?e.focusActiveCell():t&&t.focus()}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time-container"]],viewQuery:function(t,i){t&1&&J(i.calendar,nt,5)(i.timer,st,5),t&2&&ee(2)},hostVars:12,hostBindings:function(t,i){if(t&1&&He("@transformPicker.done",function(r){return i.handleContainerAnimationDone(r)}),t&2){let n;Ye("@transformPicker",i.pickerMode()==="inline"?"":"enter"),k("id",(n=i.picker())==null?null:n.id),D("nxt-dt-container",!0)("nxt-dt-popup-container",i.pickerMode()==="popup")("nxt-dt-dialog-container",i.pickerMode()==="dialog")("nxt-dt-inline-container",i.pickerMode()==="inline")("nxt-dt-container-disabled",i.disabled())}},decls:5,vars:6,consts:[["from",""],["to",""],[1,"nxt-dt-container-inner",3,"cdkTrapFocus"],[1,"nxt-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter","startView","hideOtherMonths"],[1,"nxt-dt-container-row",3,"pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"nxt-dt-container-info","nxt-dt-container-row"],[1,"nxt-dt-container-buttons","nxt-dt-container-row"],[1,"nxt-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter","startView","hideOtherMonths"],[1,"nxt-dt-container-row",3,"selectedChange","pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-from",3,"click","keydown","tabindex"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-container-range-content"],[1,"nxt-dt-container-info-label"],[1,"nxt-dt-container-info-value"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-to",3,"click","keydown","tabindex"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-container-control-button",3,"click"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"]],template:function(t,i){t&1&&(h(0,"div",2),W(1,Li,1,11,"nxt-date-time-calendar",3),W(2,Fi,1,8,"nxt-date-time-timer",4),W(3,Ri,15,12,"div",5),W(4,Bi,7,2,"div",6),f()),t&2&&(T("cdkTrapFocus",i.pickerMode()!=="inline")("@fadeInPicker",i.pickerMode()==="inline"?"":"enter"),p(),$(i.pickerType()==="both"||i.pickerType()==="calendar"?1:-1),p(),$(i.pickerType()==="both"||i.pickerType()==="timer"?2:-1),p(),$(i.isInRangeMode()?3:-1),p(),$(i.showControlButtons()?4:-1))},dependencies:[Qe,nt,st],encapsulation:2,data:{animation:[ni.transformPicker,ni.fadeInPicker]},changeDetection:0})}}return s})(),Gi={provide:Ke,useExisting:Ce(()=>Zi),multi:!0},Zi=(()=>{class s extends ai{constructor(){super(...arguments),this.container=X(fe),this.pickerType=d("both"),this._disabled=d(!1,{alias:"disabled"}),this.disabled=C({source:()=>this._disabled(),computation:e=>e}),this.selectMode=d("single"),this._valueInput=d(void 0,{alias:"value"}),this._value=C({source:()=>this._valueInput(),computation:e=>e}),this.value=o(()=>{let e=this._value();return e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),e}),this._valuesInput=d(void 0,{alias:"values"}),this._values=C({source:()=>this._valuesInput(),computation:e=>e}),this.values=o(()=>{let e=this._values();return e&&e.length>0?(e=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),t&&this.dateTimeAdapter.clone(t))),[...e]):[]}),this._startAt=d(void 0,{alias:"startAt",transform:e=>this.getValidDate(this.dateTimeAdapter.deserialize(e))}),this.startAt=o(()=>{let e=this._startAt();if(e)return e;let t=this.selectMode();return t==="single"?this.value():t==="range"||t==="rangeFrom"?this.values()?.[0]:t==="rangeTo"?this.values()?.[1]:void 0}),this.dateTimeFilter=d(),this.min=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.max=d(void 0,{transform:e=>(e=this.dateTimeAdapter.deserialize(e),this.getValidDate(e))}),this.yearSelected=g(),this.monthSelected=g(),this.selected=C({source:()=>this.value(),computation:e=>e}),this.selecteds=C({source:()=>this.values(),computation:e=>e||[]}),this.isOpen=u(!0).asReadonly(),this.pickerMode=u("inline").asReadonly(),this.isInSingleMode=o(()=>this.selectMode()==="single"),this.isInRangeMode=o(()=>this.selectMode()==="range"||this.selectMode()==="rangeFrom"||this.selectMode()==="rangeTo")}ngOnInit(){let e=this.container();e&&e.picker.set(this)}writeValue(e){if(e=e??void 0,this.isInSingleMode()){this._value.set(e);let t=this.container();t&&(t.pickerMoment=e)}else{this._values.set(e);let t=this.container();t&&(t.pickerMoment=this.values()?.[t.activeSelectedIndex()])}}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled.set(e)}select(e){this.disabled()||(Array.isArray(e)?this._values.set([...e]):this._value.set(e),this.onModelChange?.(e),this.onModelTouched?.())}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Be(s)))(i||s)}})()}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time-inline"]],viewQuery:function(t,i){t&1&&J(i.container,fe,5),t&2&&ee()},hostVars:2,hostBindings:function(t,i){t&2&&D("nxt-dt-inline",!0)},inputs:{pickerType:[1,"pickerType"],_disabled:[1,"disabled","_disabled"],selectMode:[1,"selectMode"],_valueInput:[1,"value","_valueInput"],_valuesInput:[1,"values","_valuesInput"],_startAt:[1,"startAt","_startAt"],dateTimeFilter:[1,"dateTimeFilter"],min:[1,"min"],max:[1,"max"]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected"},features:[$e([Gi]),ye],decls:1,vars:0,template:function(t,i){t&1&&z(0,"nxt-date-time-container")},dependencies:[fe],encapsulation:2,changeDetection:0})}}return s})(),Xi={provide:Ke,useExisting:Ce(()=>ri),multi:!0},qi={provide:Pt,useExisting:Ce(()=>ri),multi:!0},ri=(()=>{class s{get elementRef(){return this.elmRef}constructor(){this.elmRef=l(F),this.renderer=l(bt),this.dateTimeAdapter=l(P),this.dateTimeFormats=l(be),this.dateTime=d(void 0,{alias:"nxtDateTime"}),this.dateTimeFilter=d(),this._disabled=d(!1,{alias:"disabled"}),this.disabled=C({source:()=>this._disabled(),computation:t=>t}),this.min=d(void 0,{transform:t=>this.getValidDate(this.dateTimeAdapter.deserialize(t))}),this.max=d(void 0,{transform:t=>this.getValidDate(this.dateTimeAdapter.deserialize(t))}),this.selectMode=d("single"),this.rangeSeparator=d("~"),this._valueInput=d(void 0,{alias:"value"}),this._value=C({source:()=>this._valueInput(),computation:t=>t}),this.valueValidity=o(()=>{let t=this._value();t=this.dateTimeAdapter.deserialize(t);let i=!t||!!this.dateTimeAdapter.isValid(t);return{value:t,lastValueValid:i}},{equal:(t,i)=>t.lastValueValid==i.lastValueValid&&this.dateTimeAdapter.isEqual(t.value,i.value)}),this.parsedValue=C(()=>this.valueValidity().value),this.value=this.parsedValue.asReadonly(),this._valuesInput=d(new Array,{alias:"values"}),this._values=C({source:()=>this._valuesInput(),computation:t=>t}),this.valuesValidity=o(()=>{let t=this._values(),i;return t&&t.length>0?(t=t.map(n=>(n=this.dateTimeAdapter.deserialize(n),this.getValidDate(n))),i=(!t[0]||this.dateTimeAdapter.isValid(t[0]))&&(!t[1]||this.dateTimeAdapter.isValid(t[1]))):(t=[],i=!0),{values:t,lastValueValid:i}},{equal:(t,i)=>t.lastValueValid==i.lastValueValid&&this.dateTimeAdapter.isEqual(t.values[0],i.values[0])&&this.dateTimeAdapter.isEqual(t.values[1],i.values[1])}),this.parsedValues=C(()=>this.valuesValidity().values),this.values=this.parsedValues.asReadonly(),this.nativeElementValue=o(()=>{if(this.isInSingleMode()){let t=this.value();return t?this.dateTimeAdapter.format(t,this.dtPicker()?.formatString()):void 0}else if(this.isInRangeMode()){let t=this.values();if(t&&t.length>0){let i=t[0],n=t[1],r=i?this.dateTimeAdapter.format(i,this.dtPicker()?.formatString()):"",c=n?this.dateTimeAdapter.format(n,this.dtPicker()?.formatString()):"";if(!r&&!c)return;if(this.selectMode()==="range")return r+" "+this.rangeSeparator()+" "+c;if(this.selectMode()==="rangeFrom")return r;if(this.selectMode()==="rangeTo")return this.elmRef.nativeElement,c}else return}}),this.dateTimeChange=g(),this.dateTimeInput=g(),this.isInSingleMode=o(()=>this.selectMode()==="single"),this.isInRangeMode=o(()=>{let t=this.selectMode();return t==="range"||t==="rangeFrom"||t==="rangeTo"}),this.dtPicker=u(void 0),this.lastValueValid=C({source:()=>this.valueValidity().lastValueValid&&this.valuesValidity().lastValueValid,computation:t=>t}),this.parseValidator=o(()=>{let t=this.lastValueValid();return()=>t?null:{dateTimeParse:{text:this.elmRef.nativeElement.value}}}),this.minValidator=o(()=>{let t=this.min(),i=this.isInSingleMode(),n=this.isInRangeMode();return r=>{if(i){let c=this.getValidDate(this.dateTimeAdapter.deserialize(r.value));return!t||!c||this.dateTimeAdapter.compare(t,c)<=0?null:{dateTimeMin:{min:t,actual:c}}}else if(n&&r.value){let c=this.getValidDate(this.dateTimeAdapter.deserialize(r.value[0])),M=this.getValidDate(this.dateTimeAdapter.deserialize(r.value[1]));return!t||!c||!M||this.dateTimeAdapter.compare(t,c)<=0?null:{dateTimeMin:{min:t,actual:[c,M]}}}return null}}),this.maxValidator=o(()=>{let t=this.max(),i=this.isInSingleMode(),n=this.isInRangeMode();return r=>{if(i){let c=this.getValidDate(this.dateTimeAdapter.deserialize(r.value));return!t||!c||this.dateTimeAdapter.compare(t,c)>=0?null:{dateTimeMax:{max:t,actual:c}}}else if(n&&r.value){let c=this.getValidDate(this.dateTimeAdapter.deserialize(r.value[0])),M=this.getValidDate(this.dateTimeAdapter.deserialize(r.value[1]));return!t||!c||!M||this.dateTimeAdapter.compare(t,M)>=0?null:{dateTimeMax:{max:t,actual:[c,M]}}}return null}}),this.filterValidator=o(()=>{let t=this.dateTimeFilter();return i=>{let n=this.getValidDate(this.dateTimeAdapter.deserialize(i.value));return!t||!n||t(n)?null:{dateTimeFilter:!0}}}),this.rangeValidator=o(()=>{let t=this.isInSingleMode();return i=>{if(t||!i.value)return null;let n=this.getValidDate(this.dateTimeAdapter.deserialize(i.value[0])),r=this.getValidDate(this.dateTimeAdapter.deserialize(i.value[1]));return!n||!r||this.dateTimeAdapter.compare(n,r)<=0?null:{dateTimeRange:!0}}}),this.validator=o(()=>Yt.compose([this.parseValidator(),this.minValidator(),this.maxValidator(),this.filterValidator(),this.rangeValidator()])),this.valueChange=g(),this.disabledChange=g(),this.inputAriaOwns=o(()=>this.dtPicker()?.isOpen()&&this.dtPicker().id||void 0),this.minIso8601=o(()=>this.min()?this.dateTimeAdapter.toIso8601(this.min()):void 0),this.maxIso8601=o(()=>this.max()?this.dateTimeAdapter.toIso8601(this.max()):void 0);let e;H(()=>{let t=this.dateTime();t&&e!==t&&(e=t,this.dtPicker.set(e),e.registerInput(this))}),H(()=>{let t=this.nativeElementValue();t!=null&&this.renderer.setProperty(this.elmRef.nativeElement,"value",t)}),H(()=>{this.validator(),this.validatorOnChange?.()}),H(()=>{this.valueChange.emit(this.parsedValue())}),H(()=>{this.valueChange.emit(this.parsedValues())})}ngOnInit(){if(!this.dtPicker)throw Error("DateTimePicker: the picker input doesn't have any associated nxt-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker()?.confirmSelectedChange.subscribe(e=>{Array.isArray(e)?this._values.set(e):this._value.set(e),this.onModelChange?.(e),this.onModelTouched?.(),this.dateTimeChange.emit({source:this,value:e,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:e,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub?.unsubscribe(),this.dtPickerSub=void 0}writeValue(e){e=e??void 0,this.isInSingleMode()?this._value.set(e):this._values.set(e)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled.set(e)}validate(e){let t=this.validator();return t?t(e):null}registerOnValidatorChange(e){this.validatorOnChange=e}handleKeydownOnHost(e){e.altKey&&e.code.toLowerCase()==="arrowdown"&&(this.dtPicker()?.open(),e.preventDefault())}handleBlurOnHost(e){this.onModelTouched?.()}handleInputOnHost(e){let t=e.target.value;this.selectMode()==="single"?this.changeInputInSingleMode(t):this.selectMode()==="range"?this.changeInputInRangeMode(t):this.changeInputInRangeFromToMode(t)}handleChangeOnHost(e){let t;this.isInSingleMode()?t=this.value():this.isInRangeMode()&&(t=this.values()),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement})}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}convertTimeStringToDateTimeString(e,t){if(e){let i=t||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(i,this.dateTimeFormats.datePickerInput)+" "+e}}changeInputInSingleMode(e){let t=e;this.dtPicker()?.pickerType()==="timer"&&(t=this.convertTimeStringToDateTimeString(t,this.value()));let i=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid.set(!i||this.dateTimeAdapter.isValid(i)),i=this.getValidDate(i),(!this.isSameValue(i,this.value())||i===void 0)&&(this.parsedValue.set(i),this.onModelChange?.(i),this.dateTimeInput.emit({source:this,value:i,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(e){let t=this.selectMode()==="rangeFrom"?this.values()[0]:this.values()[1];this.dtPicker()?.pickerType()==="timer"&&(e=this.convertTimeStringToDateTimeString(e,t));let i=this.dateTimeAdapter.parse(e,this.dateTimeFormats.parseInput);this.lastValueValid.set(!i||this.dateTimeAdapter.isValid(i)),i=this.getValidDate(i),!(this.selectMode()==="rangeFrom"&&this.isSameValue(i,this.values()[0])&&i||this.selectMode()==="rangeTo"&&this.isSameValue(i,this.values()[1])&&i)&&(this.parsedValues.set(this.selectMode()==="rangeFrom"?[i,this.values()[1]]:[this.values()[0],i]),this.onModelChange?.(this.parsedValues()),this.dateTimeInput.emit({source:this,value:this.parsedValues(),input:this.elmRef.nativeElement}))}changeInputInRangeMode(e){let t=e.split(this.rangeSeparator()),i=t[0],n=t[1];this.dtPicker()?.pickerType()==="timer"&&(i=this.convertTimeStringToDateTimeString(i,this.values()[0]),n=this.convertTimeStringToDateTimeString(n,this.values()[1]));let r=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput),c=this.dateTimeAdapter.parse(n,this.dateTimeFormats.parseInput);this.lastValueValid.set((!r||this.dateTimeAdapter.isValid(r))&&(!c||this.dateTimeAdapter.isValid(c))),r=this.getValidDate(r),c=this.getValidDate(c),(!this.isSameValue(r,this.values()[0])||!this.isSameValue(c,this.values()[1])||!r&&!c)&&(this.parsedValues.set([r,c]),this.onModelChange?.(this.parsedValues()),this.dateTimeInput.emit({source:this,value:this.parsedValues(),input:this.elmRef.nativeElement}))}isSameValue(e,t){return e&&t?this.dateTimeAdapter.compare(e,t)===0:e==t}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275dir=G({type:s,selectors:[["input","nxtDateTime",""]],hostVars:5,hostBindings:function(t,i){t&1&&v("keydown",function(r){return i.handleKeydownOnHost(r)})("blur",function(r){return i.handleBlurOnHost(r)})("input",function(r){return i.handleInputOnHost(r)})("change",function(r){return i.handleChangeOnHost(r)}),t&2&&(se("disabled",i.disabled()),k("aria-haspopup",!0)("aria-owns",i.inputAriaOwns())("min",i.minIso8601())("max",i.maxIso8601()))},inputs:{dateTime:[1,"nxtDateTime","dateTime"],dateTimeFilter:[1,"dateTimeFilter"],_disabled:[1,"disabled","_disabled"],min:[1,"min"],max:[1,"max"],selectMode:[1,"selectMode"],rangeSeparator:[1,"rangeSeparator"],_valueInput:[1,"value","_valueInput"],_valuesInput:[1,"values","_valuesInput"]},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput",valueChange:"valueChange",disabledChange:"disabledChange"},exportAs:["nxtDateTimeInput"],features:[$e([Xi,qi])]})}}return s})(),Ts=(()=>{class s{constructor(){this.dtPicker=d(void 0,{alias:"nxtDateTimeTrigger"}),this._disabled=d(void 0,{alias:"disabled"}),this.disabled=o(()=>this._disabled()??!!this.dtPicker()?.disabled())}handleClickOnHost(e){let t=this.dtPicker();t&&(t.open(),e.stopPropagation())}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275dir=G({type:s,selectors:[["","nxtDateTimeTrigger",""]],hostVars:2,hostBindings:function(t,i){t&1&&v("click",function(r){return i.handleClickOnHost(r)}),t&2&&D("nxt-dt-trigger-disabled",i.disabled())},inputs:{dtPicker:[1,"nxtDateTimeTrigger","dtPicker"],_disabled:[1,"disabled","_disabled"]}})}}return s})(),Qi=0,at=class{constructor(){this.autoFocus=!0,this.hasBackdrop=!0,this.disableClose=!1,this.role="dialog",this.paneClass="",this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new Wt,this.id=`nxt-dialog-${Qi++}`}},Le=class{constructor(a,e,t,i){this.overlayRef=a,this.container=e,this.id=t,this.isAnimating=this.container.isAnimating,this._beforeClose$=new x,this._afterOpen$=new x,this._afterClosed$=new x,this.disableClose=!!this.container.config()?.disableClose,Ie(this.container.animationStateChanged).pipe(ie(n=>n.phaseName==="done"&&n.toState==="enter"),Y(1)).subscribe(()=>{this._afterOpen$.next(void 0),this._afterOpen$.complete()}),Ie(this.container.animationStateChanged).pipe(ie(n=>n.phaseName==="done"&&n.toState==="exit"),Y(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged?.unsubscribe(),this.locationChanged=void 0,this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=void 0}),this.overlayRef.keydownEvents().pipe(ie(n=>n.code.toLowerCase()==="escape"&&!this.disableClose)).subscribe(()=>this.close()),i&&(this.locationChanged=i.subscribe(()=>{this.container.config()?.closeOnNavigation&&this.close()}))}close(a){this.result=a,Ie(this.container.animationStateChanged).pipe(ie(e=>e.phaseName==="start"),Y(1)).subscribe(()=>{this._beforeClose$.next(a),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(a){let e=this.getPositionStrategy();return a&&(a.left||a.right)?a.left?e.left(a.left):e.right(a.right):e.centerHorizontally(),a&&(a.top||a.bottom)?a.top?e.top(a.top):e.bottom(a.bottom):e.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(a="auto",e="auto"){return this.overlayRef.updateSize({width:a,height:e}),this.overlayRef.updatePosition(),this}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}};function Ji(s,...a){if(s==null||s==null)throw TypeError("Cannot convert undefined or null to object");for(let e of a)if(e!=null&&e!=null)for(let t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}var en={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},tn={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"},si=(()=>{class s extends Ht{constructor(){super(...arguments),this.elementRef=l(F),this.focusTrapFactory=l(ii),this.document=l(B,{optional:!0}),this.portalOutlet=X(Ne),this.focusTrap=u(void 0),this.ariaLabelledBy=u(void 0),this.animationStateChanged=g(),this.isAnimating=u(!1),this._config=u(void 0),this.config=this._config.asReadonly(),this.state=u("enter"),this.params=u({x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0}),this.dialogContainerAnimation=o(()=>({value:this.state(),params:this.params()}))}attachComponentPortal(e){let t=this.portalOutlet();if(t?.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),t.attachComponentPortal(e)}attachTemplatePortal(e){throw new Error("Method not implemented.")}setConfig(e){this._config.set(e),e.event&&this.calculateZoomOrigin(e.event)}onAnimationStart(e){this.isAnimating.set(!0),this.animationStateChanged.emit(e)}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="exit"&&this.restoreFocus(),this.animationStateChanged.emit(e),this.isAnimating.set(!1)}startExitAnimation(){this.state.set("exit")}calculateZoomOrigin(e){let t=e.clientX,i=e.clientY,n=window.innerWidth/2,r=window.innerHeight/2,c=t-n,M=i-r,R=t/window.innerWidth,K=i/window.innerHeight;this.params.set({x:`${c}px`,y:`${M}px`,ox:`${R*100}%`,oy:`${K*100}%`,scale:0})}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()).catch(()=>{}))}trapFocus(){this.focusTrap()||this.focusTrap.set(this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config()?.autoFocus&&this.focusTrap()?.focusInitialElementWhenReady().catch(()=>{})}restoreFocus(){let e=this.elementFocusedBeforeDialogWasOpened;e&&typeof e.focus=="function"&&e.focus(),this.focusTrap()&&(this.focusTrap().destroy(),this.focusTrap.set(void 0))}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Be(s)))(i||s)}})()}static{this.\u0275cmp=A({type:s,selectors:[["nxt-dialog-container"]],viewQuery:function(t,i){t&1&&J(i.portalOutlet,Ne,5),t&2&&ee()},hostVars:8,hostBindings:function(t,i){if(t&1&&He("@slideModal.start",function(r){return i.onAnimationStart(r)})("@slideModal.done",function(r){return i.onAnimationDone(r)}),t&2){let n,r,c;Ye("@slideModal",i.dialogContainerAnimation()),k("tabindex",-1)("aria-labelledby",i.ariaLabelledBy())("id",(n=i.config())==null?null:n.id)("role",(r=i.config())==null?null:r.role)("aria-describedby",(c=i.config())==null?null:c.ariaDescribedBy),D("nxt-dialog-container",!0)}},outputs:{animationStateChanged:"animationStateChanged"},features:[ye],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&Tt(0,Pi,0,0,"ng-template",0)},dependencies:[Ne],encapsulation:2,data:{animation:[xe("slideModal",[re("void => enter",[I(tn),te("300ms cubic-bezier(0.35, 0, 0.25, 1)",I("*")),te("150ms",Et([I({transform:"scale(1)",offset:0}),I({transform:"scale(1.05)",offset:.3}),I({transform:"scale(.95)",offset:.8}),I({transform:"scale(1)",offset:1})])),Se()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),re("enter => exit",[Se(),te(200,I(en))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}})}}return s})(),nn=new N("NXT_DIALOG_DATA"),sn=new N("NXT_DIALOG_SCROLL_STRATEGY"),an=new N("NXT_DIALOG_DEFAULT_OPTIONS"),rn=(()=>{class s{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){let e=this.parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(){this.overlay=l(Ge),this.injector=l(q),this.location=l(Vt,{optional:!0})??void 0,this.defaultOptions=l(an,{optional:!0})??void 0,this.parentDialog=l(s,{optional:!0,skipSelf:!0}),this.overlayContainer=l($t),this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._afterOpenAtThisLevel=new x,this._afterAllClosedAtThisLevel=new x,this.afterAllClosed=dt(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:ve([void 0],this._afterAllClosed).pipe(ot())),this.scrollStrategy=l(sn,{optional:!0})??(()=>this.overlay.scrollStrategies.block());let e=this.location;!this.parentDialog&&e&&e.subscribe(()=>this.closeAll())}open(e,t){if(t=on(t,this.defaultOptions),t.id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);let i=this.createOverlay(t),n=this.attachDialogContainer(i,t),r=this.attachDialogContent(e,n,i,t);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this.removeOpenDialog(r)),this.afterOpen.next(r),r}closeAll(){let e=this.openDialogs.length;for(;e--;)this.openDialogs[e].close()}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}attachDialogContent(e,t,i,n){let r=new Le(i,t,n.id,this.location);if(n.hasBackdrop&&i.backdropClick().subscribe(()=>{r.disableClose||r.close()}),!(e instanceof ft)){let c=this.createInjector(n,r,t),M=t.attachComponentPortal(new Ve(e,void 0,c));r.componentInstance=M.instance}return r.updateSize(n.width,n.height).updatePosition(n.position),r}createInjector(e,t,i){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector;return q.create({providers:[{provide:Le,useValue:t},{provide:si,useValue:i},{provide:nn,useValue:e.data}],parent:n||this.injector})}createOverlay(e){let t=this.getOverlayConfig(e);return this.overlay.create(t)}attachDialogContainer(e,t){let i=new Ve(si,t.viewContainerRef),n=e.attach(i);return n.instance.setConfig(t),n.instance}getOverlayConfig(e){let t=new Ue({positionStrategy:this.overlay.position().global(),scrollStrategy:e.scrollStrategy||this.scrollStrategy(),panelClass:e.paneClass,hasBackdrop:e.hasBackdrop,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}removeOpenDialog(e){let t=this._openDialogsAtThisLevel.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((i,n)=>{i?n.setAttribute("aria-hidden",i):n.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){let e=this.overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let n=t[i];n!==e&&n.nodeName!=="SCRIPT"&&n.nodeName!=="STYLE"&&!n.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function on(s,a){return Ji(new at,s,a)}var dn=new N("NXT_DTPICKER_SCROLL_STRATEGY"),Cs=(()=>{class s extends ai{constructor(){super(),this.overlay=l(Ge),this.viewContainerRef=l(Mt),this.dialogService=l(rn),this.ngZone=l(E),this.defaultScrollStrategy=l(dn,{optional:!0})??(()=>this.overlay.scrollStrategies.block()),this.document=l(B,{optional:!0}),this.backdropClass=d(),this.panelClass=d(),this._startAt=d(void 0,{alias:"startAt",transform:i=>this.getValidDate(this.dateTimeAdapter.deserialize(i))}),this.startAt=o(()=>{let i=this._startAt();if(i)return i;let n=this.dtInput();if(n){if(n.selectMode()==="single")return n.value();if(n.selectMode()==="range"||n.selectMode()==="rangeFrom")return n.values()[0];if(n.selectMode()==="rangeTo")return n.values()[1]}}),this.pickerType=d("both"),this.pickerMode=d("popup",{transform:i=>i==="popup"?i:"dialog"}),this._disabled=d(void 0,{alias:"disabled"}),this.disabled=C({source:()=>this._disabled(),computation:i=>i??!!this.dtInput()?.disabled()}),this._isOpen=d(!1,{alias:"isOpen"}),this.isOpen=u(!1),this.scrollStrategy=d(),this.afterPickerOpened=g({alias:"open"}),this.afterPickerClosed=g({alias:"close"}),this.yearSelected=g(),this.monthSelected=g(),this.isOpenChange=g(),this.confirmSelectedChange=g(),this.disabledChange=g(),this._dtInput=u(void 0),this.dtInput=this._dtInput.asReadonly(),this.valueChange=o(()=>this._dtInput()?.valueChange),this.selected=u(void 0),this.selecteds=u(new Array),this.min=o(()=>this.dtInput()?.min()),this.max=o(()=>this.dtInput()?.max()),this.dateTimeFilter=o(()=>this.dtInput()?.dateTimeFilter()),this.selectMode=o(()=>this.dtInput()?.selectMode()),this.isInSingleMode=o(()=>!!this.dtInput()?.isInSingleMode()),this.isInRangeMode=o(()=>!!this.dtInput()?.isInRangeMode()),H(i=>{let n=this.valueChange();if(n){let r=n.subscribe(c=>{Array.isArray(c)?this.selecteds.set(c):this.selected.set(c)});i(()=>r.unsubscribe())}});let e;H(()=>{let i=this.disabled();e!=null&&this.disabledChange.emit(i),e=i});let t;H(()=>{let i=this._isOpen();if(t===void 0){t=i,t&&this.open();return}t!=i&&((t=i)?this.open():this.close())})}ngOnDestroy(){this.close(),this.popupRef&&this.popupRef.dispose(),this.hidePickerStreamSub?.unsubscribe(),this.hidePickerStreamSub=void 0,this.confirmSelectedStreamSub?.unsubscribe(),this.confirmSelectedStreamSub=void 0,this.pickerOpenedStreamSub?.unsubscribe(),this.pickerOpenedStreamSub=void 0}registerInput(e){if(this._dtInput())throw Error("A Nxt DateTimePicker can only be associated with a single input.");this._dtInput.set(e)}open(){if(!(this.isOpen()||this.disabled())){if(!this._dtInput())throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode()?this.selected.set(this._dtInput().value()):this.isInRangeMode()&&this.selecteds.set(this._dtInput().values()),this.selected()&&this.pickerType()!=="calendar"&&this._startAt()&&this.selected.set(this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected()),this.dateTimeAdapter.getMonth(this.selected()),this.dateTimeAdapter.getDate(this.selected()),this.dateTimeAdapter.getHours(this._startAt()),this.dateTimeAdapter.getMinutes(this._startAt()),this.dateTimeAdapter.getSeconds(this._startAt()))),this.pickerMode()==="dialog"?this.openAsDialog():this.openAsPopup(),this.pickerContainer&&this.pickerContainer.picker.set(this),this.hidePickerStreamSub=this.pickerContainer?.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer?.confirmSelectedStream.subscribe(e=>{this.confirmSelect(e)})}}select(e){Array.isArray(e)?this.selecteds.set([...e]):this.selected.set(e),this.pickerMode()!=="dialog"&&this.pickerType()==="calendar"&&(this.selectMode()==="single"&&this.selected()||this.selectMode()==="rangeFrom"&&this.selecteds()[0]||this.selectMode()==="rangeTo"&&this.selecteds()[1]||this.selectMode()==="range"&&this.selecteds()[0]&&this.selecteds()[1])&&this.confirmSelect()}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}close(){if(!this.isOpen())return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub?.unsubscribe(),this.hidePickerStreamSub=void 0,this.confirmSelectedStreamSub?.unsubscribe(),this.confirmSelectedStreamSub=void 0,this.pickerOpenedStreamSub?.unsubscribe(),this.pickerOpenedStreamSub=void 0,this.dialogRef&&(this.dialogRef.close(),this.dialogRef=void 0);let e=()=>{this.isOpen()&&(this.isOpen.set(!1),this.isOpenChange.emit(this.isOpen()),this.afterPickerClosed.emit(void 0),this.focusedElementBeforeOpen=void 0)};this.focusedElementBeforeOpen&&typeof this.focusedElementBeforeOpen.focus=="function"?(this.focusedElementBeforeOpen.focus(),setTimeout(e)):e()}confirmSelect(e){if(this.isInSingleMode()){let t=this.selected()||this.startAt()||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(t)}else this.isInRangeMode()&&this.confirmSelectedChange.emit(this.selecteds());this.close()}openAsDialog(){let e=this.backdropClass(),t=this.panelClass();this.dialogRef=this.dialogService.open(fe,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...e?le(e):[]],paneClass:["nxt-dt-dialog",...t?le(t):[]],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy()||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.afterOpen().subscribe(()=>{this.isOpen.set(!0),this.isOpenChange.emit(this.isOpen()),this.afterPickerOpened.emit(void 0)}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new Ve(fe,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef?.hasAttached()){let e=this.popupRef?.attach(this.pickerContainerPortal);this.pickerContainer=e?.instance,this.ngZone.onStable.asObservable().pipe(Y(1)).subscribe(()=>{this.popupRef?.updatePosition()}),this.pickerOpenedStreamSub=this.pickerContainer?.pickerOpenedStream.pipe(Y(1)).subscribe(()=>{this.isOpen.set(!0),this.isOpenChange.emit(this.isOpen()),this.afterPickerOpened.emit(void 0)})}}createPopup(){let e=this.backdropClass(),t=this.panelClass(),i=new Ue({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...e?le(e):[]],scrollStrategy:this.scrollStrategy()||this.defaultScrollStrategy(),panelClass:["nxt-dt-popup",...t?le(t):[]]});this.popupRef=this.overlay.create(i),lt(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe(ie(n=>!!(n.code.toLowerCase()==="escape"||this._dtInput()&&n.altKey&&n.code.toLowerCase()==="arrowup")))).subscribe(()=>this.close())}createPopupPositionStrategy(){if(this._dtInput())return this.overlay.position().flexibleConnectedTo(this._dtInput().elementRef).withTransformOriginOn(".nxt-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=A({type:s,selectors:[["nxt-date-time"]],inputs:{backdropClass:[1,"backdropClass"],panelClass:[1,"panelClass"],_startAt:[1,"startAt","_startAt"],pickerType:[1,"pickerType"],pickerMode:[1,"pickerMode"],_disabled:[1,"disabled","_disabled"],_isOpen:[1,"isOpen","_isOpen"],scrollStrategy:[1,"scrollStrategy"]},outputs:{afterPickerOpened:"open",afterPickerClosed:"close",yearSelected:"yearSelected",monthSelected:"monthSelected",isOpenChange:"isOpenChange",confirmSelectedChange:"confirmSelectedChange",disabledChange:"disabledChange"},features:[ye],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}}return s})();export{P as a,be as b,ri as c,Ts as d,Cs as e};
