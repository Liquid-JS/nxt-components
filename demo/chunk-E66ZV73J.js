import{a as Dt}from"./chunk-TALDZWHH.js";import{c as we,d as X,e as wt,g as x,h as he,i as At,j as ie,k as Ae,l as xt}from"./chunk-7CTX2MHX.js";import{a as $e,d as Et,e as Ot}from"./chunk-VY67UTTH.js";import{a as St,b as It,c as se,d as Vt,e as re,f as xe,g as Ft,h as ze,i as Lt,j as We,k as Rt,l as Ke}from"./chunk-QX3OSLPD.js";import{a as ne,c as je,d as ue}from"./chunk-I2EHY4MC.js";import{i as vt,k as He}from"./chunk-OWF3LYDB.js";import{$a as ct,$b as ve,Ab as ke,B as J,Bb as T,Cb as l,Cc as F,Db as p,Eb as Y,F as rt,Fb as H,G as B,Gb as de,H as ge,Hb as Me,Hc as Ye,Lb as V,M as at,Mb as le,Nb as Re,P as ot,Rb as C,Sb as Be,T as _e,Ta as u,Tb as ye,U as D,Ub as c,X as S,Y as j,Ya as dt,Yb as G,Z as f,Za as lt,Zb as K,_b as U,ab as ht,ac as ce,bb as d,bc as w,ca as g,cc as ft,da as _,db as ut,dc as A,e as M,ea as $,ec as te,f as it,fa as ee,fc as Z,ga as z,ha as L,hc as gt,ib as v,ic as _t,jc as Ct,ka as h,kb as W,l as q,la as I,lb as mt,lc as Tt,mb as Te,mc as Pe,nb as pt,nc as bt,oc as Ne,qc as kt,rc as Mt,sa as Ce,t as nt,tc as yt,ub as k,v as st,va as O,vb as P,wb as N,xb as Le,z as Fe,zb as be}from"./chunk-Q24A7GIH.js";import{a as Oe}from"./chunk-FBFWB55K.js";function Bt(n){return n.buttons===0||n.detail===0}function Pt(n){let r=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var Nt=new S("cdk-input-modality-detector-options"),Yt={ignoreKeys:[18,17,224,91,16]},Ht=650,Ue={passive:!0,capture:!0},jt=(()=>{class n{_platform=f(ne);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new it(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(t=>t===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=se(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<Ht||(this._modality.next(Bt(e)?"keyboard":"mouse"),this._mostRecentTarget=se(e))};_onTouchstart=e=>{if(Pt(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=se(e)};constructor(){let e=f(I),t=f(L),i=f(Nt,{optional:!0});if(this._options=Oe(Oe({},Yt),i),this.modalityDetected=this._modality.pipe(at(1)),this.modalityChanged=this.modalityDetected.pipe(ge()),this._platform.isBrowser){let s=f(ct).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[s.listen(t,"keydown",this._onKeydown,Ue),s.listen(t,"mousedown",this._onMousedown,Ue),s.listen(t,"touchstart",this._onTouchstart,Ue)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),me=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(me||{}),$t=new S("cdk-focus-monitor-default-options"),De=Dt({passive:!0,capture:!0}),zt=(()=>{class n{_ngZone=f(I);_platform=f(ne);_inputModalityDetector=f(jt);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(L);_stopInputModalityDetector=new M;constructor(){let e=f($t,{optional:!0});this._detectionMode=e?.detectionMode||me.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let t=se(e);for(let i=t;i;i=i.parentElement)e.type==="focus"?this._onFocus(e,i):this._onBlur(e,i)};monitor(e,t=!1){let i=ue(e);if(!this._platform.isBrowser||i.nodeType!==1)return q();let s=St(i)||this._document,a=this._elementInfo.get(i);if(a)return t&&(a.checkChildren=!0),a.subject;let o={checkChildren:t,subject:new M,rootNode:s};return this._elementInfo.set(i,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){let t=ue(e),i=this._elementInfo.get(t);i&&(i.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(i))}focusVia(e,t,i){let s=ue(e),a=this._document.activeElement;s===a?this._getClosestElementsInfo(s).forEach(([o,m])=>this._originChanged(o,t,m)):(this._setOrigin(t),typeof s.focus=="function"&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===me.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,t){e.classList.toggle("cdk-focused",!!t),e.classList.toggle("cdk-touch-focused",t==="touch"),e.classList.toggle("cdk-keyboard-focused",t==="keyboard"),e.classList.toggle("cdk-mouse-focused",t==="mouse"),e.classList.toggle("cdk-program-focused",t==="program")}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&t,this._detectionMode===me.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?Ht:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(e,t){let i=this._elementInfo.get(t),s=se(e);!i||!i.checkChildren&&t!==s||this._originChanged(t,this._getFocusOrigin(s),i)}_onBlur(e,t){let i=this._elementInfo.get(t);!i||i.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(i,null))}_emitOrigin(e,t){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let t=e.rootNode,i=this._rootNodeFocusListenerCount.get(t)||0;i||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,De),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,De)}),this._rootNodeFocusListenerCount.set(t,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ot(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){let i=this._rootNodeFocusListenerCount.get(t);i>1?this._rootNodeFocusListenerCount.set(t,i-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,De),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,De),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,i){this._setClasses(e,t),this._emitOrigin(i,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){let t=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&t.push([s,i])}),t}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:t,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!t||t===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(t))return!0}return!1}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ze=(()=>{class n{_elementRef=f(O);_focusMonitor=f(zt);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new h;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>{this._focusOrigin=t,this.cdkFocusChange.emit(t)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=W({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var Wt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(t,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();var Ge=(()=>{class n{_platform=f(ne);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return oi(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let t=ai(fi(e));if(t&&(Kt(t)===-1||!this.isVisible(t)))return!1;let i=e.nodeName.toLowerCase(),s=Kt(e);return e.hasAttribute("contenteditable")?s!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!mi(e)?!1:i==="audio"?e.hasAttribute("controls")?s!==-1:!1:i==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,t){return pi(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ai(n){try{return n.frameElement}catch{return null}}function oi(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function di(n){let r=n.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea"}function li(n){return hi(n)&&n.type=="hidden"}function ci(n){return ui(n)&&n.hasAttribute("href")}function hi(n){return n.nodeName.toLowerCase()=="input"}function ui(n){return n.nodeName.toLowerCase()=="a"}function Ut(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let r=n.getAttribute("tabindex");return!!(r&&!isNaN(parseInt(r,10)))}function Kt(n){if(!Ut(n))return null;let r=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}function mi(n){let r=n.nodeName.toLowerCase(),e=r==="input"&&n.type;return e==="text"||e==="password"||r==="select"||r==="textarea"}function pi(n){return li(n)?!1:di(n)||ci(n)||n.hasAttribute("contenteditable")||Ut(n)}function fi(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var pe=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_enabled=!0;constructor(r,e,t,i,s=!1,a){this._element=r,this._checker=e,this._ngZone=t,this._document=i,this._injector=a,s||this.attachAnchors()}destroy(){let r=this._startAnchor,e=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){let e=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return r=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let t=this._getFirstTabbableElement(e);return t?.focus(r),!!t}return e.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){let e=this._getRegionBoundary("start");return e&&e.focus(r),!!e}focusLastTabbableElement(r){let e=this._getRegionBoundary("end");return e&&e.focus(r),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children;for(let t=0;t<e.length;t++){let i=e[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[t]):null;if(i)return i}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children;for(let t=e.length-1;t>=0;t--){let i=e[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[t]):null;if(i)return i}return null}_createAnchor(){let r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,e){r?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._injector?dt(r,{injector:this._injector}):setTimeout(r)}},Zt=(()=>{class n{_checker=f(Ge);_ngZone=f(I);_document=f(L);_injector=f(z);constructor(){f(Vt).load(Wt)}create(e,t=!1){return new pe(e,this._checker,this._ngZone,this._document,t,this._injector)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xe=(()=>{class n{_elementRef=f(O);_focusTrapFactory=f(Zt);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){f(ne).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=It(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=W({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Ye],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Ye]},exportAs:["cdkTrapFocus"],features:[Ce]})}return n})();var Qe=class extends pe{_focusTrapManager;_inertStrategy;get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(r,e,t,i,s,a,o,m){super(r,e,t,i,o.defer,m),this._focusTrapManager=s,this._inertStrategy=a,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},qe=class{_listener=null;preventFocus(r){this._listener&&r._document.removeEventListener("focus",this._listener,!0),this._listener=e=>this._trapFocus(r,e),r._ngZone.runOutsideAngular(()=>{r._document.addEventListener("focus",this._listener,!0)})}allowFocus(r){this._listener&&(r._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(r,e){let t=e.target,i=r._element;t&&!i.contains(t)&&!t.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{r.enabled&&!i.contains(r._document.activeElement)&&r.focusFirstTabbableElement()})}},gi=new S("FOCUS_TRAP_INERT_STRATEGY"),_i=(()=>{class n{_focusTrapStack=[];register(e){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==e);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();let t=this._focusTrapStack,i=t.indexOf(e);i!==-1&&(t.splice(i,1),t.length&&t[t.length-1]._enable())}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gt=(()=>{class n{_checker=f(Ge);_ngZone=f(I);_focusTrapManager=f(_i);_document=f(L);_inertStrategy;_injector=f(z);constructor(){let e=f(gi,{optional:!0});this._inertStrategy=e||new qe}create(e,t={defer:!1}){let i;return typeof t=="boolean"?i={defer:t}:i=t,new Qe(e,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,i,this._injector)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E=class{constructor(){this._localeChanges=new M,this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}get localeChanges(){return this._localeChanges}compare(r,e){if(!this.isValid(r)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");let t=this.clone(r),i=this.clone(e),s=this.getTime(t)-this.getTime(i);return s<0?-1:s>0?1:s}compareYear(r,e){if(!this.isValid(r)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");let t=this.getYear(r),i=this.getYear(e),s=t-i;return s<0?-1:s>0?1:0}deserialize(r){return r==null||r==null||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid()}setLocale(r){this.locale=r,this._localeChanges.next()}clampDate(r,e,t){return e&&this.compare(r,e)<0?e:t&&this.compare(r,t)>0?t:r}},Q=new S("NXT_DATE_TIME_FORMATS"),Ti=["nxtDateTimeCalendarBody",""],bi=(n,r,e)=>({"nxt-dt-calendar-cell-out":n,"nxt-dt-calendar-cell-today":r,"nxt-dt-calendar-cell-selected":e});function ki(n,r){if(n&1){let e=V();l(0,"td",2),C("click",function(){let i=g(e).$implicit,s=c(2);return _(s.selectCell(i))}),l(1,"span",3),A(2),p()()}if(n&2){let e=r.$implicit,t=r.$index,i=c().$index,s=c();ft(Tt("nxt-dt-calendar-cell ",e.cellClass)),ce("width",100/s.numCols,"%")("padding-top",50*s.cellRatio/s.numCols,"%")("padding-bottom",50*s.cellRatio/s.numCols,"%"),w("nxt-dt-calendar-cell-active",s.isActiveCell(i,t))("nxt-dt-calendar-cell-disabled",!e.enabled)("nxt-dt-calendar-cell-in-range",s.isInRange(e.value))("nxt-dt-calendar-cell-range-from",s.isRangeFrom(e.value))("nxt-dt-calendar-cell-range-from-long",s.isInRange(e.value+7))("nxt-dt-calendar-cell-range-to",s.isRangeTo(e.value))("nxt-dt-calendar-cell-range-to-long",s.isInRange(e.value-7)),T("tabindex",s.isActiveCell(i,t)?0:-1),k("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null),u(),T("ngClass",kt(28,bi,e.out,e.value===s.todayValue,s.isSelected(e.value))),u(),Z(" ",e.displayValue," ")}}function Mi(n,r){if(n&1&&(l(0,"tr",0),be(1,ki,3,32,"td",1,Le),p()),n&2){let e=r.$implicit;u(),ke(e)}}var fe=class{constructor(r,e,t,i,s=!1,a=""){this.value=r,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.out=s,this.cellClass=a}},ae=(()=>{class n{get calendarBodyClass(){return!0}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}constructor(e,t){this.elmRef=e,this.ngZone=t,this.activeCell=0,this.numCols=7,this.cellRatio=1,this.select=new h}ngOnInit(){}selectCell(e){this.select.emit(e)}isActiveCell(e,t){return e*this.numCols+t===this.activeCell}isSelected(e){if(!this.selectedValues||this.selectedValues.length===0)return!1;if(this.isInSingleMode)return e===this.selectedValues[0];if(this.isInRangeMode){let t=this.selectedValues[0],i=this.selectedValues[1];return e===t||e===i}return!1}isInRange(e){if(this.isInRangeMode){let t=this.selectedValues?.[0],i=this.selectedValues?.[1];return t!==void 0&&i!==void 0?e>=t&&e<=i:e===t||e===i}return!1}isRangeFrom(e){if(this.isInRangeMode){let t=this.selectedValues?.[0];return t!==void 0&&e===t}return!1}isRangeTo(e){if(this.isInRangeMode){let t=this.selectedValues?.[1];return t!==void 0&&e===t}return!1}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(B(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}static{this.\u0275fac=function(t){return new(t||n)(d(O),d(I))}}static{this.\u0275cmp=v({type:n,selectors:[["","nxtDateTimeCalendarBody",""]],hostVars:2,hostBindings:function(t,i){t&2&&w("nxt-dt-calendar-body",i.calendarBodyClass)},inputs:{activeCell:"activeCell",rows:"rows",numCols:"numCols",cellRatio:"cellRatio",todayValue:"todayValue",selectedValues:"selectedValues",selectMode:"selectMode"},outputs:{select:"select"},exportAs:["nxtDateTimeCalendarBody"],attrs:Ti,decls:2,vars:0,consts:[["role","row"],[3,"class","tabindex","nxt-dt-calendar-cell-active","nxt-dt-calendar-cell-disabled","nxt-dt-calendar-cell-in-range","nxt-dt-calendar-cell-range-from","nxt-dt-calendar-cell-range-from-long","nxt-dt-calendar-cell-range-to","nxt-dt-calendar-cell-range-to-long","width","paddingTop","paddingBottom"],[3,"click","tabindex"],[1,"nxt-dt-calendar-cell-content",3,"ngClass"]],template:function(t,i){t&1&&be(0,Mi,3,0,"tr",0,Le),t&2&&ke(i.rows)},dependencies:[He],encapsulation:2,changeDetection:0})}}return n})(),yi=(n,r)=>r.long;function vi(n,r){if(n&1&&(l(0,"th",3)(1,"span"),A(2),p()()),n&2){let e=r.$implicit;k("aria-label",e.long),u(2),te(e.short)}}var Je=7,wi=6,Ai=(()=>{class n{get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){e>=0&&e<=6&&e!==this._firstDayOfWeek&&(this._firstDayOfWeek=e,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))}get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){let t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedDates()}get selecteds(){return this._selecteds||[]}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedDates()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(t,this._pickerMoment)&&this.initiated&&this.generateCalendar()}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get weekdays(){return this._weekdays}get days(){return this._days}get activeCell(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get calendarView(){return!0}constructor(e,t,i){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this.hideOtherMonths=!1,this._firstDayOfWeek=0,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.firstRowOffset=0,this.selectedChange=new h,this.userSelection=new h,this.pickerMomentChange=new h}ngOnInit(){this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateCalendar(),this.initiated=!0}ngOnDestroy(){this.localeSub?.unsubscribe(),this.localeSub=void 0}selectCalendarCell(e){!e.enabled||this.hideOtherMonths&&e.out||this.selectDate(e.value)}selectDate(e){let t=e-1,i=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,t);this.selectedChange.emit(i),this.userSelection.emit()}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case"pageup":t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case"pagedown":t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case"enter":(!this.dateTimeFilter||this.dateTimeFilter(this.pickerMoment,"date"))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),e.preventDefault()}generateWeekDays(){let e=this.dateTimeAdapter.getDayOfWeekNames("long"),t=this.dateTimeAdapter.getDayOfWeekNames("short"),i=this.dateTimeAdapter.getDayOfWeekNames("narrow"),s=this.firstDayOfWeek,a=e.map((o,m)=>({long:o,short:t[m],narrow:i[m]}));this._weekdays=a.slice(s).concat(a.slice(0,s))}generateCalendar(){if(!this.pickerMoment)return;this.todayDate=void 0;let e=this.dateTimeAdapter.getDay(this.firstDateOfMonth),t=this.firstDayOfWeek,i=0-(e+(Je-t))%Je;this.firstRowOffset=Math.abs(i),this._days=[];for(let s=0;s<wi;s++){let a=[];for(let o=0;o<Je;o++){let m=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,i),R=this.createDateCell(m,i);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),m)&&(this.todayDate=i+1),a.push(R),i+=1}this._days.push(a)}this.setSelectedDates()}createDateCell(e,t){let i=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),a=this.dateTimeAdapter.getDate(e).toString(),o=this.dateTimeAdapter.format(e,this.dateTimeFormats.dateA11yLabel),m=this.isDateEnabled(e),R=t+1,oe=R<1||R>i,ni="nxt-dt-day-"+this.dateTimeAdapter.getDay(e);return new fe(R,a,o,m,oe,ni)}isDateEnabled(e){return!!e&&(!this.dateTimeFilter||this.dateTimeFilter(e,"date"))&&(!this.min||this.dateTimeAdapter.compare(e,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(e,this.max)<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}isSameMonth(e,t){return!!(e&&t&&this.dateTimeAdapter.isValid(e)&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t))}setSelectedDates(){if(this.selectedDates=[],!!this.firstDateOfMonth){if(this.isInSingleMode&&this.selected){let e=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth)??0;this.selectedDates[0]=e+1;return}this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(e=>{if(this.dateTimeAdapter.isValid(e))return(this.dateTimeAdapter.differenceInCalendarDays(e,this.firstDateOfMonth)??0)+1}))}}focusActiveCell(){this.calendarBodyElm?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||n)(d(F),d(E),d(Q))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time-month-view"]],viewQuery:function(t,i){if(t&1&&G(ae,7),t&2){let s;K(s=U())&&(i.calendarBodyElm=s.first)}},hostVars:2,hostBindings:function(t,i){t&2&&w("nxt-dt-calendar-view",i.calendarView)},inputs:{hideOtherMonths:"hideOtherMonths",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateTimeFilter:"dateTimeFilter",min:"min",max:"max"},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},decls:8,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-month-table"],[1,"nxt-dt-calendar-header"],[1,"nxt-dt-weekdays"],["scope","col",1,"nxt-dt-weekday"],["aria-hidden","true","colspan","7",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr",2),be(3,vi,3,2,"th",3,yi),p(),l(5,"tr"),Y(6,"th",4),p()(),l(7,"tbody",5),C("keydown",function(a){return i.handleCalendarKeydown(a)})("select",function(a){return i.selectCalendarCell(a)}),p()()),t&2&&(w("nxt-dt-calendar-only-current-month",i.hideOtherMonths),u(3),ke(i.weekdays),u(4),T("rows",i.days)("todayValue",i.todayDate??void 0)("selectedValues",i.selectedDates)("selectMode",i.selectMode)("activeCell",i.activeCell??0))},dependencies:[ae],encapsulation:2,changeDetection:0})}}return n})(),Ee=(()=>{class n{constructor(){this.changes=new M,this.upSecondLabel=$localize`:@@nxt-pick-datetime.up-second:Add a second`,this.downSecondLabel=$localize`:@@nxt-pick-datetime.down-second:Minus a second`,this.upMinuteLabel=$localize`:@@nxt-pick-datetime.up-minute:Add a minute`,this.downMinuteLabel=$localize`:@@nxt-pick-datetime.down-minute:Minus a minute`,this.upHourLabel=$localize`:@@nxt-pick-datetime.up-hour:Add a hour`,this.downHourLabel=$localize`:@@nxt-pick-datetime.down-hour:Minus a hour`,this.prevMonthLabel=$localize`:@@nxt-pick-datetime.prev-month:Previous month`,this.nextMonthLabel=$localize`:@@nxt-pick-datetime.next-month:Next month`,this.prevYearLabel=$localize`:@@nxt-pick-datetime.prev-year:Previous year`,this.nextYearLabel=$localize`:@@nxt-pick-datetime.next-year:Next year`,this.prevMultiYearLabel=$localize`:@@nxt-pick-datetime.prev-multi-year:Previous 21 years`,this.nextMultiYearLabel=$localize`:@@nxt-pick-datetime.next-multi-year:Next 21 years`,this.switchToMonthViewLabel=$localize`:@@nxt-pick-datetime.switch-to-month:Change to month view`,this.switchToMultiYearViewLabel=$localize`:@@nxt-pick-datetime.switch-to-year-month:Choose month and year`,this.cancelBtnLabel=$localize`:@@nxt-pick-datetime.cancel:Cancel`,this.setBtnLabel=$localize`:@@nxt-pick-datetime.set:Set`,this.rangeFromLabel=$localize`:@@nxt-pick-datetime.from:From`,this.rangeToLabel=$localize`:@@nxt-pick-datetime.to:To`,this.hour12AMLabel=$localize`:@@nxt-pick-datetime.time-am:AM`,this.hour12PMLabel=$localize`:@@nxt-pick-datetime.time-pm:PM`}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),b=3,y=7,xi=(()=>{class n{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){let t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedYears()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedYears()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),t&&this._pickerMoment&&!this.isSameYearList(t,this._pickerMoment)&&this.generateYearList()}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e,this.initiated&&this.generateYearList()}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get todayYear(){return this._todayYear}get years(){return this._years}get selectedYears(){return this._selectedYears}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%(b*y)}get tableHeader(){if(this._years&&this._years.length>0)return`${this._years[0][0].displayValue} ~ ${this._years[y-1][b-1].displayValue}`}get prevButtonLabel(){return this.pickerIntl.prevMultiYearLabel}get nextButtonLabel(){return this.pickerIntl.nextMultiYearLabel}get calendarView(){return!0}get calendarMultiYearView(){return!0}constructor(e,t,i){this.cdRef=e,this.pickerIntl=t,this.dateTimeAdapter=i,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.change=new h,this.yearSelected=new h,this.pickerMomentChange=new h,this.keyboardEnter=new h}ngOnInit(){}ngAfterContentInit(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0}selectCalendarCell(e){this.selectYear(e.value)}selectYear(e){this.yearSelected.emit(this.dateTimeAdapter.createDate(e,0,1));let t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),1),i=this.dateTimeAdapter.getNumDaysInMonth(t),s=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(s)}prevYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1*y*b),this.generateYearList(),e.preventDefault()}nextYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,y*b),this.generateYearList(),e.preventDefault()}generateYearList(){this._years=[];let e=this.dateTimeAdapter.getYear(this._pickerMoment),t=e%(b*y);for(let i=0;i<y;i++){let s=[];for(let a=0;a<b;a++){let o=e-t+(a+i*b),m=this.createYearCell(o);s.push(m)}this._years.push(s)}}previousEnabled(){return this.min?!this.min||!this.isSameYearList(this._pickerMoment,this.min):!0}nextEnabled(){return!this.max||!this.isSameYearList(this._pickerMoment,this.max)}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1*b),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,b),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%(b*y)),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,b*y-this.dateTimeAdapter.getYear(this._pickerMoment)%(b*y)-1),this.pickerMomentChange.emit(t);break;case"pageup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10*(b*y):-1*(b*y)),this.pickerMomentChange.emit(t);break;case"pagedown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10*(b*y):b*y),this.pickerMomentChange.emit(t);break;case"enter":this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}createYearCell(e){let t=this.dateTimeAdapter.createDate(e,0,1),i=this.dateTimeAdapter.getYearName(t),s="nxt-dt-year-"+e;return new fe(e,e.toString(),i,this.isYearEnabled(e),!1,s)}setSelectedYears(){this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(e=>{if(this.dateTimeAdapter.isValid(e))return this.dateTimeAdapter.getYear(e)}))}isYearEnabled(e){if(!this.dateTimeFilter)return!0;let t=this.dateTimeAdapter.createDate(e,0,1);for(let i=t;this.dateTimeAdapter.getYear(i)==e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(this.dateTimeFilter(i,"year"))return!0;return!1}isSameYearList(e,t){return Math.floor(this.dateTimeAdapter.getYear(e)/(b*y))===Math.floor(this.dateTimeAdapter.getYear(t)/(b*y))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||n)(d(F),d(Ee),d(E))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time-multi-year-view"]],viewQuery:function(t,i){if(t&1&&G(ae,7),t&2){let s;K(s=U())&&(i.calendarBodyElm=s.first)}},hostVars:4,hostBindings:function(t,i){t&2&&w("nxt-dt-calendar-view",i.calendarView)("nxt-dt-calendar-multi-year-view",i.calendarMultiYearView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateTimeFilter:"dateTimeFilter",min:"min",max:"max"},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:14,vars:12,consts:[["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-table","nxt-dt-calendar-multi-year-table"],[1,"nxt-dt-calendar-header"],["colspan","3"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(t,i){t&1&&(l(0,"button",0),C("click",function(a){return i.prevYearList(a)}),l(1,"span",1),$(),l(2,"svg",2),Y(3,"path",3),p()()(),ee(),l(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),A(8),p()()(),l(9,"tbody",7),C("keydown",function(a){return i.handleCalendarKeydown(a)})("select",function(a){return i.selectCalendarCell(a)}),p()(),l(10,"button",0),C("click",function(a){return i.nextYearList(a)}),l(11,"span",1),$(),l(12,"svg",8),Y(13,"path",9),p()()()),t&2&&(T("disabled",!i.previousEnabled()),k("aria-label",i.prevButtonLabel),u(8),te(i.tableHeader),u(),T("rows",i.years)("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell??0)("todayValue",i.todayYear)("selectedValues",i.selectedYears)("selectMode",i.selectMode),u(),T("disabled",!i.nextEnabled()),k("aria-label",i.nextButtonLabel))},dependencies:[ae],encapsulation:2,changeDetection:0})}}return n})(),Di=12,et=3,Si=(()=>{class n{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.setSelectedMonths()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=[],e.forEach(t=>{let i=this.dateTimeAdapter.deserialize(t);this._selecteds.push(this.getValidDate(i))}),this.setSelectedMonths()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){let t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),!this.hasSameYear(t,this._pickerMoment)&&this.initiated&&this.generateMonthList()}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e,this.initiated&&this.generateMonthList()}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get months(){return this._months}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get calendarView(){return!0}constructor(e,t,i){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=i,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.change=new h,this.monthSelected=new h,this.pickerMomentChange=new h,this.keyboardEnter=new h,this.monthNames=this.dateTimeAdapter.getMonthNames("short")}ngOnInit(){this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateMonthList(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateMonthList(),this.initiated=!0}ngOnDestroy(){this.localeSub?.unsubscribe(),this.localeSub=void 0}selectCalendarCell(e){this.selectMonth(e.value)}selectMonth(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);this.monthSelected.emit(t);let i=this.dateTimeAdapter.getNumDaysInMonth(t),s=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(s)}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case"pageup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10:-1),this.pickerMomentChange.emit(t);break;case"pagedown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10:1),this.pickerMomentChange.emit(t);break;case"enter":this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}generateMonthList(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(let e=0;e<Di/et;e++){let t=[];for(let i=0;i<et;i++){let s=i+e*et,a=this.createMonthCell(s);t.push(a)}this._months.push(t)}}}createMonthCell(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1),i=this.dateTimeAdapter.format(t,this.dateTimeFormats.monthYearA11yLabel),s="nxt-dt-month-"+e;return new fe(e,this.monthNames[e],i,this.isMonthEnabled(e),!1,s)}isMonthEnabled(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);for(let i=t;this.dateTimeAdapter.getMonth(i)===e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(i&&(!this.dateTimeFilter||this.dateTimeFilter(i,"month"))&&(!this.min||this.dateTimeAdapter.compare(i,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(i,this.max)<=0))return!0;return!1}getMonthInCurrentYear(e){if(this.getValidDate(e)&&this.getValidDate(this._pickerMoment)){let t=this.dateTimeAdapter.compareYear(e,this._pickerMoment);return t<0?-1:t>0?12:this.dateTimeAdapter.getMonth(e)}}setSelectedMonths(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))}hasSameYear(e,t){return!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||n)(d(F),d(E),d(Q))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time-year-view"]],viewQuery:function(t,i){if(t&1&&G(ae,7),t&2){let s;K(s=U())&&(i.calendarBodyElm=s.first)}},hostVars:2,hostBindings:function(t,i){t&2&&w("nxt-dt-calendar-view",i.calendarView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateTimeFilter:"dateTimeFilter",min:"min",max:"max"},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:5,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-year-table"],[1,"nxt-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),Y(3,"th",2),p()(),l(4,"tbody",3),C("keydown",function(a){return i.handleCalendarKeydown(a)})("select",function(a){return i.selectCalendarCell(a)}),p()()),t&2&&(u(4),T("rows",i.months)("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell??0)("todayValue",i.todayMonth??void 0)("selectedValues",i.selectedMonths)("selectMode",i.selectMode))},dependencies:[ae],encapsulation:2,changeDetection:0})}}return n})();function Ii(n,r){if(n&1){let e=V();l(0,"nxt-date-time-month-view",15),C("pickerMomentChange",function(i){g(e);let s=c();return _(s.handlePickerMomentChange(i))})("selectedChange",function(i){g(e);let s=c();return _(s.dateSelected(i))})("userSelection",function(){g(e);let i=c();return _(i.userSelected())}),p()}if(n&2){let e=c();T("pickerMoment",e.pickerMoment)("firstDayOfWeek",e.firstDayOfWeek)("selected",e.selected)("selecteds",e.selecteds)("selectMode",e.selectMode??"single")("min",e.min)("max",e.max)("dateTimeFilter",e.dateTimeFilter)("hideOtherMonths",e.hideOtherMonths)}}function Vi(n,r){if(n&1){let e=V();l(0,"nxt-date-time-year-view",16),C("keyboardEnter",function(){g(e);let i=c();return _(i.focusActiveCell())})("pickerMomentChange",function(i){g(e);let s=c();return _(s.handlePickerMomentChange(i))})("monthSelected",function(i){g(e);let s=c();return _(s.selectMonthInYearView(i))})("change",function(i){g(e);let s=c();return _(s.goToDateInView(i,"month"))}),p()}if(n&2){let e=c();T("pickerMoment",e.pickerMoment)("selected",e.selected)("selecteds",e.selecteds)("selectMode",e.selectMode??"single")("min",e.min)("max",e.max)("dateTimeFilter",e.dateTimeFilter)}}function Ei(n,r){if(n&1){let e=V();l(0,"nxt-date-time-multi-year-view",17),C("keyboardEnter",function(){g(e);let i=c();return _(i.focusActiveCell())})("pickerMomentChange",function(i){g(e);let s=c();return _(s.handlePickerMomentChange(i))})("yearSelected",function(i){g(e);let s=c();return _(s.selectYearInMultiYearView(i))})("change",function(i){g(e);let s=c();return _(s.goToDateInView(i,"year"))}),p()}if(n&2){let e=c();T("pickerMoment",e.pickerMoment)("selected",e.selected)("selecteds",e.selecteds)("selectMode",e.selectMode??"single")("min",e.min)("max",e.max)("dateTimeFilter",e.dateTimeFilter)}}var Xt=(()=>{class n{get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._minDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):void 0}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._maxDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):void 0}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e)}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}get periodButtonText(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)}get periodButtonLabel(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel}get prevButtonLabel(){if(this._currentView==="month")return this.pickerIntl.prevMonthLabel;if(this._currentView==="year")return this.pickerIntl.prevYearLabel}get nextButtonLabel(){if(this._currentView==="month")return this.pickerIntl.nextMonthLabel;if(this._currentView==="year")return this.pickerIntl.nextYearLabel}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this.moveFocusOnNextTick=!0}get isInSingleMode(){return this.selectMode==="single"}get isInRangeMode(){return this.selectMode==="range"||this.selectMode==="rangeFrom"||this.selectMode==="rangeTo"}get showControlArrows(){return this._currentView!=="multi-years"}get isMonthView(){return this._currentView==="month"}get calendarClass(){return!0}constructor(e,t,i,s,a,o){this.elmRef=e,this.pickerIntl=t,this.ngZone=i,this.cdRef=s,this.dateTimeAdapter=a,this.dateTimeFormats=o,this.firstDayOfWeek=0,this._selecteds=new Array,this.startView="month",this.hideOtherMonths=!1,this.pickerMomentChange=new h,this.selectedChange=new h,this.userSelection=new h,this.yearSelected=new h,this.monthSelected=new h,this.dateTimeFilterForViews=m=>!!m&&(!this.dateTimeFilter||this.dateTimeFilter(m,"date"))&&(!this.min||this.dateTimeAdapter.compare(m,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(m,this.max)<=0),this.moveFocusOnNextTick=!1,this.intlChangesSub=this.pickerIntl.changes.subscribe(()=>{this.cdRef.markForCheck()})}ngOnInit(){}ngAfterContentInit(){this._currentView=this.startView}ngAfterViewChecked(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.intlChangesSub?.unsubscribe(),this.intlChangesSub=void 0}toggleViews(){this.currentView=this._currentView=="month"?"multi-years":"month"}previousClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)}nextClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)}dateSelected(e){this.dateTimeFilterForViews(e)&&this.selectedChange.emit(e)}goToDateInView(e,t){this.handlePickerMomentChange(e),this.currentView=t}handlePickerMomentChange(e){this.pickerMoment=this.dateTimeAdapter.clampDate(e,this.min,this.max),this.pickerMomentChange.emit(this.pickerMoment)}userSelected(){this.userSelection.emit()}prevButtonEnabled(){return!this.min||!this.isSameView(this.pickerMoment,this.min)}nextButtonEnabled(){return!this.max||!this.isSameView(this.pickerMoment,this.max)}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(B(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}selectYearInMultiYearView(e){this.yearSelected.emit(e)}selectMonthInYearView(e){this.monthSelected.emit(e)}isSameView(e,t){return this._currentView==="month"?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t)):this._currentView==="year"?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)):!1}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||n)(d(O),d(Ee),d(I),d(F),d(E),d(Q))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time-calendar"]],hostVars:2,hostBindings:function(t,i){t&2&&w("nxt-dt-calendar",i.calendarClass)},inputs:{dateTimeFilter:"dateTimeFilter",firstDayOfWeek:"firstDayOfWeek",min:"min",max:"max",pickerMoment:"pickerMoment",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",startView:"startView",hideOtherMonths:"hideOtherMonths"},outputs:{pickerMomentChange:"pickerMomentChange",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},decls:21,vars:13,consts:[[1,"nxt-dt-calendar-control"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-control-content"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-period-button",3,"click"],[1,"nxt-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d",`M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424
                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428
                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z`],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                    C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"nxt-dt-calendar-main"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateTimeFilter","hideOtherMonths"],[3,"pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateTimeFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"]],template:function(t,i){if(t&1&&(l(0,"div",0)(1,"button",1),C("click",function(){return i.previousClicked()}),l(2,"span",2),$(),l(3,"svg",3),Y(4,"path",4),p()()(),ee(),l(5,"div",5)(6,"button",6),C("click",function(){return i.toggleViews()}),l(7,"span",2),A(8),l(9,"span",7),$(),l(10,"svg",8)(11,"g"),Y(12,"path",9),p()()()()()(),ee(),l(13,"button",1),C("click",function(){return i.nextClicked()}),l(14,"span",2),$(),l(15,"svg",10),Y(16,"path",11),p()()()(),ee(),l(17,"div",12),P(18,Ii,1,9,"nxt-date-time-month-view",13)(19,Vi,1,7,"nxt-date-time-year-view",14)(20,Ei,1,7,"nxt-date-time-multi-year-view",14),p()),t&2){let s;u(),ce("visibility",i.showControlArrows?"visible":"hidden"),T("disabled",!i.prevButtonEnabled()),k("aria-label",i.prevButtonLabel),u(5),k("aria-label",i.periodButtonLabel),u(2),Z(" ",i.periodButtonText," "),u(),ce("transform","rotate("+(i.isMonthView?0:180)+"deg)"),u(4),ce("visibility",i.showControlArrows?"visible":"hidden"),T("disabled",!i.nextButtonEnabled()),k("aria-label",i.nextButtonLabel),u(5),N((s=i.currentView)==="month"?18:s==="year"?19:s==="multi-years"?20:-1)}},dependencies:[Ze,Ai,Si,xi],encapsulation:2,changeDetection:0})}}return n})(),Oi=0,ti=(()=>{class n{get formatString(){return this.pickerType==="both"?this.dateTimeFormats.fullPickerInput:this.pickerType==="calendar"?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput}get disabled(){return!1}constructor(e,t){this.dateTimeAdapter=e,this.dateTimeFormats=t,this.showSecondsTimer=!1,this.hour12Timer=!1,this.startView="month",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.firstDayOfWeek=0,this.hideOtherMonths=!1,this.id=`nxt-dt-picker-${Oi++}`,this.dateTimeChecker=i=>!!i&&(!this.dateTimeFilter||this.dateTimeFilter(i))&&(!this.min||this.dateTimeAdapter.compare(i,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(i,this.max)<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||n)(d(E),d(Q))}}static{this.\u0275dir=W({type:n,inputs:{showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",startView:"startView",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",firstDayOfWeek:"firstDayOfWeek",hideOtherMonths:"hideOtherMonths"}})}}return n})(),Fi=(()=>{class n{transform(e,t){if(e==null||!Number.isFinite(e))return;let i=Math.floor(e);return t==null||!Number.isFinite(t)?i:i.toFixed(0).padStart(Math.floor(t),"0")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275pipe=mt({name:"numberFixedLen",type:n,pure:!0})}}return n})();function Li(n,r){n&1&&Me(0,"div",1)}var Ri=(()=>{class n{get displayValue(){return this.boxValue||this.value}get timerBoxClass(){return!0}constructor(){this.showDivider=!1,this.upBtnDisabled=!1,this.downBtnDisabled=!1,this.value=0,this.min=0,this.max=0,this.step=1,this.valueChange=new h,this.inputChange=new h,this.inputStream=new M}ngOnInit(){this.inputStreamSub=this.inputStream.pipe(rt(500),ge()).subscribe(e=>{if(e){let t=je(e,0);this.updateValueViaInput(t)}})}ngOnDestroy(){this.inputStreamSub?.unsubscribe(),this.inputStreamSub=void 0}upBtnClicked(){this.updateValue(this.value+this.step)}downBtnClicked(){this.updateValue(this.value-this.step)}handleInputChange(e){this.inputStream.next(e)}updateValue(e){this.valueChange.emit(e)}updateValueViaInput(e){e>this.max||e<this.min||this.inputChange.emit(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time-timer-box"]],hostVars:2,hostBindings:function(t,i){t&2&&w("nxt-dt-timer-box",i.timerBoxClass)},inputs:{showDivider:"showDivider",upBtnAriaLabel:"upBtnAriaLabel",upBtnDisabled:"upBtnDisabled",downBtnAriaLabel:"downBtnAriaLabel",downBtnDisabled:"downBtnDisabled",boxValue:"boxValue",value:"value",min:"min",max:"max",step:"step",inputLabel:"inputLabel"},outputs:{valueChange:"valueChange",inputChange:"inputChange"},decls:15,vars:10,consts:[["valueInput",""],["aria-hidden","true",1,"nxt-dt-timer-divider"],["type","button","tabindex","-1",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d",`M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0
                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4
                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z`],[1,"nxt-dt-timer-content"],["maxlength","2",1,"nxt-dt-timer-input",3,"input","value"],[1,"nxt-hidden-accessible"],["d",`M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751
                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0
                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z`]],template:function(t,i){if(t&1){let s=V();P(0,Li,1,0,"div",1),H(1,"button",2),ye("click",function(){return g(s),_(i.upBtnClicked())}),H(2,"span",3),$(),H(3,"svg",4),Me(4,"path",5),de()()(),ee(),H(5,"label",6)(6,"input",7,0),Mt(8,"numberFixedLen"),ye("input",function(){g(s);let o=ve(7);return _(i.handleInputChange(o.value))}),de(),H(9,"span",8),A(10),de()(),H(11,"button",2),ye("click",function(){return g(s),_(i.downBtnClicked())}),H(12,"span",3),$(),H(13,"svg",4),Me(14,"path",9),de()()()}t&2&&(N(i.showDivider?0:-1),u(),le("disabled",i.upBtnDisabled),k("aria-label",i.upBtnAriaLabel),u(5),le("value",yt(8,7,i.displayValue,2)),u(4),te(i.inputLabel),u(),le("disabled",i.downBtnDisabled),k("aria-label",i.downBtnAriaLabel))},dependencies:[Fi],encapsulation:2,changeDetection:0})}}return n})();function Bi(n,r){if(n&1){let e=V();l(0,"nxt-date-time-timer-box",4),C("inputChange",function(i){g(e);let s=c();return _(s.setSecondValue(i))})("valueChange",function(i){g(e);let s=c();return _(s.setSecondValue(i))}),p()}if(n&2){let e=c();T("showDivider",!0)("upBtnAriaLabel",e.upSecondButtonLabel)("downBtnAriaLabel",e.downSecondButtonLabel)("upBtnDisabled",!e.upSecondEnabled())("downBtnDisabled",!e.downSecondEnabled())("value",e.secondValue)("min",0)("max",59)("step",e.stepSecond)}}function Pi(n,r){if(n&1){let e=V();l(0,"div",3)(1,"button",5),C("click",function(i){g(e);let s=c();return _(s.setMeridiem(i))}),l(2,"span",6),A(3),p()()()}if(n&2){let e=c();u(3),Z(" ",e.hour12ButtonLabel," ")}}var Qt=(()=>{class n{get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get min(){return this._minDateTime}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDateTime=this.getValidDate(e)}get max(){return this._maxDateTime}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDateTime=this.getValidDate(e)}get hourValue(){return this.dateTimeAdapter.getHours(this.pickerMoment)}get hourBoxValue(){let e=this.hourValue;return this.hour12Timer&&(e===0?(e=12,this.isPM=!1):e>0&&e<12?this.isPM=!1:e===12?this.isPM=!0:e>12&&e<24&&(e=e-12,this.isPM=!0)),e}get minuteValue(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)}get secondValue(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)}get upHourButtonLabel(){return this.pickerIntl.upHourLabel}get downHourButtonLabel(){return this.pickerIntl.downHourLabel}get upMinuteButtonLabel(){return this.pickerIntl.upMinuteLabel}get downMinuteButtonLabel(){return this.pickerIntl.downMinuteLabel}get upSecondButtonLabel(){return this.pickerIntl.upSecondLabel}get downSecondButtonLabel(){return this.pickerIntl.downSecondLabel}get hour12ButtonLabel(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel}get timerClass(){return!0}get timeTabIndex(){return-1}constructor(e,t,i,s,a){this.ngZone=e,this.elmRef=t,this.pickerIntl=i,this.cdRef=s,this.dateTimeAdapter=a,this.isPM=!1,this.showSecondsTimer=!1,this.hour12Timer=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.selectedChange=new h}ngOnInit(){}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(B(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(e){this.hour12Timer&&this.isPM&&e>=1&&e<=11?e=e+12:this.hour12Timer&&!this.isPM&&e===12&&(e=0),this.setHourValue(e)}setHourValue(e){let t=this.dateTimeAdapter.setHours(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMinuteValue(e){let t=this.dateTimeAdapter.setMinutes(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setSecondValue(e){let t=this.dateTimeAdapter.setSeconds(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMeridiem(e){this.isPM=!this.isPM;let t=this.hourValue;this.isPM?t=t+12:t=t-12,t>=0&&t<=23&&this.setHourValue(t),this.cdRef.markForCheck(),e.preventDefault()}upHourEnabled(){return!this.max||this.compareHours(this.stepHour,this.max)<1}downHourEnabled(){return!this.min||this.compareHours(-this.stepHour,this.min)>-1}upMinuteEnabled(){return!this.max||this.compareMinutes(this.stepMinute,this.max)<1}downMinuteEnabled(){return!this.min||this.compareMinutes(-this.stepMinute,this.min)>-1}upSecondEnabled(){return!this.max||this.compareSeconds(this.stepSecond,this.max)<1}downSecondEnabled(){return!this.min||this.compareSeconds(-this.stepSecond,this.min)>-1}compareHours(e,t){let i=this.dateTimeAdapter.getHours(this.pickerMoment)+e,s=this.dateTimeAdapter.setHours(this.pickerMoment,i);return this.dateTimeAdapter.compare(s,t)}compareMinutes(e,t){let i=this.dateTimeAdapter.getMinutes(this.pickerMoment)+e,s=this.dateTimeAdapter.setMinutes(this.pickerMoment,i);return this.dateTimeAdapter.compare(s,t)}compareSeconds(e,t){let i=this.dateTimeAdapter.getSeconds(this.pickerMoment)+e,s=this.dateTimeAdapter.setSeconds(this.pickerMoment,i);return this.dateTimeAdapter.compare(s,t)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||n)(d(I),d(O),d(Ee),d(F),d(E))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time-timer"]],hostVars:3,hostBindings:function(t,i){t&2&&(k("tabindex",i.timeTabIndex),w("nxt-dt-timer",i.timerClass))},inputs:{pickerMoment:"pickerMoment",min:"min",max:"max",showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond"},outputs:{selectedChange:"selectedChange"},decls:4,vars:20,consts:[["inputLabel","Hour",3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step"],["inputLabel","Minute",3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],["inputLabel","Second",3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],[1,"nxt-dt-timer-hour12"],["inputLabel","Second",3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"nxt-dt-control-button-content"]],template:function(t,i){t&1&&(l(0,"nxt-date-time-timer-box",0),C("inputChange",function(a){return i.setHourValueViaInput(a)})("valueChange",function(a){return i.setHourValue(a)}),p(),l(1,"nxt-date-time-timer-box",1),C("inputChange",function(a){return i.setMinuteValue(a)})("valueChange",function(a){return i.setMinuteValue(a)}),p(),P(2,Bi,1,9,"nxt-date-time-timer-box",2),P(3,Pi,4,1,"div",3)),t&2&&(T("upBtnAriaLabel",i.upHourButtonLabel)("downBtnAriaLabel",i.downHourButtonLabel)("upBtnDisabled",!i.upHourEnabled())("downBtnDisabled",!i.downHourEnabled())("boxValue",i.hourBoxValue)("value",i.hourValue)("min",0)("max",23)("step",i.stepHour),u(),T("showDivider",!0)("upBtnAriaLabel",i.upMinuteButtonLabel)("downBtnAriaLabel",i.downMinuteButtonLabel)("upBtnDisabled",!i.upMinuteEnabled())("downBtnDisabled",!i.downMinuteEnabled())("value",i.minuteValue)("min",0)("max",59)("step",i.stepMinute),u(),N(i.showSecondsTimer?2:-1),u(),N(i.hour12Timer?3:-1))},dependencies:[Ri],encapsulation:2,changeDetection:0})}}return n})(),qt={transformPicker:we("transformPicker",[he("void",x({opacity:0,transform:"scale(1, 0)"})),he("enter",x({opacity:1,transform:"scale(1, 1)"})),ie("void => enter",wt([xt("@fadeInPicker",Ae(),{optional:!0}),X("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),ie("enter => void",X("100ms linear",x({opacity:0})))]),fadeInPicker:we("fadeInPicker",[he("enter",x({opacity:1})),he("void",x({opacity:0})),ie("void => enter",X("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Ni=()=>[],Jt=n=>({"nxt-dt-container-info-active":n});function Yi(n,r){if(n&1){let e=V();l(0,"nxt-date-time-calendar",7),Ct("pickerMomentChange",function(i){g(e);let s=c();return _t(s.pickerMoment,i)||(s.pickerMoment=i),_(i)}),C("yearSelected",function(i){g(e);let s=c();return _(s.picker==null?null:s.picker.selectYear(i))})("monthSelected",function(i){g(e);let s=c();return _(s.picker==null?null:s.picker.selectMonth(i))})("selectedChange",function(i){g(e);let s=c();return _(s.dateSelected(i))}),p()}if(n&2){let e=c();T("firstDayOfWeek",(e.picker==null?null:e.picker.firstDayOfWeek)??0),gt("pickerMoment",e.pickerMoment),T("selected",e.picker==null?null:e.picker.selected)("selecteds",(e.picker==null?null:e.picker.selecteds)??bt(10,Ni))("selectMode",e.picker==null?null:e.picker.selectMode)("min",e.picker==null?null:e.picker.min)("max",e.picker==null?null:e.picker.max)("dateTimeFilter",e.picker==null?null:e.picker.dateTimeFilter)("startView",(e.picker==null?null:e.picker.startView)??"month")("hideOtherMonths",!!(e.picker!=null&&e.picker.hideOtherMonths))}}function Hi(n,r){if(n&1){let e=V();l(0,"nxt-date-time-timer",8),C("selectedChange",function(i){g(e);let s=c();return _(s.timeSelected(i))}),p()}if(n&2){let e=c();T("pickerMoment",e.pickerMoment)("min",e.picker==null?null:e.picker.min)("max",e.picker==null?null:e.picker.max)("showSecondsTimer",!!(e.picker!=null&&e.picker.showSecondsTimer))("hour12Timer",!!(e.picker!=null&&e.picker.hour12Timer))("stepHour",(e.picker==null?null:e.picker.stepHour)??1)("stepMinute",(e.picker==null?null:e.picker.stepMinute)??1)("stepSecond",(e.picker==null?null:e.picker.stepSecond)??1)}}function ji(n,r){if(n&1){let e=V();l(0,"div",5)(1,"div",9,0),C("click",function(i){g(e);let s=c();return _(s.handleClickOnInfoGroup(i,0))})("keydown",function(i){g(e);let s=ve(9),a=c();return _(a.handleKeydownOnInfoGroup(i,s,0))}),l(3,"span",10)(4,"span",11),A(5),p(),l(6,"span",12),A(7),p()()(),l(8,"div",13,1),C("click",function(i){g(e);let s=c();return _(s.handleClickOnInfoGroup(i,1))})("keydown",function(i){g(e);let s=ve(2),a=c();return _(a.handleKeydownOnInfoGroup(i,s,1))}),l(10,"span",10)(11,"span",11),A(12),p(),l(13,"span",12),A(14),p()()()()}if(n&2){let e=c();u(),T("tabindex",e.activeSelectedIndex===0?0:-1)("ngClass",Ne(10,Jt,e.activeSelectedIndex===0)),k("aria-checked",e.activeSelectedIndex===0),u(4),Z("",e.fromLabel,":"),u(2),te(e.fromFormattedValue),u(),T("tabindex",e.activeSelectedIndex===1?0:-1)("ngClass",Ne(12,Jt,e.activeSelectedIndex===1)),k("aria-checked",e.activeSelectedIndex===1),u(4),Z("",e.toLabel,":"),u(2),te(e.toFormattedValue)}}function $i(n,r){if(n&1){let e=V();l(0,"div",6)(1,"button",14),C("click",function(i){g(e);let s=c();return _(s.onCancelClicked(i))}),l(2,"span",15),A(3),p()(),l(4,"button",14),C("click",function(i){g(e);let s=c();return _(s.onSetClicked(i))}),l(5,"span",15),A(6),p()()()}if(n&2){let e=c();u(3),Z(" ",e.cancelLabel," "),u(3),Z(" ",e.setLabel," ")}}var Ie=(()=>{class n{get pickerMoment(){return this._clamPickerMoment}set pickerMoment(e){e&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(e,this.picker?.min,this.picker?.max)),this.cdRef.markForCheck()}get pickerType(){return this.picker?.pickerType}get cancelLabel(){return this.pickerIntl.cancelBtnLabel}get setLabel(){return this.pickerIntl.setBtnLabel}get fromLabel(){return this.pickerIntl.rangeFromLabel}get toLabel(){return this.pickerIntl.rangeToLabel}get fromFormattedValue(){let e=this.picker?.selecteds[0];return e?this.dateTimeAdapter.format(e,this.picker?.formatString):""}get toFormattedValue(){let e=this.picker?.selecteds[1];return e?this.dateTimeAdapter.format(e,this.picker?.formatString):""}get showControlButtons(){return this.picker?.pickerMode==="dialog"||this.picker?.pickerType!=="calendar"&&this.picker?.pickerMode!=="inline"}get containerElm(){return this.elmRef.nativeElement}get containerClass(){return!0}get popupContainerClass(){return this.picker?.pickerMode==="popup"}get dialogContainerClass(){return this.picker?.pickerMode==="dialog"}get inlineContainerClass(){return this.picker?.pickerMode==="inline"}get containerDisabledClass(){return!!this.picker?.disabled}get containerId(){return this.picker?.id}get containerAnimation(){return this.picker?.pickerMode==="inline"?"":"enter"}constructor(e,t,i,s){this.cdRef=e,this.elmRef=t,this.pickerIntl=i,this.dateTimeAdapter=s,this.activeSelectedIndex=0,this.hidePicker$=new M,this.hidePickerStream=this.hidePicker$.asObservable(),this.confirmSelected$=new M,this.confirmSelectedStream=this.confirmSelected$.asObservable(),this.pickerOpened$=new M,this.pickerOpenedStream=this.pickerOpened$.asObservable()}ngOnInit(){}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationDone(e){e.toState==="enter"&&this.pickerOpened$.next()}dateSelected(e){let t;if(this.picker?.isInSingleMode){t=this.dateSelectedInSingleMode(e),t?(this.pickerMoment=t,this.picker.select(t)):this.pickerType==="calendar"&&this.hidePicker$.next();return}this.picker?.isInRangeMode&&(t=this.dateSelectedInRangeMode(e),t&&(this.pickerMoment=t[this.activeSelectedIndex],this.picker.select(t)))}timeSelected(e){if(this.pickerMoment=this.dateTimeAdapter.clone(e),!!this.picker?.dateTimeChecker(this.pickerMoment)){if(this.picker.isInSingleMode){this.picker.select(this.pickerMoment);return}if(this.picker.isInRangeMode){let t=[...this.picker?.selecteds||[]];this.activeSelectedIndex===0&&t[1]&&this.dateTimeAdapter.compare(this.pickerMoment,t[1])===1||this.activeSelectedIndex===1&&t[0]&&this.dateTimeAdapter.compare(this.pickerMoment,t[0])===-1?(t[0]=this.pickerMoment,t[1]=this.pickerMoment):t[this.activeSelectedIndex]=this.pickerMoment,this.picker.select(t)}}}onCancelClicked(e){this.hidePicker$.next(),e.preventDefault()}onSetClicked(e){if(!this.picker?.dateTimeChecker?.(this.pickerMoment)){this.hidePicker$.next(),e.preventDefault();return}this.confirmSelected$.next(e),e.preventDefault()}handleClickOnInfoGroup(e,t){this.setActiveSelectedIndex(t),e.preventDefault(),e.stopPropagation()}handleKeydownOnInfoGroup(e,t,i){switch(e.keyCode){case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":t.focus(),this.setActiveSelectedIndex(i===0?1:0),e.preventDefault(),e.stopPropagation();break;case"Space":this.setActiveSelectedIndex(i),e.preventDefault(),e.stopPropagation();break;default:return}}setActiveSelectedIndex(e){if(this.picker?.selectMode==="range"&&this.activeSelectedIndex!==e){this.activeSelectedIndex=e;let t=this.picker?.selecteds[this.activeSelectedIndex];this.picker.selecteds&&t&&(this.pickerMoment=this.dateTimeAdapter.clone(t))}}initPicker(){this.pickerMoment=this.picker?.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex=this.picker?.selectMode==="rangeTo"?1:0}dateSelectedInSingleMode(e){if(!this.dateTimeAdapter.isSameDay(e,this.picker?.selected))return this.updateAndCheckCalendarDate(e)}dateSelectedInRangeMode(e){let t=this.picker?.selecteds[0],i=this.picker?.selecteds[1],s=this.updateAndCheckCalendarDate(e);if(s)return this.picker?.selectMode==="range"?this.picker.selecteds&&this.picker.selecteds.length&&!i&&t&&(this.dateTimeAdapter.differenceInCalendarDays(s,t)??0)>=0?(i=s,this.activeSelectedIndex=1):(t=s,i=void 0,this.activeSelectedIndex=0):this.picker?.selectMode==="rangeFrom"?(t=s,i&&this.dateTimeAdapter.compare(t,i)>0&&(i=void 0)):this.picker?.selectMode==="rangeTo"&&(i=s,t&&this.dateTimeAdapter.compare(t,i)>0&&(t=void 0)),[t,i]}updateAndCheckCalendarDate(e){let t;return this.picker?.pickerType==="both"?(t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),t=this.dateTimeAdapter.clampDate(t,this.picker.min,this.picker.max)):t=this.dateTimeAdapter.clone(e),this.picker?.dateTimeChecker(t)?t:void 0}focusPicker(){this.picker?.pickerMode!=="inline"&&(this.calendar?this.calendar.focusActiveCell():this.timer&&this.timer.focus())}static{this.\u0275fac=function(t){return new(t||n)(d(F),d(O),d(Ee),d(E))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time-container"]],viewQuery:function(t,i){if(t&1&&G(Xt,5)(Qt,5),t&2){let s;K(s=U())&&(i.calendar=s.first),K(s=U())&&(i.timer=s.first)}},hostVars:12,hostBindings:function(t,i){t&1&&Be("@transformPicker.done",function(a){return i.handleContainerAnimationDone(a)}),t&2&&(Re("@transformPicker",i.containerAnimation),k("id",i.containerId),w("nxt-dt-container",i.containerClass)("nxt-dt-popup-container",i.popupContainerClass)("nxt-dt-dialog-container",i.dialogContainerClass)("nxt-dt-inline-container",i.inlineContainerClass)("nxt-dt-container-disabled",i.containerDisabledClass))},decls:5,vars:6,consts:[["from",""],["to",""],[1,"nxt-dt-container-inner",3,"cdkTrapFocus"],[1,"nxt-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter","startView","hideOtherMonths"],[1,"nxt-dt-container-row",3,"pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"nxt-dt-container-info","nxt-dt-container-row"],[1,"nxt-dt-container-buttons","nxt-dt-container-row"],[1,"nxt-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter","startView","hideOtherMonths"],[1,"nxt-dt-container-row",3,"selectedChange","pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-from",3,"click","keydown","tabindex","ngClass"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-container-range-content"],[1,"nxt-dt-container-info-label"],[1,"nxt-dt-container-info-value"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-to",3,"click","keydown","tabindex","ngClass"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-container-control-button",3,"click"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"]],template:function(t,i){t&1&&(l(0,"div",2),P(1,Yi,1,11,"nxt-date-time-calendar",3),P(2,Hi,1,8,"nxt-date-time-timer",4),P(3,ji,15,14,"div",5),P(4,$i,7,2,"div",6),p()),t&2&&(T("cdkTrapFocus",(i.picker==null?null:i.picker.pickerMode)!=="inline")("@fadeInPicker",(i.picker==null?null:i.picker.pickerMode)==="inline"?"":"enter"),u(),N(i.pickerType==="both"||i.pickerType==="calendar"?1:-1),u(),N(i.pickerType==="both"||i.pickerType==="timer"?2:-1),u(),N(i.picker!=null&&i.picker.isInRangeMode?3:-1),u(),N(i.showControlButtons?4:-1))},dependencies:[Xe,Xt,Qt,He],encapsulation:2,data:{animation:[qt.transformPicker,qt.fadeInPicker]},changeDetection:0})}}return n})(),zi={provide:$e,useExisting:_e(()=>Wi),multi:!0},Wi=(()=>{class n extends ti{get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=!!e}get selectMode(){return this._selectMode}set selectMode(e){if(e!=="single"&&e!=="range"&&e!=="rangeFrom"&&e!=="rangeTo")throw Error("DateTime Error: invalid selectMode value!");this._selectMode=e}get startAt(){return this._startAt?this._startAt:this.selectMode==="single"?this.value:this.selectMode==="range"||this.selectMode==="rangeFrom"?this.values?.[0]:this.selectMode==="rangeTo"?this.values?.[1]:void 0}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e}set min(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get min(){return this._min}set max(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get max(){return this._max}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._value=e,this.selected=e}get values(){return this._values}set values(e){e&&e.length>0?(e=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),t=this.getValidDate(t),t&&this.dateTimeAdapter.clone(t))),this._values=[...e],this.selecteds=[...e]):(this._values=[],this.selecteds=[])}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get isOpen(){return!0}get pickerMode(){return"inline"}get isInSingleMode(){return this._selectMode==="single"}get isInRangeMode(){return this._selectMode==="range"||this._selectMode==="rangeFrom"||this._selectMode==="rangeTo"}get inlineClass(){return!0}constructor(e,t,i){super(t,i),this.changeDetector=e,this._pickerType="both",this._disabled=!1,this._selectMode="single",this.yearSelected=new h,this.monthSelected=new h,this._selecteds=new Array}ngOnInit(){this.container&&(this.container.picker=this)}writeValue(e){e=e??void 0,this.isInSingleMode?(this.value=e,this.container&&(this.container.pickerMoment=e)):(this.values=e,this.container&&(this.container.pickerMoment=this._values?.[this.container.activeSelectedIndex]))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}select(e){this.disabled||(Array.isArray(e)?this.values=[...e]:this.value=e,this.onModelChange?.(e),this.onModelTouched?.())}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}static{this.\u0275fac=function(t){return new(t||n)(d(F),d(E),d(Q))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time-inline"]],viewQuery:function(t,i){if(t&1&&G(Ie,7),t&2){let s;K(s=U())&&(i.container=s.first)}},hostVars:2,hostBindings:function(t,i){t&2&&w("nxt-dt-inline",i.inlineClass)},inputs:{pickerType:"pickerType",disabled:"disabled",selectMode:"selectMode",startAt:"startAt",dateTimeFilter:"dateTimeFilter",min:"min",max:"max",value:"value",values:"values"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected"},features:[Pe([zi]),Te],decls:1,vars:0,template:function(t,i){t&1&&Y(0,"nxt-date-time-container")},dependencies:[Ie],encapsulation:2,changeDetection:0})}}return n})(),Ki={provide:$e,useExisting:_e(()=>ii),multi:!0},Ui={provide:Et,useExisting:_e(()=>ii),multi:!0},ii=(()=>{class n{set dateTime(e){this.registerDateTimePicker(e)}set dateTimeFilter(e){this._dateTimeFilter=e,this.validatorOnChange?.()}get dateTimeFilter(){return this._dateTimeFilter}get disabled(){return this._disabled}set disabled(e){let t=!!e,i=this.elmRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.disabledChange.emit(t)),t&&i.blur?.()}get min(){return this._min}set min(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange?.()}get max(){return this._max}set max(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange?.()}get selectMode(){return this._selectMode}set selectMode(e){if(e!=="single"&&e!=="range"&&e!=="rangeFrom"&&e!=="rangeTo")throw Error("DateTime Error: invalid selectMode value!");this._selectMode=e}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),this.lastValueValid=!e||!!this.dateTimeAdapter.isValid(e),e=this.getValidDate(e);let t=this._value;this._value=e,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(t,e)||this.valueChange.emit(e)}get values(){return this._values}set values(e){e&&e.length>0?(this._values=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)}get elementRef(){return this.elmRef}get isInSingleMode(){return this._selectMode==="single"}get isInRangeMode(){return this._selectMode==="range"||this._selectMode==="rangeFrom"||this._selectMode==="rangeTo"}get inputAriaHaspopup(){return!0}get inputAriaOwns(){return this.dtPicker?.isOpen&&this.dtPicker.id||void 0}get minIso8601(){return this.min?this.dateTimeAdapter.toIso8601(this.min):void 0}get maxIso8601(){return this.max?this.dateTimeAdapter.toIso8601(this.max):void 0}get inputDisabled(){return this.disabled}constructor(e,t,i,s){this.elmRef=e,this.renderer=t,this.dateTimeAdapter=i,this.dateTimeFormats=s,this._disabled=!1,this._selectMode="single",this.rangeSeparator="~",this._values=[],this.dateTimeChange=new h,this.dateTimeInput=new h,this.lastValueValid=!0,this.parseValidator=()=>this.lastValueValid?null:{dateTimeParse:{text:this.elmRef.nativeElement.value}},this.minValidator=a=>{if(this.isInSingleMode){let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value));return!this.min||!o||this.dateTimeAdapter.compare(this.min,o)<=0?null:{dateTimeMin:{min:this.min,actual:o}}}else if(this.isInRangeMode&&a.value){let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[0])),m=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[1]));return!this.min||!o||!m||this.dateTimeAdapter.compare(this.min,o)<=0?null:{dateTimeMin:{min:this.min,actual:[o,m]}}}return null},this.maxValidator=a=>{if(this.isInSingleMode){let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value));return!this.max||!o||this.dateTimeAdapter.compare(this.max,o)>=0?null:{dateTimeMax:{max:this.max,actual:o}}}else if(this.isInRangeMode&&a.value){let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[0])),m=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[1]));return!this.max||!o||!m||this.dateTimeAdapter.compare(this.max,m)>=0?null:{dateTimeMax:{max:this.max,actual:[o,m]}}}return null},this.filterValidator=a=>{let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value));return!this._dateTimeFilter||!o||this._dateTimeFilter(o)?null:{dateTimeFilter:!0}},this.rangeValidator=a=>{if(this.isInSingleMode||!a.value)return null;let o=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[0])),m=this.getValidDate(this.dateTimeAdapter.deserialize(a.value[1]));return!o||!m||this.dateTimeAdapter.compare(o,m)<=0?null:{dateTimeRange:!0}},this.validator=Ot.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator]),this.valueChange=new h,this.disabledChange=new h,this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.value=this.value})}ngOnInit(){if(!this.dtPicker)throw Error("DateTimePicker: the picker input doesn't have any associated nxt-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker?.confirmSelectedChange.subscribe(e=>{Array.isArray(e)?this.values=e:this.value=e,this.onModelChange?.(e),this.onModelTouched?.(),this.dateTimeChange.emit({source:this,value:e,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:e,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub?.unsubscribe(),this.dtPickerSub=void 0,this.localeSub?.unsubscribe(),this.localeSub=void 0,this.valueChange.complete(),this.disabledChange.complete()}writeValue(e){e=e??void 0,this.isInSingleMode?this.value=e:this.values=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.validator?this.validator(e):null}registerOnValidatorChange(e){this.validatorOnChange=e}handleKeydownOnHost(e){e.altKey&&e.code.toLowerCase()==="arrowdown"&&(this.dtPicker?.open(),e.preventDefault())}handleBlurOnHost(e){this.onModelTouched?.()}handleInputOnHost(e){let t=e.target.value;this._selectMode==="single"?this.changeInputInSingleMode(t):this._selectMode==="range"?this.changeInputInRangeMode(t):this.changeInputInRangeFromToMode(t)}handleChangeOnHost(e){let t;this.isInSingleMode?t=this.value:this.isInRangeMode&&(t=this.values),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker?.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){let e=this._values[0],t=this._values[1],i=e?this.dateTimeAdapter.format(e,this.dtPicker?.formatString):"",s=t?this.dateTimeAdapter.format(t,this.dtPicker?.formatString):"";!i&&!s?this.renderer.setProperty(this.elmRef.nativeElement,"value",void 0):this._selectMode==="range"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i+" "+this.rangeSeparator+" "+s):this._selectMode==="rangeFrom"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i):this._selectMode==="rangeTo"&&this.renderer.setProperty(this.elmRef.nativeElement,"value",s)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}registerDateTimePicker(e){e&&(this.dtPicker=e,this.dtPicker.registerInput(this))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}convertTimeStringToDateTimeString(e,t){if(e){let i=t||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(i,this.dateTimeFormats.datePickerInput)+" "+e}}changeInputInSingleMode(e){let t=e;this.dtPicker?.pickerType==="timer"&&(t=this.convertTimeStringToDateTimeString(t,this.value));let i=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!i||this.dateTimeAdapter.isValid(i),i=this.getValidDate(i),(!this.isSameValue(i,this._value)||i===void 0)&&(this._value=i,this.valueChange.emit(i),this.onModelChange?.(i),this.dateTimeInput.emit({source:this,value:i,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(e){let t=this._selectMode==="rangeFrom"?this._values[0]:this._values[1];this.dtPicker?.pickerType==="timer"&&(e=this.convertTimeStringToDateTimeString(e,t));let i=this.dateTimeAdapter.parse(e,this.dateTimeFormats.parseInput);this.lastValueValid=!i||this.dateTimeAdapter.isValid(i),i=this.getValidDate(i),!(this._selectMode==="rangeFrom"&&this.isSameValue(i,this._values[0])&&i||this._selectMode==="rangeTo"&&this.isSameValue(i,this._values[1])&&i)&&(this._values=this._selectMode==="rangeFrom"?[i,this._values[1]]:[this._values[0],i],this.valueChange.emit(this._values),this.onModelChange?.(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(e){let t=e.split(this.rangeSeparator),i=t[0],s=t[1];this.dtPicker?.pickerType==="timer"&&(i=this.convertTimeStringToDateTimeString(i,this.values[0]),s=this.convertTimeStringToDateTimeString(s,this.values[1]));let a=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput),o=this.dateTimeAdapter.parse(s,this.dateTimeFormats.parseInput);this.lastValueValid=(!a||this.dateTimeAdapter.isValid(a))&&(!o||this.dateTimeAdapter.isValid(o)),a=this.getValidDate(a),o=this.getValidDate(o),(!this.isSameValue(a,this._values[0])||!this.isSameValue(o,this._values[1])||!a&&!o)&&(this._values=[a,o],this.valueChange.emit(this._values),this.onModelChange?.(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(e,t){return e&&t?this.dateTimeAdapter.compare(e,t)===0:e==t}static{this.\u0275fac=function(t){return new(t||n)(d(O),d(ht),d(E),d(Q))}}static{this.\u0275dir=W({type:n,selectors:[["input","nxtDateTime",""]],hostVars:5,hostBindings:function(t,i){t&1&&C("keydown",function(a){return i.handleKeydownOnHost(a)})("blur",function(a){return i.handleBlurOnHost(a)})("input",function(a){return i.handleInputOnHost(a)})("change",function(a){return i.handleChangeOnHost(a)}),t&2&&(le("disabled",i.inputDisabled),k("aria-haspopup",i.inputAriaHaspopup)("aria-owns",i.inputAriaOwns)("min",i.minIso8601)("max",i.maxIso8601))},inputs:{dateTime:[0,"nxtDateTime","dateTime"],dateTimeFilter:"dateTimeFilter",disabled:"disabled",min:"min",max:"max",selectMode:"selectMode",rangeSeparator:"rangeSeparator",value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput"},exportAs:["nxtDateTimeInput"],features:[Pe([Ki,Ui])]})}}return n})(),As=(()=>{class n{get disabled(){return this._disabled??!!this.dtPicker?.disabled}set disabled(e){this._disabled=e}get triggerDisabledClass(){return this.disabled}constructor(e){this.changeDetector=e}ngOnInit(){}ngOnChanges(e){"datepicker"in e&&this.watchStateChanges()}ngAfterContentInit(){this.watchStateChanges()}ngOnDestroy(){this.stateChanges?.unsubscribe(),this.stateChanges=void 0}handleClickOnHost(e){this.dtPicker&&(this.dtPicker.open(),e.stopPropagation())}watchStateChanges(){this.stateChanges?.unsubscribe(),this.stateChanges=void 0;let e=this.dtPicker&&this.dtPicker.dtInput?this.dtPicker.dtInput.disabledChange:q(),t=this.dtPicker?this.dtPicker.disabledChange:q();this.stateChanges=Fe(t,e).subscribe(()=>{this.changeDetector.markForCheck()})}static{this.\u0275fac=function(t){return new(t||n)(d(F))}}static{this.\u0275dir=W({type:n,selectors:[["","nxtDateTimeTrigger",""]],hostVars:2,hostBindings:function(t,i){t&1&&C("click",function(a){return i.handleClickOnHost(a)}),t&2&&w("nxt-dt-trigger-disabled",i.triggerDisabledClass)},inputs:{dtPicker:[0,"nxtDateTimeTrigger","dtPicker"],disabled:"disabled"},features:[Ce]})}}return n})(),Zi=0,tt=class{constructor(){this.autoFocus=!0,this.hasBackdrop=!0,this.disableClose=!1,this.role="dialog",this.paneClass="",this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new Lt,this.id=`nxt-dialog-${Zi++}`}},Ve=class{constructor(r,e,t,i){this.overlayRef=r,this.container=e,this.id=t,this._beforeClose$=new M,this._afterOpen$=new M,this._afterClosed$=new M,this.disableClose=!!this.container.config?.disableClose,this.container.animationStateChanged.pipe(J(s=>s.phaseName==="done"&&s.toState==="enter"),B(1)).subscribe(()=>{this._afterOpen$.next(void 0),this._afterOpen$.complete()}),this.container.animationStateChanged.pipe(J(s=>s.phaseName==="done"&&s.toState==="exit"),B(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged?.unsubscribe(),this.locationChanged=void 0,this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=void 0}),this.overlayRef.keydownEvents().pipe(J(s=>s.code.toLowerCase()==="escape"&&!this.disableClose)).subscribe(()=>this.close()),i&&(this.locationChanged=i.subscribe(()=>{this.container.config?.closeOnNavigation&&this.close()}))}close(r){this.result=r,this.container.animationStateChanged.pipe(J(e=>e.phaseName==="start"),B(1)).subscribe(()=>{this._beforeClose$.next(r),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(r){let e=this.getPositionStrategy();return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(r="auto",e="auto"){return this.overlayRef.updateSize({width:r,height:e}),this.overlayRef.updatePosition(),this}isAnimating(){return this.container.isAnimating}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}};function Gi(n,...r){if(n==null||n==null)throw TypeError("Cannot convert undefined or null to object");for(let e of r)if(e!=null&&e!=null)for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Xi(n,r){}var Qi={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},qi={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"},ei=(()=>{class n extends Ft{get config(){return this._config}get dialogContainerClass(){return!0}get dialogContainerTabIndex(){return-1}get dialogContainerId(){return this._config?.id}get dialogContainerRole(){return this._config?.role}get dialogContainerAriaLabelledby(){return this.ariaLabelledBy}get dialogContainerAriaDescribedby(){return this._config?.ariaDescribedBy}get dialogContainerAnimation(){return{value:this.state,params:this.params}}constructor(e,t,i,s){super(),this.changeDetector=e,this.elementRef=t,this.focusTrapFactory=i,this.document=s,this.animationStateChanged=new h,this.isAnimating=!1,this.state="enter",this.params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0}}ngOnInit(){}attachComponentPortal(e){if(this.portalOutlet?.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){throw new Error("Method not implemented.")}setConfig(e){this._config=e,e.event&&this.calculateZoomOrigin(e.event)}onAnimationStart(e){this.isAnimating=!0,this.animationStateChanged.emit(e)}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="exit"&&this.restoreFocus(),this.animationStateChanged.emit(e),this.isAnimating=!1}startExitAnimation(){this.state="exit",this.changeDetector.markForCheck()}calculateZoomOrigin(e){if(!e)return;let t=e.clientX,i=e.clientY,s=window.innerWidth/2,a=window.innerHeight/2,o=t-s,m=i-a,R=t/window.innerWidth,oe=i/window.innerHeight;this.params.x=`${o}px`,this.params.y=`${m}px`,this.params.ox=`${R*100}%`,this.params.oy=`${oe*100}%`,this.params.scale=0}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()).catch(()=>{}))}trapFocus(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config?.autoFocus&&this.focusTrap?.focusInitialElementWhenReady().catch(()=>{})}restoreFocus(){let e=this.elementFocusedBeforeDialogWasOpened;e&&typeof e.focus=="function"&&e.focus(),this.focusTrap&&(this.focusTrap.destroy(),this.focusTrap=void 0)}static{this.\u0275fac=function(t){return new(t||n)(d(F),d(O),d(Gt),d(L,8))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-dialog-container"]],viewQuery:function(t,i){if(t&1&&G(ze,7),t&2){let s;K(s=U())&&(i.portalOutlet=s.first)}},hostVars:8,hostBindings:function(t,i){t&1&&Be("@slideModal.start",function(a){return i.onAnimationStart(a)})("@slideModal.done",function(a){return i.onAnimationDone(a)}),t&2&&(Re("@slideModal",i.dialogContainerAnimation),k("tabindex",i.dialogContainerTabIndex)("id",i.dialogContainerId)("role",i.dialogContainerRole)("aria-labelledby",i.dialogContainerAriaLabelledby)("aria-describedby",i.dialogContainerAriaDescribedby),w("nxt-dialog-container",i.dialogContainerClass))},features:[Te],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&pt(0,Xi,0,0,"ng-template",0)},dependencies:[ze],encapsulation:2,data:{animation:[we("slideModal",[ie("void => enter",[x(qi),X("300ms cubic-bezier(0.35, 0, 0.25, 1)",x("*")),X("150ms",At([x({transform:"scale(1)",offset:0}),x({transform:"scale(1.05)",offset:.3}),x({transform:"scale(.95)",offset:.8}),x({transform:"scale(1)",offset:1})])),Ae()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),ie("enter => exit",[Ae(),X(200,x(Qi))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}})}}return n})(),Ji=new S("NXT_DIALOG_DATA"),en=new S("NXT_DIALOG_SCROLL_STRATEGY"),tn=new S("NXT_DIALOG_DEFAULT_OPTIONS"),nn=(()=>{class n{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){let e=this.parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(e,t,i,s,a,o,m){this.overlay=e,this.injector=t,this.location=i,this.defaultOptions=a,this.parentDialog=o,this.overlayContainer=m,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._afterOpenAtThisLevel=new M,this._afterAllClosedAtThisLevel=new M,this.afterAllClosed=st(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:q([void 0],this._afterAllClosed).pipe(nt())),this.scrollStrategy=s??(()=>e.scrollStrategies.block()),!o&&i&&i.subscribe(()=>this.closeAll())}open(e,t){if(t=sn(t,this.defaultOptions),t.id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);let i=this.createOverlay(t),s=this.attachDialogContainer(i,t),a=this.attachDialogContent(e,s,i,t);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this.removeOpenDialog(a)),this.afterOpen.next(a),a}closeAll(){let e=this.openDialogs.length;for(;e--;)this.openDialogs[e].close()}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}attachDialogContent(e,t,i,s){let a=new Ve(i,t,s.id,this.location);if(s.hasBackdrop&&i.backdropClick().subscribe(()=>{a.disableClose||a.close()}),!(e instanceof lt)){let o=this.createInjector(s,a,t),m=t.attachComponentPortal(new xe(e,void 0,o));a.componentInstance=m.instance}return a.updateSize(s.width,s.height).updatePosition(s.position),a}createInjector(e,t,i){let s=e&&e.viewContainerRef&&e.viewContainerRef.injector;return z.create({providers:[{provide:Ve,useValue:t},{provide:ei,useValue:i},{provide:Ji,useValue:e.data}],parent:s||this.injector})}createOverlay(e){let t=this.getOverlayConfig(e);return this.overlay.create(t)}attachDialogContainer(e,t){let i=new xe(ei,t.viewContainerRef),s=e.attach(i);return s.instance.setConfig(t),s.instance}getOverlayConfig(e){let t=new We({positionStrategy:this.overlay.position().global(),scrollStrategy:e.scrollStrategy||this.scrollStrategy(),panelClass:e.paneClass,hasBackdrop:e.hasBackdrop,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}removeOpenDialog(e){let t=this._openDialogsAtThisLevel.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){let e=this.overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let s=t[i];s!==e&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}static{this.\u0275fac=function(t){return new(t||n)(j(Ke),j(z),j(vt,8),j(en,8),j(tn,8),j(n,12),j(Rt))}}static{this.\u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sn(n,r){return Gi(new tt,n,r)}var rn=new S("NXT_DTPICKER_SCROLL_STRATEGY"),xs=(()=>{class n extends ti{get startAt(){if(this._startAt)return this._startAt;if(this._dtInput){if(this._dtInput.selectMode==="single")return this._dtInput.value;if(this._dtInput.selectMode==="range"||this._dtInput.selectMode==="rangeFrom")return this._dtInput.values[0];if(this._dtInput.selectMode==="rangeTo")return this._dtInput.values[1]}}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e,this._dtInput&&this._dtInput.formatNativeInputValue())}get pickerMode(){return this._pickerMode}set pickerMode(e){e==="popup"?this._pickerMode=e:this._pickerMode="dialog"}get disabled(){return this._disabled??!!this._dtInput?.disabled}set disabled(e){e=!!e,e!==this._disabled&&(this._disabled=e,this.disabledChange.next(e))}get isOpen(){return this._isOpen}set isOpen(e){e?this.open():this.close()}get dtInput(){return this._dtInput}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds||[]}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get min(){return this._dtInput&&this._dtInput.min}get max(){return this._dtInput&&this._dtInput.max}get dateTimeFilter(){return this._dtInput?.dateTimeFilter}get selectMode(){return this._dtInput?.selectMode}get isInSingleMode(){return!!this._dtInput?.isInSingleMode}get isInRangeMode(){return!!this._dtInput?.isInRangeMode}constructor(e,t,i,s,a,o,m,R,oe){super(o,m),this.overlay=e,this.viewContainerRef=t,this.dialogService=i,this.ngZone=s,this.changeDetector=a,this.defaultScrollStrategy=R,this.document=oe,this._pickerType="both",this._pickerMode="popup",this._isOpen=!1,this.afterPickerOpened=new h,this.afterPickerClosed=new h,this.yearSelected=new h,this.monthSelected=new h,this.isOpenChange=new h,this.confirmSelectedChange=new h,this.disabledChange=new h,this._selecteds=new Array,this.defaultScrollStrategy=this.defaultScrollStrategy??(()=>e.scrollStrategies.block())}ngOnInit(){}ngOnDestroy(){this.close(),this.dtInputSub?.unsubscribe(),this.dtInputSub=void 0,this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()}registerInput(e){if(this._dtInput)throw Error("A Nxt DateTimePicker can only be associated with a single input.");this._dtInput=e,this.dtInputSub=this._dtInput.valueChange.subscribe(t=>{Array.isArray(t)?this.selecteds=t:this.selected=t})}open(){if(!(this._isOpen||this.disabled)){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&this.pickerType!=="calendar"&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),this.pickerMode==="dialog"?this.openAsDialog():this.openAsPopup(),this.pickerContainer&&(this.pickerContainer.picker=this),this.hidePickerStreamSub=this.pickerContainer?.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer?.confirmSelectedStream.subscribe(e=>{this.confirmSelect(e)})}}select(e){Array.isArray(e)?this.selecteds=[...e]:this.selected=e,this.pickerMode!=="dialog"&&this.pickerType==="calendar"&&(this.selectMode==="single"&&this.selected||this.selectMode==="rangeFrom"&&this.selecteds[0]||this.selectMode==="rangeTo"&&this.selecteds[1]||this.selectMode==="range"&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}close(){if(!this._isOpen)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub?.unsubscribe(),this.hidePickerStreamSub=void 0,this.confirmSelectedStreamSub?.unsubscribe(),this.confirmSelectedStreamSub=void 0,this.pickerOpenedStreamSub?.unsubscribe(),this.pickerOpenedStreamSub=void 0,this.dialogRef&&(this.dialogRef.close(),this.dialogRef=void 0);let e=()=>{this._isOpen&&(this._isOpen=!1,this.isOpenChange.emit(this._isOpen),this.afterPickerClosed.emit(),this.focusedElementBeforeOpen=void 0)};this.focusedElementBeforeOpen&&typeof this.focusedElementBeforeOpen.focus=="function"?(this.focusedElementBeforeOpen.focus(),setTimeout(e)):e()}confirmSelect(e){if(this.isInSingleMode){let t=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(t)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()}openAsDialog(){this.dialogRef=this.dialogService.open(Ie,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...this.backdropClass?re(this.backdropClass):[]],paneClass:["nxt-dt-dialog",...this.panelClass?re(this.panelClass):[]],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.afterOpen().subscribe(()=>{this._isOpen=!0,this.isOpenChange.emit(this._isOpen),this.afterPickerOpened.emit()}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new xe(Ie,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef?.hasAttached()){let e=this.popupRef?.attach(this.pickerContainerPortal);this.pickerContainer=e?.instance,this.ngZone.onStable.asObservable().pipe(B(1)).subscribe(()=>{this.popupRef?.updatePosition()}),this.pickerOpenedStreamSub=this.pickerContainer?.pickerOpenedStream.pipe(B(1)).subscribe(()=>{this._isOpen=!0,this.isOpenChange.emit(this._isOpen),this.afterPickerOpened.emit()})}}createPopup(){let e=new We({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...this.backdropClass?re(this.backdropClass):[]],scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy(),panelClass:["nxt-dt-popup",...this.panelClass?re(this.panelClass):[]]});this.popupRef=this.overlay.create(e),Fe(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe(J(t=>!!(t.code.toLowerCase()==="escape"||this._dtInput&&t.altKey&&t.code.toLowerCase()==="arrowup")))).subscribe(()=>this.close())}createPopupPositionStrategy(){if(this._dtInput)return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".nxt-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}static{this.\u0275fac=function(t){return new(t||n)(d(Ke),d(ut),d(nn),d(I),d(F),d(E),d(Q),d(rn,8),d(L,8))}}static{this.\u0275cmp=v({type:n,selectors:[["nxt-date-time"]],inputs:{backdropClass:"backdropClass",panelClass:"panelClass",startAt:"startAt",pickerType:"pickerType",pickerMode:"pickerMode",disabled:"disabled",isOpen:"isOpen",scrollStrategy:"scrollStrategy"},outputs:{afterPickerOpened:"open",afterPickerClosed:"close",yearSelected:"yearSelected",monthSelected:"monthSelected",isOpenChange:"isOpenChange"},features:[Te],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}}return n})();export{E as a,Q as b,ii as c,As as d,xs as e};
