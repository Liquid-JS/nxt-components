import{a as Ht}from"./chunk-TALDZWHH.js";import{c as Oe,d as re,e as Bt,g as L,h as Me,i as Pt,j as me,k as Le,l as Yt}from"./chunk-J6T57LRS.js";import{a as Qe,d as zt,e as Kt}from"./chunk-GIIWI5YK.js";import{b as Fe}from"./chunk-D6FAYY5Q.js";import{a as jt,b as $t,c as ge,d as Wt,e as fe,f as Re,g as Ut,h as Be,i as Zt,j as Je,k as Gt,l as et}from"./chunk-A6XGMI4Q.js";import{a as pe,c as qe,d as ve}from"./chunk-CR2F7LZQ.js";import{i as Rt}from"./chunk-IVHFKMEK.js";import{$ as M,$a as Ct,B as gt,Bb as Se,Cb as Ie,Cc as d,D as de,Db as k,Dc as O,Eb as h,Fb as b,Gb as G,H as ft,Hb as P,Hc as _,I as K,Ib as ne,Ic as l,J as we,Jb as Ve,Jc as ie,Nb as Y,Nc as Ne,O as _t,Ob as he,Pb as Ke,R as bt,Sc as Xe,Tb as y,Ub as Ue,Uc as Ft,V as Ae,Va as g,Vb as _e,W as F,Wb as p,Z as R,_ as q,_a as Tt,bb as yt,bc as se,cb as Dt,cc as ae,db as u,dc as Ee,e as E,ea as v,ec as be,f as ut,fa as T,fb as kt,fc as x,ga as Q,ha as le,hc as Ze,ia as J,ic as N,ja as W,jc as ue,kb as I,kc as te,m as ke,ma as Mt,mb as ee,mc as xt,na as B,nb as wt,nc as St,ob as xe,oc as It,pb as At,qa as m,qc as Vt,rc as Ge,sa as ce,sc as Et,ua as vt,v as mt,vc as Nt,wb as A,wc as Ot,x as pt,xa as j,xb as U,yb as Z,yc as Lt,zb as ze}from"./chunk-HAUTYPWP.js";import{a as We}from"./chunk-FBFWB55K.js";function Xt(s){return s.buttons===0||s.detail===0}function qt(s){let a=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!!a&&a.identifier===-1&&(a.radiusX==null||a.radiusX===1)&&(a.radiusY==null||a.radiusY===1)}var Qt=new R("cdk-input-modality-detector-options"),Jt={ignoreKeys:[18,17,224,91,16]},ei=650,tt={passive:!0,capture:!0},ti=(()=>{class s{_platform=M(pe);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ut(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(t=>t===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ge(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<ei||(this._modality.next(Xt(e)?"keyboard":"mouse"),this._mostRecentTarget=ge(e))};_onTouchstart=e=>{if(qt(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ge(e)};constructor(){let e=M(B),t=M(W),i=M(Qt,{optional:!0});if(this._options=We(We({},Jt),i),this.modalityDetected=this._modality.pipe(_t(1)),this.modalityChanged=this.modalityDetected.pipe(we()),this._platform.isBrowser){let n=M(yt).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[n.listen(t,"keydown",this._onKeydown,tt),n.listen(t,"mousedown",this._onMousedown,tt),n.listen(t,"touchstart",this._onTouchstart,tt)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(t){return new(t||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Te=(function(s){return s[s.IMMEDIATE=0]="IMMEDIATE",s[s.EVENTUAL=1]="EVENTUAL",s})(Te||{}),ii=new R("cdk-focus-monitor-default-options"),Pe=Ht({passive:!0,capture:!0}),ni=(()=>{class s{_ngZone=M(B);_platform=M(pe);_inputModalityDetector=M(ti);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=M(W);_stopInputModalityDetector=new E;constructor(){let e=M(ii,{optional:!0});this._detectionMode=e?.detectionMode||Te.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let t=ge(e);for(let i=t;i;i=i.parentElement)e.type==="focus"?this._onFocus(e,i):this._onBlur(e,i)};monitor(e,t=!1){let i=ve(e);if(!this._platform.isBrowser||i.nodeType!==1)return ke();let n=jt(i)||this._document,r=this._elementInfo.get(i);if(r)return t&&(r.checkChildren=!0),r.subject;let o={checkChildren:t,subject:new E,rootNode:n};return this._elementInfo.set(i,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){let t=ve(e),i=this._elementInfo.get(t);i&&(i.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(i))}focusVia(e,t,i){let n=ve(e),r=this._document.activeElement;n===r?this._getClosestElementsInfo(n).forEach(([o,c])=>this._originChanged(o,t,c)):(this._setOrigin(t),typeof n.focus=="function"&&n.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Te.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,t){e.classList.toggle("cdk-focused",!!t),e.classList.toggle("cdk-touch-focused",t==="touch"),e.classList.toggle("cdk-keyboard-focused",t==="keyboard"),e.classList.toggle("cdk-mouse-focused",t==="mouse"),e.classList.toggle("cdk-program-focused",t==="program")}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&t,this._detectionMode===Te.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?ei:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(e,t){let i=this._elementInfo.get(t),n=ge(e);!i||!i.checkChildren&&t!==n||this._originChanged(t,this._getFocusOrigin(n),i)}_onBlur(e,t){let i=this._elementInfo.get(t);!i||i.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(i,null))}_emitOrigin(e,t){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let t=e.rootNode,i=this._rootNodeFocusListenerCount.get(t)||0;i||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Pe),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Pe)}),this._rootNodeFocusListenerCount.set(t,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bt(this._stopInputModalityDetector)).subscribe(n=>{this._setOrigin(n,!0)}))}_removeGlobalListeners(e){let t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){let i=this._rootNodeFocusListenerCount.get(t);i>1?this._rootNodeFocusListenerCount.set(t,i-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Pe),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Pe),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,i){this._setClasses(e,t),this._emitOrigin(i,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){let t=[];return this._elementInfo.forEach((i,n)=>{(n===e||i.checkChildren&&n.contains(e))&&t.push([n,i])}),t}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:t,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!t||t===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let n=e.labels;if(n){for(let r=0;r<n.length;r++)if(n[r].contains(t))return!0}return!1}static \u0275fac=function(t){return new(t||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),it=(()=>{class s{_elementRef=M(j);_focusMonitor=M(ni);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new Mt;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>{this._focusOrigin=t,this.cdkFocusChange.emit(t)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||s)};static \u0275dir=ee({type:s,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return s})();var si=(()=>{class s{static \u0275fac=function(t){return new(t||s)};static \u0275cmp=I({type:s,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(t,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return s})();var nt=(()=>{class s{_platform=M(pe);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return _i(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let t=fi(ki(e));if(t&&(ai(t)===-1||!this.isVisible(t)))return!1;let i=e.nodeName.toLowerCase(),n=ai(e);return e.hasAttribute("contenteditable")?n!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!yi(e)?!1:i==="audio"?e.hasAttribute("controls")?n!==-1:!1:i==="video"?n===-1?!1:n!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,t){return Di(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(t){return new(t||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function fi(s){try{return s.frameElement}catch{return null}}function _i(s){return!!(s.offsetWidth||s.offsetHeight||typeof s.getClientRects=="function"&&s.getClientRects().length)}function bi(s){let a=s.nodeName.toLowerCase();return a==="input"||a==="select"||a==="button"||a==="textarea"}function Mi(s){return Ti(s)&&s.type=="hidden"}function vi(s){return Ci(s)&&s.hasAttribute("href")}function Ti(s){return s.nodeName.toLowerCase()=="input"}function Ci(s){return s.nodeName.toLowerCase()=="a"}function ri(s){if(!s.hasAttribute("tabindex")||s.tabIndex===void 0)return!1;let a=s.getAttribute("tabindex");return!!(a&&!isNaN(parseInt(a,10)))}function ai(s){if(!ri(s))return null;let a=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(a)?-1:a}function yi(s){let a=s.nodeName.toLowerCase(),e=a==="input"&&s.type;return e==="text"||e==="password"||a==="select"||a==="textarea"}function Di(s){return Mi(s)?!1:bi(s)||vi(s)||s.hasAttribute("contenteditable")||ri(s)}function ki(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}var Ce=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(a){this._enabled=a,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(a,this._startAnchor),this._toggleAnchorTabIndex(a,this._endAnchor))}_enabled=!0;constructor(a,e,t,i,n=!1,r){this._element=a,this._checker=e,this._ngZone=t,this._document=i,this._injector=r,n||this.attachAnchors()}destroy(){let a=this._startAnchor,e=this._endAnchor;a&&(a.removeEventListener("focus",this.startAnchorListener),a.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(a){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(a)))})}focusFirstTabbableElementWhenReady(a){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(a)))})}focusLastTabbableElementWhenReady(a){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(a)))})}_getRegionBoundary(a){let e=this._element.querySelectorAll(`[cdk-focus-region-${a}], [cdkFocusRegion${a}], [cdk-focus-${a}]`);return a=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(a){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let t=this._getFirstTabbableElement(e);return t?.focus(a),!!t}return e.focus(a),!0}return this.focusFirstTabbableElement(a)}focusFirstTabbableElement(a){let e=this._getRegionBoundary("start");return e&&e.focus(a),!!e}focusLastTabbableElement(a){let e=this._getRegionBoundary("end");return e&&e.focus(a),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(a){if(this._checker.isFocusable(a)&&this._checker.isTabbable(a))return a;let e=a.children;for(let t=0;t<e.length;t++){let i=e[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[t]):null;if(i)return i}return null}_getLastTabbableElement(a){if(this._checker.isFocusable(a)&&this._checker.isTabbable(a))return a;let e=a.children;for(let t=e.length-1;t>=0;t--){let i=e[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[t]):null;if(i)return i}return null}_createAnchor(){let a=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,a),a.classList.add("cdk-visually-hidden"),a.classList.add("cdk-focus-trap-anchor"),a.setAttribute("aria-hidden","true"),a}_toggleAnchorTabIndex(a,e){a?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(a){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(a,this._startAnchor),this._toggleAnchorTabIndex(a,this._endAnchor))}_executeOnStable(a){this._injector?Tt(a,{injector:this._injector}):setTimeout(a)}},oi=(()=>{class s{_checker=M(nt);_ngZone=M(B);_document=M(W);_injector=M(J);constructor(){M(Wt).load(si)}create(e,t=!1){return new Ce(e,this._checker,this._ngZone,this._document,t,this._injector)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),st=(()=>{class s{_elementRef=M(j);_focusTrapFactory=M(oi);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){M(pe).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=$t(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(t){return new(t||s)};static \u0275dir=ee({type:s,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Xe],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Xe]},exportAs:["cdkTrapFocus"],features:[vt]})}return s})();var at=class extends Ce{_focusTrapManager;_inertStrategy;get enabled(){return this._enabled}set enabled(a){this._enabled=a,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(a,e,t,i,n,r,o,c){super(a,e,t,i,o.defer,c),this._focusTrapManager=n,this._inertStrategy=r,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}},rt=class{_listener=null;preventFocus(a){this._listener&&a._document.removeEventListener("focus",this._listener,!0),this._listener=e=>this._trapFocus(a,e),a._ngZone.runOutsideAngular(()=>{a._document.addEventListener("focus",this._listener,!0)})}allowFocus(a){this._listener&&(a._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(a,e){let t=e.target,i=a._element;t&&!i.contains(t)&&!t.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{a.enabled&&!i.contains(a._document.activeElement)&&a.focusFirstTabbableElement()})}},wi=new R("FOCUS_TRAP_INERT_STRATEGY"),Ai=(()=>{class s{_focusTrapStack=[];register(e){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==e);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();let t=this._focusTrapStack,i=t.indexOf(e);i!==-1&&(t.splice(i,1),t.length&&t[t.length-1]._enable())}static \u0275fac=function(t){return new(t||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),di=(()=>{class s{_checker=M(nt);_ngZone=M(B);_focusTrapManager=M(Ai);_document=M(W);_inertStrategy;_injector=M(J);constructor(){let e=M(wi,{optional:!0});this._inertStrategy=e||new rt}create(e,t={defer:!1}){let i;return typeof t=="boolean"?i={defer:t}:i=t,new at(e,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,i,this._injector)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var H=class{constructor(){this.locale=m(void 0),this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}compare(a,e){if(!this.isValid(a)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");let t=this.clone(a),i=this.clone(e),n=this.getTime(t)-this.getTime(i);return n<0?-1:n>0?1:n}compareYear(a,e){if(!this.isValid(a)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");let t=this.getYear(a),i=this.getYear(e),n=t-i;return n<0?-1:n>0?1:0}deserialize(a){return a==null||a==null||this.isDateInstance(a)&&this.isValid(a)?a:this.invalid()}setLocale(a){this.locale.set(a)}clampDate(a,e,t){return e&&this.compare(a,e)<0?e:t&&this.compare(a,t)>0?t:a}},oe=new R("NXT_DATE_TIME_FORMATS"),Si=["nxtDateTimeCalendarBody",""],Ii=(s,a,e)=>({"nxt-dt-calendar-cell-out":s,"nxt-dt-calendar-cell-today":a,"nxt-dt-calendar-cell-selected":e});function Vi(s,a){if(s&1){let e=Y();P(0,"td",2),_e("click",function(){let i=v(e).$implicit,n=p(2);return T(n.selectCell(i))}),P(1,"span",3),N(2),ne()()}if(s&2){let e=a.$implicit,t=a.$index,i=p().$index,n=p();Ze(Vt("nxt-dt-calendar-cell ",e.cellClass)),be("width",100/n.numCols(),"%")("padding-top",50*n.cellRatio()/n.numCols(),"%")("padding-bottom",50*n.cellRatio()/n.numCols(),"%"),x("nxt-dt-calendar-cell-active",n.isActiveCell(i,t))("nxt-dt-calendar-cell-disabled",!e.enabled)("nxt-dt-calendar-cell-in-range",n.isInRange(e.value))("nxt-dt-calendar-cell-range-from",n.isRangeFrom(e.value))("nxt-dt-calendar-cell-range-from-long",n.isInRange(e.value+7))("nxt-dt-calendar-cell-range-to",n.isRangeTo(e.value))("nxt-dt-calendar-cell-range-to-long",n.isInRange(e.value-7)),he("tabIndex",n.isActiveCell(i,t)?0:-1),A("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null),g(),Ze(Nt(29,Ii,e.out,e.value===n.todayValue(),n.isSelected(e.value))),g(),te(" ",e.displayValue," ")}}function Ei(s,a){if(s&1&&(P(0,"tr",0),Se(1,Vi,3,33,"td",1,ze),ne()),s&2){let e=a.$implicit;g(),Ie(e)}}var De=class{constructor(a,e,t,i,n=!1,r=""){this.value=a,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.out=n,this.cellClass=r}},X=(()=>{class s{constructor(e,t){this.elmRef=e,this.ngZone=t,this.activeCell=l(0),this.rows=l(),this.numCols=l(7),this.cellRatio=l(1),this.todayValue=l(),this.selectedValues=l(),this.selectMode=l(),this.select=_(),this.isInSingleMode=d(()=>this.selectMode()==="single"),this.isInRangeMode=d(()=>{let i=this.selectMode();return i==="range"||i==="rangeFrom"||i==="rangeTo"})}selectCell(e){this.select.emit(e)}isActiveCell(e,t){return e*this.numCols()+t===this.activeCell()}isSelected(e){let t=this.selectedValues();if(!t||t.length===0)return!1;if(this.isInSingleMode())return e===t[0];if(this.isInRangeMode()){let i=t[0],n=t[1];return e===i||e===n}return!1}isInRange(e){if(this.isInRangeMode()){let t=this.selectedValues(),i=t?.[0],n=t?.[1];return i!==void 0&&n!==void 0?e>=i&&e<=n:e===i||e===n}return!1}isRangeFrom(e){if(this.isInRangeMode()){let t=this.selectedValues()?.[0];return t!==void 0&&e===t}return!1}isRangeTo(e){if(this.isInRangeMode()){let t=this.selectedValues()?.[1];return t!==void 0&&e===t}return!1}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(K(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}static{this.\u0275fac=function(t){return new(t||s)(u(j),u(B))}}static{this.\u0275cmp=I({type:s,selectors:[["","nxtDateTimeCalendarBody",""]],hostVars:2,hostBindings:function(t,i){t&2&&x("nxt-dt-calendar-body",!0)},inputs:{activeCell:[1,"activeCell"],rows:[1,"rows"],numCols:[1,"numCols"],cellRatio:[1,"cellRatio"],todayValue:[1,"todayValue"],selectedValues:[1,"selectedValues"],selectMode:[1,"selectMode"]},outputs:{select:"select"},exportAs:["nxtDateTimeCalendarBody"],attrs:Si,decls:2,vars:0,consts:[["role","row"],[3,"class","tabindex","nxt-dt-calendar-cell-active","nxt-dt-calendar-cell-disabled","nxt-dt-calendar-cell-in-range","nxt-dt-calendar-cell-range-from","nxt-dt-calendar-cell-range-from-long","nxt-dt-calendar-cell-range-to","nxt-dt-calendar-cell-range-to-long","width","paddingTop","paddingBottom"],[3,"click","tabindex"],[1,"nxt-dt-calendar-cell-content"]],template:function(t,i){t&1&&Se(0,Ei,3,0,"tr",0,ze),t&2&&Ie(i.rows())},encapsulation:2,changeDetection:0})}}return s})(),Ni=(s,a)=>a.long;function Oi(s,a){if(s&1&&(h(0,"th",3)(1,"span"),N(2),b()()),s&2){let e=a.$implicit;A("aria-label",e.long),g(2),ue(e.short)}}var ot=7,Li=6,Fi=(()=>{class s{constructor(e,t){this.dateTimeAdapter=e,this.dateTimeFormats=t,this.hideOtherMonths=l(!1),this._firstDayOfWeek=0,this.firstDayOfWeek=l(this._firstDayOfWeek,{transform:i=>i>=0&&i<=6&&i!==this._firstDayOfWeek?this._firstDayOfWeek=i:this._firstDayOfWeek}),this.selectMode=l("single"),this.selected=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.selecteds=l([],{transform:i=>i.map(n=>(n=this.dateTimeAdapter.deserialize(n),this.getValidDate(n)))}),this.pickerMoment=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i)||this.dateTimeAdapter.now())}),this.dateTimeFilter=l(),this.min=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.max=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.weekdays=d(()=>{let i=this.dateTimeAdapter.getDayOfWeekNames("long"),n=this.dateTimeAdapter.getDayOfWeekNames("short"),r=this.dateTimeAdapter.getDayOfWeekNames("narrow"),o=this.firstDayOfWeek(),c=i.map((f,C)=>({long:f,short:n[C],narrow:r[C]}));return c.slice(o).concat(c.slice(0,o))}),this._daysData=d(()=>{if(!this.pickerMoment())return;let i,n=this.dateTimeAdapter.getDay(this.firstDateOfMonth()),r=this.firstDayOfWeek(),o=0-(n+(ot-r))%ot,c=Math.abs(o),f=[];for(let C=0;C<Li;C++){let z=[];for(let $=0;$<ot;$++){let D=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth(),o),V=this.createDateCell(D,o);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),D)&&(i=o+1),z.push(V),o+=1}f.push(z)}return{days:f,todayDate:i,firstRowOffset:c}}),this.days=d(()=>{let i=this._daysData()?.days;return i!=null?this._days=i:this._days}),this.activeCell=d(()=>{if(this.pickerMoment())return this.dateTimeAdapter.getDate(this.pickerMoment())+this.firstRowOffset()-1}),this.isInSingleMode=d(()=>this.selectMode()==="single"),this.isInRangeMode=d(()=>this.selectMode()==="range"||this.selectMode()==="rangeFrom"||this.selectMode()==="rangeTo"),this.firstDateOfMonth=O({source:()=>this.pickerMoment(),computation:i=>this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(i),this.dateTimeAdapter.getMonth(i),1)}),this.todayDate=d(()=>{let i=this._daysData()?.todayDate;return i!=null?this._todayDate=i:this._todayDate}),this.selectedDates=d(()=>{let i=new Array;if(!this.firstDateOfMonth())return this._selectedDates;if(this.isInSingleMode()&&this.selected()){let n=this.dateTimeAdapter.differenceInCalendarDays(this.selected(),this.firstDateOfMonth())??0;return i[0]=n+1,this._selectedDates=i}return this.isInRangeMode()&&this.selecteds()&&(i=this.selecteds().map(n=>{if(this.dateTimeAdapter.isValid(n))return(this.dateTimeAdapter.differenceInCalendarDays(n,this.firstDateOfMonth())??0)+1})),this._selectedDates=i}),this._firstRowOffset=0,this.firstRowOffset=d(()=>{let i=this._daysData()?.firstRowOffset;return i!=null?this._firstRowOffset=i:this._firstRowOffset}),this.selectedChange=_(),this.userSelection=_(),this.pickerMomentChange=_(),this.calendarBodyElm=ie(X)}selectCalendarCell(e){!e.enabled||this.hideOtherMonths()&&e.out||this.selectDate(e.value)}selectDate(e){let t=e-1,i=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth(),t);this.selectedChange.emit(i),this.userSelection.emit(void 0)}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),-7),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),7),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),1-this.dateTimeAdapter.getDate(this.pickerMoment())),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment(),this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment())-this.dateTimeAdapter.getDate(this.pickerMoment())),this.pickerMomentChange.emit(t);break;case"pageup":t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-1),this.pickerMomentChange.emit(t);break;case"pagedown":t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),1),this.pickerMomentChange.emit(t);break;case"enter":(!this.dateTimeFilter()||this.dateTimeFilter()(this.pickerMoment(),"date"))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment()));break;default:return}this.focusActiveCell(),e.preventDefault()}createDateCell(e,t){let i=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment()),r=this.dateTimeAdapter.getDate(e).toString(),o=this.dateTimeAdapter.format(e,this.dateTimeFormats.dateA11yLabel),c=this.isDateEnabled(e),f=t+1,C=f<1||f>i,z="nxt-dt-day-"+this.dateTimeAdapter.getDay(e);return new De(f,r,o,c,C,z)}isDateEnabled(e){return!!e&&(!this.dateTimeFilter()||this.dateTimeFilter()(e,"date"))&&(!this.min()||this.dateTimeAdapter.compare(e,this.min())>=0)&&(!this.max()||this.dateTimeAdapter.compare(e,this.max())<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}isSameMonth(e,t){return!!(e&&t&&this.dateTimeAdapter.isValid(e)&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t))}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||s)(u(H),u(oe))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time-month-view"]],viewQuery:function(t,i){t&1&&se(i.calendarBodyElm,X,5),t&2&&ae()},hostVars:2,hostBindings:function(t,i){t&2&&x("nxt-dt-calendar-view",!0)},inputs:{hideOtherMonths:[1,"hideOtherMonths"],firstDayOfWeek:[1,"firstDayOfWeek"],selectMode:[1,"selectMode"],selected:[1,"selected"],selecteds:[1,"selecteds"],pickerMoment:[1,"pickerMoment"],dateTimeFilter:[1,"dateTimeFilter"],min:[1,"min"],max:[1,"max"]},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},decls:8,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-month-table"],[1,"nxt-dt-calendar-header"],[1,"nxt-dt-weekdays"],["scope","col",1,"nxt-dt-weekday"],["aria-hidden","true","colspan","7",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","todayValue","selectedValues","selectMode","activeCell"]],template:function(t,i){t&1&&(h(0,"table",0)(1,"thead",1)(2,"tr",2),Se(3,Oi,3,2,"th",3,Ni),b(),h(5,"tr"),G(6,"th",4),b()(),h(7,"tbody",5),y("keydown",function(r){return i.handleCalendarKeydown(r)})("select",function(r){return i.selectCalendarCell(r)}),b()()),t&2&&(x("nxt-dt-calendar-only-current-month",i.hideOtherMonths()),g(3),Ie(i.weekdays()),g(4),k("rows",i.days())("todayValue",i.todayDate())("selectedValues",i.selectedDates())("selectMode",i.selectMode())("activeCell",i.activeCell()??0))},dependencies:[X],encapsulation:2,changeDetection:0})}}return s})(),je=(()=>{class s{constructor(){this.upSecondLabel=m($localize`:@@nxt-pick-datetime.up-second:Add a second`),this.downSecondLabel=m($localize`:@@nxt-pick-datetime.down-second:Minus a second`),this.upMinuteLabel=m($localize`:@@nxt-pick-datetime.up-minute:Add a minute`),this.downMinuteLabel=m($localize`:@@nxt-pick-datetime.down-minute:Minus a minute`),this.upHourLabel=m($localize`:@@nxt-pick-datetime.up-hour:Add a hour`),this.downHourLabel=m($localize`:@@nxt-pick-datetime.down-hour:Minus a hour`),this.prevMonthLabel=m($localize`:@@nxt-pick-datetime.prev-month:Previous month`),this.nextMonthLabel=m($localize`:@@nxt-pick-datetime.next-month:Next month`),this.prevYearLabel=m($localize`:@@nxt-pick-datetime.prev-year:Previous year`),this.nextYearLabel=m($localize`:@@nxt-pick-datetime.next-year:Next year`),this.prevMultiYearLabel=m($localize`:@@nxt-pick-datetime.prev-multi-year:Previous 21 years`),this.nextMultiYearLabel=m($localize`:@@nxt-pick-datetime.next-multi-year:Next 21 years`),this.switchToMonthViewLabel=m($localize`:@@nxt-pick-datetime.switch-to-month:Change to month view`),this.switchToMultiYearViewLabel=m($localize`:@@nxt-pick-datetime.switch-to-year-month:Choose month and year`),this.cancelBtnLabel=m($localize`:@@nxt-pick-datetime.cancel:Cancel`),this.setBtnLabel=m($localize`:@@nxt-pick-datetime.set:Set`),this.rangeFromLabel=m($localize`:@@nxt-pick-datetime.from:From`),this.rangeToLabel=m($localize`:@@nxt-pick-datetime.to:To`),this.hour12AMLabel=m($localize`:@@nxt-pick-datetime.time-am:AM`),this.hour12PMLabel=m($localize`:@@nxt-pick-datetime.time-pm:PM`)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),w=3,S=7,Ri=(()=>{class s{constructor(e,t){this.pickerIntl=e,this.dateTimeAdapter=t,this.selectMode=l("single"),this.selected=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.selecteds=l([],{transform:i=>i.map(n=>(n=this.dateTimeAdapter.deserialize(n),this.getValidDate(n)))}),this._pickerMomentInput=l(void 0,{alias:"pickerMoment"}),this._pickerMoment=O({source:()=>this._pickerMomentInput(),computation:i=>i}),this.pickerMoment=d(()=>{let i=this.dateTimeAdapter.deserialize(this._pickerMoment());return this.getValidDate(i)||this.dateTimeAdapter.now()}),this.dateTimeFilter=l(),this.min=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.max=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.yearsData=d(()=>{let i=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),n=[],r=this.dateTimeAdapter.getYear(this.pickerMoment()),o=r%(w*S);for(let c=0;c<S;c++){let f=[];for(let C=0;C<w;C++){let z=r-o+(C+c*w),$=this.createYearCell(z);f.push($)}n.push(f)}return{years:n,todayYear:i}}),this.years=d(()=>this.yearsData().years),this.todayYear=d(()=>this.yearsData().todayYear),this.isInSingleMode=d(()=>this.selectMode()==="single"),this.isInRangeMode=d(()=>this.selectMode()==="range"||this.selectMode()==="rangeFrom"||this.selectMode()==="rangeTo"),this.selectedYears=d(()=>{let i=new Array;return this.isInSingleMode()&&this.selected()&&(i[0]=this.dateTimeAdapter.getYear(this.selected())),this.isInRangeMode()&&this.selecteds()&&(i=this.selecteds().map(n=>{if(this.dateTimeAdapter.isValid(n))return this.dateTimeAdapter.getYear(n)})),i}),this.activeCell=d(()=>{if(this.pickerMoment())return this.dateTimeAdapter.getYear(this.pickerMoment())%(w*S)}),this.tableHeader=d(()=>{let i=this.years();if(i&&i.length>0)return`${i[0][0].displayValue} ~ ${i[S-1][w-1].displayValue}`}),this.prevButtonLabel=this.pickerIntl.prevMultiYearLabel.asReadonly(),this.nextButtonLabel=this.pickerIntl.nextMultiYearLabel.asReadonly(),this.change=_(),this.yearSelected=_(),this.pickerMomentChange=_(),this.keyboardEnter=_(),this.calendarBodyElm=ie(X)}selectCalendarCell(e){this.selectYear(e.value)}selectYear(e){this.yearSelected.emit(this.dateTimeAdapter.createDate(e,0,1));let t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment()),1),i=this.dateTimeAdapter.getNumDaysInMonth(t),n=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment()),Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment())),this.dateTimeAdapter.getHours(this.pickerMoment()),this.dateTimeAdapter.getMinutes(this.pickerMoment()),this.dateTimeAdapter.getSeconds(this.pickerMoment()));this.change.emit(n)}prevYearList(e){this._pickerMoment.set(this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1*S*w)),e.preventDefault()}nextYearList(e){this._pickerMoment.set(this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),S*w)),e.preventDefault()}previousEnabled(){return this.min()?!this.min()||!this.isSameYearList(this.pickerMoment(),this.min()):!0}nextEnabled(){return!this.max()||!this.isSameYearList(this.pickerMoment(),this.max())}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1*w),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),w),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-this.dateTimeAdapter.getYear(this.pickerMoment())%(w*S)),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),w*S-this.dateTimeAdapter.getYear(this.pickerMoment())%(w*S)-1),this.pickerMomentChange.emit(t);break;case"pageup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),e.altKey?-10*(w*S):-1*(w*S)),this.pickerMomentChange.emit(t);break;case"pagedown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),e.altKey?10*(w*S):w*S),this.pickerMomentChange.emit(t);break;case"enter":this.selectYear(this.dateTimeAdapter.getYear(this.pickerMoment())),this.keyboardEnter.emit(void 0);break;default:return}this.focusActiveCell(),e.preventDefault()}createYearCell(e){let t=this.dateTimeAdapter.createDate(e,0,1),i=this.dateTimeAdapter.getYearName(t),n="nxt-dt-year-"+e;return new De(e,e.toString(),i,this.isYearEnabled(e),!1,n)}isYearEnabled(e){if(!this.dateTimeFilter())return!0;let t=this.dateTimeAdapter.createDate(e,0,1);for(let i=t;this.dateTimeAdapter.getYear(i)==e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(this.dateTimeFilter()(i,"year"))return!0;return!1}isSameYearList(e,t){return Math.floor(this.dateTimeAdapter.getYear(e)/(w*S))===Math.floor(this.dateTimeAdapter.getYear(t)/(w*S))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||s)(u(je),u(H))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time-multi-year-view"]],viewQuery:function(t,i){t&1&&se(i.calendarBodyElm,X,5),t&2&&ae()},hostVars:4,hostBindings:function(t,i){t&2&&x("nxt-dt-calendar-view",!0)("nxt-dt-calendar-multi-year-view",!0)},inputs:{selectMode:[1,"selectMode"],selected:[1,"selected"],selecteds:[1,"selecteds"],_pickerMomentInput:[1,"pickerMoment","_pickerMomentInput"],dateTimeFilter:[1,"dateTimeFilter"],min:[1,"min"],max:[1,"max"]},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:14,vars:12,consts:[["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-table","nxt-dt-calendar-multi-year-table"],[1,"nxt-dt-calendar-header"],["colspan","3"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(t,i){t&1&&(h(0,"button",0),y("click",function(r){return i.prevYearList(r)}),h(1,"span",1),Q(),h(2,"svg",2),G(3,"path",3),b()()(),le(),h(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),N(8),b()()(),h(9,"tbody",7),y("keydown",function(r){return i.handleCalendarKeydown(r)})("select",function(r){return i.selectCalendarCell(r)}),b()(),h(10,"button",0),y("click",function(r){return i.nextYearList(r)}),h(11,"span",1),Q(),h(12,"svg",8),G(13,"path",9),b()()()),t&2&&(k("disabled",!i.previousEnabled()),A("aria-label",i.prevButtonLabel()),g(8),ue(i.tableHeader()),g(),k("rows",i.years())("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell()??0)("todayValue",i.todayYear())("selectedValues",i.selectedYears())("selectMode",i.selectMode()),g(),k("disabled",!i.nextEnabled()),A("aria-label",i.nextButtonLabel()))},dependencies:[X],encapsulation:2,changeDetection:0})}}return s})(),Bi=12,dt=3,Pi=(()=>{class s{constructor(e,t){this.dateTimeAdapter=e,this.dateTimeFormats=t,this.selectMode=l("single"),this.selected=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.selecteds=l([],{transform:i=>i.map(n=>(n=this.dateTimeAdapter.deserialize(n),this.getValidDate(n)))}),this.pickerMoment=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i)||this.dateTimeAdapter.now())}),this.dateTimeFilter=l(),this.min=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.max=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.monthNames=this.dateTimeAdapter.getMonthNames("short"),this.monthsData=d(()=>{if(!this.pickerMoment())return;let i=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),n=[];for(let r=0;r<Bi/dt;r++){let o=[];for(let c=0;c<dt;c++){let f=c+r*dt,C=this.createMonthCell(f);o.push(C)}n.push(o)}return{months:n,todayMonth:i}}),this.months=d(()=>{let i=this.monthsData()?.months;return i!=null?this._months=i:this._months}),this.activeCell=d(()=>{if(this.pickerMoment())return this.dateTimeAdapter.getMonth(this.pickerMoment())}),this.isInSingleMode=d(()=>this.selectMode()==="single"),this.isInRangeMode=d(()=>this.selectMode()==="range"||this.selectMode()==="rangeFrom"||this.selectMode()==="rangeTo"),this.todayMonth=d(()=>{let i=this.monthsData()?.todayMonth;return i!=null?this._todayMonth=i:this._todayMonth}),this.selectedMonths=d(()=>{let i=[];return this.isInSingleMode()&&this.selected()&&(i[0]=this.getMonthInCurrentYear(this.selected())),this.isInRangeMode()&&this.selecteds()&&(i[0]=this.getMonthInCurrentYear(this.selecteds()[0]),i[1]=this.getMonthInCurrentYear(this.selecteds()[1])),i}),this.change=_(),this.monthSelected=_(),this.pickerMomentChange=_(),this.keyboardEnter=_(),this.calendarBodyElm=ie(X)}selectCalendarCell(e){this.selectMonth(e.value)}selectMonth(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment()),e,1);this.monthSelected.emit(t);let i=this.dateTimeAdapter.getNumDaysInMonth(t),n=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment()),e,Math.min(i,this.dateTimeAdapter.getDate(this.pickerMoment())),this.dateTimeAdapter.getHours(this.pickerMoment()),this.dateTimeAdapter.getMinutes(this.pickerMoment()),this.dateTimeAdapter.getSeconds(this.pickerMoment()));this.change.emit(n)}handleCalendarKeydown(e){let t;switch(e.code.toLowerCase()){case"arrowleft":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-1),this.pickerMomentChange.emit(t);break;case"arrowright":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),1),this.pickerMomentChange.emit(t);break;case"arrowup":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-3),this.pickerMomentChange.emit(t);break;case"arrowdown":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),3),this.pickerMomentChange.emit(t);break;case"home":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-this.dateTimeAdapter.getMonth(this.pickerMoment())),this.pickerMomentChange.emit(t);break;case"end":t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),11-this.dateTimeAdapter.getMonth(this.pickerMoment())),this.pickerMomentChange.emit(t);break;case"pageup":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),e.altKey?-10:-1),this.pickerMomentChange.emit(t);break;case"pagedown":t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),e.altKey?10:1),this.pickerMomentChange.emit(t);break;case"enter":this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment())),this.keyboardEnter.emit(void 0);break;default:return}this.focusActiveCell(),e.preventDefault()}createMonthCell(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment()),e,1),i=this.dateTimeAdapter.format(t,this.dateTimeFormats.monthYearA11yLabel),n="nxt-dt-month-"+e;return new De(e,this.monthNames[e],i,this.isMonthEnabled(e),!1,n)}isMonthEnabled(e){let t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment()),e,1);for(let i=t;this.dateTimeAdapter.getMonth(i)===e;i=this.dateTimeAdapter.addCalendarDays(i,1))if(i&&(!this.dateTimeFilter()||this.dateTimeFilter()(i,"month"))&&(!this.min()||this.dateTimeAdapter.compare(i,this.min())>=0)&&(!this.max()||this.dateTimeAdapter.compare(i,this.max())<=0))return!0;return!1}getMonthInCurrentYear(e){if(this.getValidDate(e)&&this.getValidDate(this.pickerMoment())){let t=this.dateTimeAdapter.compareYear(e,this.pickerMoment());return t<0?-1:t>0?12:this.dateTimeAdapter.getMonth(e)}}hasSameYear(e,t){return!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm()?.focusActiveCell()}static{this.\u0275fac=function(t){return new(t||s)(u(H),u(oe))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time-year-view"]],viewQuery:function(t,i){t&1&&se(i.calendarBodyElm,X,5),t&2&&ae()},hostVars:2,hostBindings:function(t,i){t&2&&x("nxt-dt-calendar-view",!0)},inputs:{selectMode:[1,"selectMode"],selected:[1,"selected"],selecteds:[1,"selecteds"],pickerMoment:[1,"pickerMoment"],dateTimeFilter:[1,"dateTimeFilter"],min:[1,"min"],max:[1,"max"]},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:5,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-year-table"],[1,"nxt-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"keydown","select","rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode"]],template:function(t,i){t&1&&(h(0,"table",0)(1,"thead",1)(2,"tr"),G(3,"th",2),b()(),h(4,"tbody",3),y("keydown",function(r){return i.handleCalendarKeydown(r)})("select",function(r){return i.selectCalendarCell(r)}),b()()),t&2&&(g(4),k("rows",i.months())("numCols",3)("cellRatio",3/7)("activeCell",i.activeCell()??0)("todayValue",i.todayMonth())("selectedValues",i.selectedMonths())("selectMode",i.selectMode()))},dependencies:[X],encapsulation:2,changeDetection:0})}}return s})();function Yi(s,a){if(s&1){let e=Y();h(0,"nxt-date-time-month-view",15),y("pickerMomentChange",function(i){v(e);let n=p();return T(n.handlePickerMomentChange(i))})("selectedChange",function(i){v(e);let n=p();return T(n.dateSelected(i))})("userSelection",function(){v(e);let i=p();return T(i.userSelected())}),b()}if(s&2){let e=p();k("pickerMoment",e.pickerMoment())("firstDayOfWeek",e.firstDayOfWeek())("selected",e.selected())("selecteds",e.selecteds())("selectMode",e.selectMode()??"single")("min",e.min())("max",e.max())("dateTimeFilter",e.dateTimeFilter())("hideOtherMonths",e.hideOtherMonths())}}function Hi(s,a){if(s&1){let e=Y();h(0,"nxt-date-time-year-view",16),y("keyboardEnter",function(){v(e);let i=p();return T(i.focusActiveCell())})("pickerMomentChange",function(i){v(e);let n=p();return T(n.handlePickerMomentChange(i))})("monthSelected",function(i){v(e);let n=p();return T(n.selectMonthInYearView(i))})("change",function(i){v(e);let n=p();return T(n.goToDateInView(i,"month"))}),b()}if(s&2){let e=p();k("pickerMoment",e.pickerMoment())("selected",e.selected())("selecteds",e.selecteds())("selectMode",e.selectMode()??"single")("min",e.min())("max",e.max())("dateTimeFilter",e.dateTimeFilter())}}function ji(s,a){if(s&1){let e=Y();h(0,"nxt-date-time-multi-year-view",17),y("keyboardEnter",function(){v(e);let i=p();return T(i.focusActiveCell())})("pickerMomentChange",function(i){v(e);let n=p();return T(n.handlePickerMomentChange(i))})("yearSelected",function(i){v(e);let n=p();return T(n.selectYearInMultiYearView(i))})("change",function(i){v(e);let n=p();return T(n.goToDateInView(i,"year"))}),b()}if(s&2){let e=p();k("pickerMoment",e.pickerMoment())("selected",e.selected())("selecteds",e.selecteds())("selectMode",e.selectMode()??"single")("min",e.min())("max",e.max())("dateTimeFilter",e.dateTimeFilter())}}var lt=(()=>{class s{constructor(e,t,i,n,r){this.elmRef=e,this.pickerIntl=t,this.ngZone=i,this.dateTimeAdapter=n,this.dateTimeFormats=r,this.dateTimeFilter=l(),this.firstDayOfWeek=l(0),this.min=l(void 0,{transform:o=>(o=this.dateTimeAdapter.deserialize(o),o=this.getValidDate(o),o?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(o),this.dateTimeAdapter.getMonth(o),this.dateTimeAdapter.getDate(o)):void 0)}),this.max=l(void 0,{transform:o=>(o=this.dateTimeAdapter.deserialize(o),o=this.getValidDate(o),o?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(o),this.dateTimeAdapter.getMonth(o),this.dateTimeAdapter.getDate(o)):void 0)}),this._pickerMomentInput=l(void 0,{alias:"pickerMoment"}),this._pickerMoment=O({source:()=>this._pickerMomentInput(),computation:o=>o}),this.pickerMoment=d(()=>{let o=this.dateTimeAdapter.deserialize(this._pickerMoment());return this.getValidDate(o)||this.dateTimeAdapter.now()}),this.selectMode=l(),this.selected=l(void 0,{transform:o=>(o=this.dateTimeAdapter.deserialize(o),this.getValidDate(o))}),this.selecteds=l([],{transform:o=>o.map(c=>(c=this.dateTimeAdapter.deserialize(c),this.getValidDate(c)))}),this.startView=l("month"),this.hideOtherMonths=l(!1),this.pickerMomentChange=_(),this.selectedChange=_(),this.userSelection=_(),this.yearSelected=_(),this.monthSelected=_(),this.periodButtonText=d(()=>this.isMonthView()?this.dateTimeAdapter.format(this.pickerMoment(),this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment())),this.periodButtonLabel=d(()=>this.isMonthView()?this.pickerIntl.switchToMultiYearViewLabel():this.pickerIntl.switchToMonthViewLabel()),this.prevButtonLabel=d(()=>{let o=this.currentView();if(o==="month")return this.pickerIntl.prevMonthLabel();if(o==="year")return this.pickerIntl.prevYearLabel()}),this.nextButtonLabel=d(()=>{let o=this.currentView();if(o==="month")return this.pickerIntl.nextMonthLabel();if(o==="year")return this.pickerIntl.nextYearLabel()}),this.currentView=O({source:()=>this.startView(),computation:o=>o}),this.isInSingleMode=d(()=>this.selectMode()==="single"),this.isInRangeMode=d(()=>{let o=this.selectMode();return o==="range"||o==="rangeFrom"||o==="rangeTo"}),this.showControlArrows=d(()=>this.currentView()!=="multi-years"),this.isMonthView=d(()=>this.currentView()==="month"),this.dateTimeFilterForViews=o=>{let c=this.dateTimeFilter();return!!o&&(!c||c(o,"date"))&&(!this.min()||this.dateTimeAdapter.compare(o,this.min())>=0)&&(!this.max()||this.dateTimeAdapter.compare(o,this.max())<=0)},Ft(()=>{this.currentView(),this.ngZone.runOutsideAngular(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}toggleViews(){this.currentView.set(this.currentView()=="month"?"multi-years":"month")}previousClicked(){let e=this.isMonthView()?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),-1);this._pickerMoment.set(e),this.pickerMomentChange.emit(e)}nextClicked(){let e=this.isMonthView()?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment(),1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment(),1);this._pickerMoment.set(e),this.pickerMomentChange.emit(e)}dateSelected(e){this.dateTimeFilterForViews(e)&&this.selectedChange.emit(e)}goToDateInView(e,t){this.handlePickerMomentChange(e),this.currentView.set(t)}handlePickerMomentChange(e){let t=this.dateTimeAdapter.clampDate(e,this.min(),this.max());this._pickerMoment.set(t),this.pickerMomentChange.emit(t)}userSelected(){this.userSelection.emit(void 0)}prevButtonEnabled(){return!this.min()||!this.isSameView(this.pickerMoment(),this.min())}nextButtonEnabled(){return!this.max||!this.isSameView(this.pickerMoment(),this.max())}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(K(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}selectYearInMultiYearView(e){this.yearSelected.emit(e)}selectMonthInYearView(e){this.monthSelected.emit(e)}isSameView(e,t){return this.currentView()==="month"?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t)):this.currentView()==="year"?!!(e&&t&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)):!1}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||s)(u(j),u(je),u(B),u(H),u(oe))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time-calendar"]],hostVars:2,hostBindings:function(t,i){t&2&&x("nxt-dt-calendar",!0)},inputs:{dateTimeFilter:[1,"dateTimeFilter"],firstDayOfWeek:[1,"firstDayOfWeek"],min:[1,"min"],max:[1,"max"],_pickerMomentInput:[1,"pickerMoment","_pickerMomentInput"],selectMode:[1,"selectMode"],selected:[1,"selected"],selecteds:[1,"selecteds"],startView:[1,"startView"],hideOtherMonths:[1,"hideOtherMonths"]},outputs:{pickerMomentChange:"pickerMomentChange",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},decls:21,vars:13,consts:[[1,"nxt-dt-calendar-control"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-control-content"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-period-button",3,"click"],[1,"nxt-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d",`M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424
                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428
                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z`],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d",`M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0
                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545
                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681
                    C197.237,120.447,195.534,115.448,191.75,111.689z`,2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"nxt-dt-calendar-main"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateTimeFilter","hideOtherMonths"],[3,"pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"],[3,"pickerMomentChange","selectedChange","userSelection","pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateTimeFilter","hideOtherMonths"],[3,"keyboardEnter","pickerMomentChange","monthSelected","change","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"],[3,"keyboardEnter","pickerMomentChange","yearSelected","change","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter"]],template:function(t,i){if(t&1&&(h(0,"div",0)(1,"button",1),y("click",function(){return i.previousClicked()}),h(2,"span",2),Q(),h(3,"svg",3),G(4,"path",4),b()()(),le(),h(5,"div",5)(6,"button",6),y("click",function(){return i.toggleViews()}),h(7,"span",2),N(8),h(9,"span",7),Q(),h(10,"svg",8)(11,"g"),G(12,"path",9),b()()()()()(),le(),h(13,"button",1),y("click",function(){return i.nextClicked()}),h(14,"span",2),Q(),h(15,"svg",10),G(16,"path",11),b()()()(),le(),h(17,"div",12),U(18,Yi,1,9,"nxt-date-time-month-view",13)(19,Hi,1,7,"nxt-date-time-year-view",14)(20,ji,1,7,"nxt-date-time-multi-year-view",14),b()),t&2){let n;g(),be("visibility",i.showControlArrows()?"visible":"hidden"),k("disabled",!i.prevButtonEnabled()),A("aria-label",i.prevButtonLabel()),g(5),A("aria-label",i.periodButtonLabel()),g(2),te(" ",i.periodButtonText()," "),g(),be("transform","rotate("+(i.isMonthView()?0:180)+"deg)"),g(4),be("visibility",i.showControlArrows()?"visible":"hidden"),k("disabled",!i.nextButtonEnabled()),A("aria-label",i.nextButtonLabel()),g(5),Z((n=i.currentView())==="month"?18:n==="year"?19:n==="multi-years"?20:-1)}},dependencies:[it,Fi,Pi,Ri],encapsulation:2,changeDetection:0})}}return s})(),$i=0,hi=(()=>{class s{constructor(e,t){this.dateTimeAdapter=e,this.dateTimeFormats=t,this.showSecondsTimer=l(!1),this.hour12Timer=l(!1),this.startView=l("month"),this.stepHour=l(1),this.stepMinute=l(1),this.stepSecond=l(1),this.firstDayOfWeek=l(0),this.hideOtherMonths=l(!1),this.id=`nxt-dt-picker-${$i++}`,this.formatString=d(()=>this.pickerType()==="both"?this.dateTimeFormats.fullPickerInput:this.pickerType()==="calendar"?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput),this.dateTimeChecker=m(i=>!!i&&(!this.dateTimeFilter()||this.dateTimeFilter()(i))&&(!this.min()||this.dateTimeAdapter.compare(i,this.min())>=0)&&(!this.max()||this.dateTimeAdapter.compare(i,this.max())<=0))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||s)(u(H),u(oe))}}static{this.\u0275dir=ee({type:s,inputs:{showSecondsTimer:[1,"showSecondsTimer"],hour12Timer:[1,"hour12Timer"],startView:[1,"startView"],stepHour:[1,"stepHour"],stepMinute:[1,"stepMinute"],stepSecond:[1,"stepSecond"],firstDayOfWeek:[1,"firstDayOfWeek"],hideOtherMonths:[1,"hideOtherMonths"]}})}}return s})(),Wi=(()=>{class s{transform(e,t){if(e==null||!Number.isFinite(e))return;let i=Math.floor(e);return t==null||!Number.isFinite(t)?i:i.toFixed(0).padStart(Math.floor(t),"0")}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275pipe=wt({name:"numberFixedLen",type:s,pure:!0})}}return s})();function zi(s,a){s&1&&Ve(0,"div",1)}var Ki=(()=>{class s{constructor(){this.showDivider=l(!1),this.upBtnAriaLabel=l(),this.upBtnDisabled=l(!1),this.downBtnAriaLabel=l(),this.downBtnDisabled=l(!1),this.boxValue=l(),this.value=l(0),this.min=l(0),this.max=l(0),this.step=l(1),this.inputLabel=l(),this.valueChange=_(),this.inputChange=_(),this.inputStream=new E,this.displayValue=d(()=>this.boxValue()||this.value())}ngOnInit(){this.inputStreamSub=this.inputStream.pipe(ft(500),we()).subscribe(e=>{if(e){let t=qe(e,0);this.updateValueViaInput(t)}})}ngOnDestroy(){this.inputStreamSub?.unsubscribe(),this.inputStreamSub=void 0}upBtnClicked(){this.updateValue(this.value()+this.step())}downBtnClicked(){this.updateValue(this.value()-this.step())}handleInputChange(e){this.inputStream.next(e)}updateValue(e){this.valueChange.emit(e)}updateValueViaInput(e){e>this.max()||e<this.min()||this.inputChange.emit(e)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time-timer-box"]],hostVars:2,hostBindings:function(t,i){t&2&&x("nxt-dt-timer-box",!0)},inputs:{showDivider:[1,"showDivider"],upBtnAriaLabel:[1,"upBtnAriaLabel"],upBtnDisabled:[1,"upBtnDisabled"],downBtnAriaLabel:[1,"downBtnAriaLabel"],downBtnDisabled:[1,"downBtnDisabled"],boxValue:[1,"boxValue"],value:[1,"value"],min:[1,"min"],max:[1,"max"],step:[1,"step"],inputLabel:[1,"inputLabel"]},outputs:{valueChange:"valueChange",inputChange:"inputChange"},decls:15,vars:10,consts:[["valueInput",""],["aria-hidden","true",1,"nxt-dt-timer-divider"],["type","button","tabindex","-1",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"click","disabled"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d",`M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0
                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4
                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z`],[1,"nxt-dt-timer-content"],["maxlength","2",1,"nxt-dt-timer-input",3,"input","value"],[1,"nxt-hidden-accessible"],["d",`M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751
                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0
                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z`]],template:function(t,i){if(t&1){let n=Y();U(0,zi,1,0,"div",1),P(1,"button",2),_e("click",function(){return v(n),T(i.upBtnClicked())}),P(2,"span",3),Q(),P(3,"svg",4),Ve(4,"path",5),ne()()(),le(),P(5,"label",6)(6,"input",7,0),Ot(8,"numberFixedLen"),_e("input",function(){v(n);let o=Ee(7);return T(i.handleInputChange(o.value))}),ne(),P(9,"span",8),N(10),ne()(),P(11,"button",2),_e("click",function(){return v(n),T(i.downBtnClicked())}),P(12,"span",3),Q(),P(13,"svg",4),Ve(14,"path",9),ne()()()}t&2&&(Z(i.showDivider()?0:-1),g(),he("disabled",i.upBtnDisabled()),A("aria-label",i.upBtnAriaLabel()),g(5),he("value",Lt(8,7,i.displayValue(),2)),g(4),ue(i.inputLabel()),g(),he("disabled",i.downBtnDisabled()),A("aria-label",i.downBtnAriaLabel()))},dependencies:[Wi],encapsulation:2,changeDetection:0})}}return s})();function Ui(s,a){if(s&1){let e=Y();h(0,"nxt-date-time-timer-box",4),y("inputChange",function(i){v(e);let n=p();return T(n.setSecondValue(i))})("valueChange",function(i){v(e);let n=p();return T(n.setSecondValue(i))}),b()}if(s&2){let e=p();k("showDivider",!0)("upBtnAriaLabel",e.upSecondButtonLabel())("downBtnAriaLabel",e.downSecondButtonLabel())("upBtnDisabled",!e.upSecondEnabled())("downBtnDisabled",!e.downSecondEnabled())("value",e.secondValue())("min",0)("max",59)("step",e.stepSecond())}}function Zi(s,a){if(s&1){let e=Y();h(0,"div",3)(1,"button",5),y("click",function(i){v(e);let n=p();return T(n.setMeridiem(i))}),h(2,"span",6),N(3),b()()()}if(s&2){let e=p();g(3),te(" ",e.hour12ButtonLabel()," ")}}var ct=(()=>{class s{constructor(e,t,i,n){this.ngZone=e,this.elmRef=t,this.pickerIntl=i,this.dateTimeAdapter=n,this.pickerMoment=l(void 0,{transform:r=>(r=this.dateTimeAdapter.deserialize(r),this.getValidDate(r)||this.dateTimeAdapter.now())}),this.min=l(void 0,{transform:r=>(r=this.dateTimeAdapter.deserialize(r),this.getValidDate(r))}),this.max=l(void 0,{transform:r=>(r=this.dateTimeAdapter.deserialize(r),this.getValidDate(r))}),this.showSecondsTimer=l(!1),this.hour12Timer=l(!1),this.stepHour=l(1),this.stepMinute=l(1),this.stepSecond=l(1),this.hourValue=d(()=>this.dateTimeAdapter.getHours(this.pickerMoment())),this.hoursWithPM=d(()=>{let r=this.hourValue(),o;return this.hour12Timer()?(r===0?(r=12,o=!1):r>0&&r<12?o=!1:r===12?o=!0:r>12&&r<24&&(r=r-12,o=!0),{hours:r,isPM:o}):{hours:r,isPM:o}}),this._isPM=!1,this.isPM=O({source:()=>this.hoursWithPM().isPM,computation:r=>r!=null?this._isPM=r:this._isPM}),this.hourBoxValue=d(()=>this.hoursWithPM().hours),this.minuteValue=d(()=>this.dateTimeAdapter.getMinutes(this.pickerMoment())),this.secondValue=d(()=>this.dateTimeAdapter.getSeconds(this.pickerMoment())),this.upHourButtonLabel=this.pickerIntl.upHourLabel.asReadonly(),this.downHourButtonLabel=this.pickerIntl.downHourLabel.asReadonly(),this.upMinuteButtonLabel=this.pickerIntl.upMinuteLabel.asReadonly(),this.downMinuteButtonLabel=this.pickerIntl.downMinuteLabel.asReadonly(),this.upSecondButtonLabel=this.pickerIntl.upSecondLabel.asReadonly(),this.downSecondButtonLabel=this.pickerIntl.downSecondLabel.asReadonly(),this.hour12ButtonLabel=d(()=>this.isPM()?this.pickerIntl.hour12PMLabel():this.pickerIntl.hour12AMLabel()),this.selectedChange=_(),this.upHourEnabled=d(()=>!this.max()||this.compareHours(this.stepHour(),this.max())<1),this.downHourEnabled=d(()=>!this.min()||this.compareHours(-this.stepHour(),this.min())>-1),this.upMinuteEnabled=d(()=>!this.max()||this.compareMinutes(this.stepMinute(),this.max())<1),this.downMinuteEnabled=d(()=>!this.min()||this.compareMinutes(-this.stepMinute(),this.min())>-1),this.upSecondEnabled=d(()=>!this.max()||this.compareSeconds(this.stepSecond(),this.max())<1),this.downSecondEnabled=d(()=>!this.min()||this.compareSeconds(-this.stepSecond(),this.min())>-1)}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe(K(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(e){let t=this.hour12Timer();t&&this.isPM()&&e>=1&&e<=11?e=e+12:t&&!this.isPM()&&e===12&&(e=0),this.setHourValue(e)}setHourValue(e){let t=this.dateTimeAdapter.setHours(this.pickerMoment(),e);this.selectedChange.emit(t)}setMinuteValue(e){let t=this.dateTimeAdapter.setMinutes(this.pickerMoment(),e);this.selectedChange.emit(t)}setSecondValue(e){let t=this.dateTimeAdapter.setSeconds(this.pickerMoment(),e);this.selectedChange.emit(t)}setMeridiem(e){this.isPM.set(!this.isPM());let t=this.hourValue();this.isPM()?t=t+12:t=t-12,t>=0&&t<=23&&this.setHourValue(t),e.preventDefault()}compareHours(e,t){let i=this.dateTimeAdapter.getHours(this.pickerMoment())+e,n=this.dateTimeAdapter.setHours(this.pickerMoment(),i);return this.dateTimeAdapter.compare(n,t)}compareMinutes(e,t){let i=this.dateTimeAdapter.getMinutes(this.pickerMoment())+e,n=this.dateTimeAdapter.setMinutes(this.pickerMoment(),i);return this.dateTimeAdapter.compare(n,t)}compareSeconds(e,t){let i=this.dateTimeAdapter.getSeconds(this.pickerMoment())+e,n=this.dateTimeAdapter.setSeconds(this.pickerMoment(),i);return this.dateTimeAdapter.compare(n,t)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}static{this.\u0275fac=function(t){return new(t||s)(u(B),u(j),u(je),u(H))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time-timer"]],hostVars:3,hostBindings:function(t,i){t&2&&(A("tabindex",-1),x("nxt-dt-timer",!0))},inputs:{pickerMoment:[1,"pickerMoment"],min:[1,"min"],max:[1,"max"],showSecondsTimer:[1,"showSecondsTimer"],hour12Timer:[1,"hour12Timer"],stepHour:[1,"stepHour"],stepMinute:[1,"stepMinute"],stepSecond:[1,"stepSecond"]},outputs:{selectedChange:"selectedChange"},decls:4,vars:20,consts:[["inputLabel","Hour",3,"inputChange","valueChange","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step"],["inputLabel","Minute",3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],["inputLabel","Second",3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],[1,"nxt-dt-timer-hour12"],["inputLabel","Second",3,"inputChange","valueChange","showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step"],["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"nxt-dt-control-button-content"]],template:function(t,i){t&1&&(h(0,"nxt-date-time-timer-box",0),y("inputChange",function(r){return i.setHourValueViaInput(r)})("valueChange",function(r){return i.setHourValue(r)}),b(),h(1,"nxt-date-time-timer-box",1),y("inputChange",function(r){return i.setMinuteValue(r)})("valueChange",function(r){return i.setMinuteValue(r)}),b(),U(2,Ui,1,9,"nxt-date-time-timer-box",2),U(3,Zi,4,1,"div",3)),t&2&&(k("upBtnAriaLabel",i.upHourButtonLabel())("downBtnAriaLabel",i.downHourButtonLabel())("upBtnDisabled",!i.upHourEnabled())("downBtnDisabled",!i.downHourEnabled())("boxValue",i.hourBoxValue())("value",i.hourValue())("min",0)("max",23)("step",i.stepHour()),g(),k("showDivider",!0)("upBtnAriaLabel",i.upMinuteButtonLabel())("downBtnAriaLabel",i.downMinuteButtonLabel())("upBtnDisabled",!i.upMinuteEnabled())("downBtnDisabled",!i.downMinuteEnabled())("value",i.minuteValue())("min",0)("max",59)("step",i.stepMinute()),g(),Z(i.showSecondsTimer()?2:-1),g(),Z(i.hour12Timer()?3:-1))},dependencies:[Ki],encapsulation:2,changeDetection:0})}}return s})(),li={transformPicker:Oe("transformPicker",[Me("void",L({opacity:0,transform:"scale(1, 0)"})),Me("enter",L({opacity:1,transform:"scale(1, 1)"})),me("void => enter",Bt([Yt("@fadeInPicker",Le(),{optional:!0}),re("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),me("enter => void",re("100ms linear",L({opacity:0})))]),fadeInPicker:Oe("fadeInPicker",[Me("enter",L({opacity:1})),Me("void",L({opacity:0})),me("void => enter",re("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Gi=()=>[];function Xi(s,a){if(s&1){let e=Y();h(0,"nxt-date-time-calendar",7),It("pickerMomentChange",function(i){v(e);let n=p();return St(n.pickerMoment,i)||(n.pickerMoment=i),T(i)}),y("yearSelected",function(i){let n;v(e);let r=p();return T((n=r.picker())==null?null:n.selectYear(i))})("monthSelected",function(i){let n;v(e);let r=p();return T((n=r.picker())==null?null:n.selectMonth(i))})("selectedChange",function(i){v(e);let n=p();return T(n.dateSelected(i))}),b()}if(s&2){let e=p();k("firstDayOfWeek",e.firstDayOfWeek()??0),xt("pickerMoment",e.pickerMoment),k("selected",e.selected())("selecteds",e.selecteds()??Et(10,Gi))("selectMode",e.selectMode())("min",e.min())("max",e.max())("dateTimeFilter",e.dateTimeFilter())("startView",e.startView()??"month")("hideOtherMonths",!!e.hideOtherMonths())}}function qi(s,a){if(s&1){let e=Y();h(0,"nxt-date-time-timer",8),y("selectedChange",function(i){v(e);let n=p();return T(n.timeSelected(i))}),b()}if(s&2){let e=p();k("pickerMoment",e.pickerMoment)("min",e.min())("max",e.max())("showSecondsTimer",!!e.showSecondsTimer())("hour12Timer",!!e.hour12Timer())("stepHour",e.stepHour()??1)("stepMinute",e.stepMinute()??1)("stepSecond",e.stepSecond()??1)}}function Qi(s,a){if(s&1){let e=Y();h(0,"div",5)(1,"div",9,0),y("click",function(i){v(e);let n=p();return T(n.handleClickOnInfoGroup(i,0))})("keydown",function(i){v(e);let n=Ee(9),r=p();return T(r.handleKeydownOnInfoGroup(i,n,0))}),h(3,"span",10)(4,"span",11),N(5),b(),h(6,"span",12),N(7),b()()(),h(8,"div",13,1),y("click",function(i){v(e);let n=p();return T(n.handleClickOnInfoGroup(i,1))})("keydown",function(i){v(e);let n=Ee(2),r=p();return T(r.handleKeydownOnInfoGroup(i,n,1))}),h(10,"span",10)(11,"span",11),N(12),b(),h(13,"span",12),N(14),b()()()()}if(s&2){let e=p();g(),x("nxt-dt-container-info-active",e.activeSelectedIndex()===0),k("tabindex",e.activeSelectedIndex()===0?0:-1),A("aria-checked",e.activeSelectedIndex()===0),g(4),te("",e.fromLabel(),":"),g(2),ue(e.fromFormattedValue()),g(),x("nxt-dt-container-info-active",e.activeSelectedIndex()===1),k("tabindex",e.activeSelectedIndex()===1?0:-1),A("aria-checked",e.activeSelectedIndex()===1),g(4),te("",e.toLabel(),":"),g(2),ue(e.toFormattedValue())}}function Ji(s,a){if(s&1){let e=Y();h(0,"div",6)(1,"button",14),y("click",function(i){v(e);let n=p();return T(n.onCancelClicked(i))}),h(2,"span",15),N(3),b()(),h(4,"button",14),y("click",function(i){v(e);let n=p();return T(n.onSetClicked(i))}),h(5,"span",15),N(6),b()()()}if(s&2){let e=p();g(3),te(" ",e.cancelLabel()," "),g(3),te(" ",e.setLabel()," ")}}var ye=(()=>{class s{get pickerMoment(){return this._clamPickerMoment()}set pickerMoment(e){e&&this._clamPickerMoment.set(this.dateTimeAdapter.clampDate(e,this.min(),this.max()))}get containerElm(){return this.elmRef.nativeElement}constructor(e,t,i){this.elmRef=e,this.pickerIntl=t,this.dateTimeAdapter=i,this.calendar=ie(lt),this.timer=ie(ct),this.picker=m(void 0),this.activeSelectedIndex=m(0),this.hidePicker$=new E,this.hidePickerStream=this.hidePicker$.asObservable(),this.confirmSelected$=new E,this.confirmSelectedStream=this.confirmSelected$.asObservable(),this.pickerOpened$=new E,this.pickerOpenedStream=this.pickerOpened$.asObservable(),this._clamPickerMoment=m(void 0),this.pickerType=d(()=>this.picker()?.pickerType()),this.pickerMode=d(()=>this.picker()?.pickerMode()),this.min=d(()=>this.picker()?.min()),this.max=d(()=>this.picker()?.max()),this.selected=d(()=>this.picker()?.selected()),this.selecteds=d(()=>this.picker()?.selecteds()),this.selectMode=d(()=>this.picker()?.selectMode()),this.isInRangeMode=d(()=>this.picker()?.isInRangeMode()),this.firstDayOfWeek=d(()=>this.picker()?.firstDayOfWeek()),this.dateTimeFilter=d(()=>this.picker()?.dateTimeFilter()),this.startView=d(()=>this.picker()?.startView()),this.hideOtherMonths=d(()=>this.picker()?.hideOtherMonths()),this.showSecondsTimer=d(()=>this.picker()?.showSecondsTimer()),this.hour12Timer=d(()=>this.picker()?.hour12Timer()),this.stepHour=d(()=>this.picker()?.stepHour()),this.stepMinute=d(()=>this.picker()?.stepMinute()),this.stepSecond=d(()=>this.picker()?.stepSecond()),this.disabled=d(()=>this.picker()?.disabled()),this.formatString=d(()=>this.picker()?.formatString()),this.startAt=d(()=>this.picker()?.startAt()),this.dateTimeChecker=d(()=>this.picker()?.dateTimeChecker()),this.cancelLabel=this.pickerIntl.cancelBtnLabel.asReadonly(),this.setLabel=this.pickerIntl.setBtnLabel.asReadonly(),this.fromLabel=this.pickerIntl.rangeFromLabel.asReadonly(),this.toLabel=this.pickerIntl.rangeToLabel.asReadonly(),this.fromFormattedValue=d(()=>{let n=this.selecteds()?.[0];return n?this.dateTimeAdapter.format(n,this.formatString()):""}),this.toFormattedValue=d(()=>{let n=this.selecteds()?.[1];return n?this.dateTimeAdapter.format(n,this.formatString()):""}),this.showControlButtons=d(()=>{let n=this.pickerMode(),r=this.pickerType();return n==="dialog"||r!=="calendar"&&n!=="inline"})}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationDone(e){e.toState==="enter"&&this.pickerOpened$.next()}dateSelected(e){let t,i=this.picker();if(i?.isInSingleMode()){t=this.dateSelectedInSingleMode(e),t?(this.pickerMoment=t,i.select(t)):this.pickerType()==="calendar"&&this.hidePicker$.next();return}i?.isInRangeMode()&&(t=this.dateSelectedInRangeMode(e),t&&(this.pickerMoment=t[this.activeSelectedIndex()],i.select(t)))}timeSelected(e){this.pickerMoment=this.dateTimeAdapter.clone(e);let t=this.picker();if(t?.dateTimeChecker()?.(this.pickerMoment)){if(t.isInSingleMode()){t.select(this.pickerMoment);return}if(this.isInRangeMode()){let i=[...this.selecteds()||[]];this.activeSelectedIndex()===0&&i[1]&&this.dateTimeAdapter.compare(this.pickerMoment,i[1])===1||this.activeSelectedIndex()===1&&i[0]&&this.dateTimeAdapter.compare(this.pickerMoment,i[0])===-1?(i[0]=this.pickerMoment,i[1]=this.pickerMoment):i[this.activeSelectedIndex()]=this.pickerMoment,t.select(i)}}}onCancelClicked(e){this.hidePicker$.next(),e.preventDefault()}onSetClicked(e){if(!this.dateTimeChecker()?.(this.pickerMoment)){this.hidePicker$.next(),e.preventDefault();return}this.confirmSelected$.next(e),e.preventDefault()}handleClickOnInfoGroup(e,t){this.setActiveSelectedIndex(t),e.preventDefault(),e.stopPropagation()}handleKeydownOnInfoGroup(e,t,i){switch(e.keyCode){case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":t.focus(),this.setActiveSelectedIndex(i===0?1:0),e.preventDefault(),e.stopPropagation();break;case"Space":this.setActiveSelectedIndex(i),e.preventDefault(),e.stopPropagation();break;default:return}}setActiveSelectedIndex(e){if(this.selectMode()==="range"&&this.activeSelectedIndex()!==e){this.activeSelectedIndex.set(e);let t=this.selecteds()?.[this.activeSelectedIndex()];this.selecteds()&&t&&(this.pickerMoment=this.dateTimeAdapter.clone(t))}}initPicker(){this.pickerMoment=this.startAt()||this.dateTimeAdapter.now(),this.activeSelectedIndex.set(this.selectMode()==="rangeTo"?1:0)}dateSelectedInSingleMode(e){if(!this.dateTimeAdapter.isSameDay(e,this.selected()))return this.updateAndCheckCalendarDate(e)}dateSelectedInRangeMode(e){let t=this.selecteds()?.[0],i=this.selecteds()?.[1],n=this.updateAndCheckCalendarDate(e);if(n)return this.selectMode()==="range"?this.selecteds()?.length&&!i&&t&&(this.dateTimeAdapter.differenceInCalendarDays(n,t)??0)>=0?(i=n,this.activeSelectedIndex.set(1)):(t=n,i=void 0,this.activeSelectedIndex.set(0)):this.selectMode()==="rangeFrom"?(t=n,i&&this.dateTimeAdapter.compare(t,i)>0&&(i=void 0)):this.selectMode()==="rangeTo"&&(i=n,t&&this.dateTimeAdapter.compare(t,i)>0&&(t=void 0)),[t,i]}updateAndCheckCalendarDate(e){let t;return this.pickerType()==="both"?(t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),t=this.dateTimeAdapter.clampDate(t,this.min(),this.max())):t=this.dateTimeAdapter.clone(e),this.dateTimeChecker()?.(t)?t:void 0}focusPicker(){if(this.pickerMode()==="inline")return;let e=this.calendar(),t=this.timer();e?e.focusActiveCell():t&&t.focus()}static{this.\u0275fac=function(t){return new(t||s)(u(j),u(je),u(H))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time-container"]],viewQuery:function(t,i){t&1&&se(i.calendar,lt,5)(i.timer,ct,5),t&2&&ae(2)},hostVars:12,hostBindings:function(t,i){if(t&1&&Ue("@transformPicker.done",function(r){return i.handleContainerAnimationDone(r)}),t&2){let n;Ke("@transformPicker",i.pickerMode()==="inline"?"":"enter"),A("id",(n=i.picker())==null?null:n.id),x("nxt-dt-container",!0)("nxt-dt-popup-container",i.pickerMode()==="popup")("nxt-dt-dialog-container",i.pickerMode()==="dialog")("nxt-dt-inline-container",i.pickerMode()==="inline")("nxt-dt-container-disabled",i.disabled())}},decls:5,vars:6,consts:[["from",""],["to",""],[1,"nxt-dt-container-inner",3,"cdkTrapFocus"],[1,"nxt-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter","startView","hideOtherMonths"],[1,"nxt-dt-container-row",3,"pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radiogroup",1,"nxt-dt-container-info","nxt-dt-container-row"],[1,"nxt-dt-container-buttons","nxt-dt-container-row"],[1,"nxt-dt-container-row",3,"pickerMomentChange","yearSelected","monthSelected","selectedChange","firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateTimeFilter","startView","hideOtherMonths"],[1,"nxt-dt-container-row",3,"selectedChange","pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-from",3,"click","keydown","tabindex"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-container-range-content"],[1,"nxt-dt-container-info-label"],[1,"nxt-dt-container-info-value"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-to",3,"click","keydown","tabindex"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-container-control-button",3,"click"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"]],template:function(t,i){t&1&&(h(0,"div",2),U(1,Xi,1,11,"nxt-date-time-calendar",3),U(2,qi,1,8,"nxt-date-time-timer",4),U(3,Qi,15,12,"div",5),U(4,Ji,7,2,"div",6),b()),t&2&&(k("cdkTrapFocus",i.pickerMode()!=="inline")("@fadeInPicker",i.pickerMode()==="inline"?"":"enter"),g(),Z(i.pickerType()==="both"||i.pickerType()==="calendar"?1:-1),g(),Z(i.pickerType()==="both"||i.pickerType()==="timer"?2:-1),g(),Z(i.isInRangeMode()?3:-1),g(),Z(i.showControlButtons()?4:-1))},dependencies:[st,lt,ct],encapsulation:2,data:{animation:[li.transformPicker,li.fadeInPicker]},changeDetection:0})}}return s})(),en={provide:Qe,useExisting:Ae(()=>tn),multi:!0},tn=(()=>{class s extends hi{constructor(e,t){super(e,t),this.container=ie(ye),this.pickerType=l("both"),this._disabled=l(!1,{alias:"disabled"}),this.disabled=O({source:()=>this._disabled(),computation:i=>i}),this.selectMode=l("single"),this._valueInput=l(void 0,{alias:"value"}),this._value=O({source:()=>this._valueInput(),computation:i=>i}),this.value=d(()=>{let i=this._value();return i=this.dateTimeAdapter.deserialize(i),i=this.getValidDate(i),i}),this._valuesInput=l(void 0,{alias:"values"}),this._values=O({source:()=>this._valuesInput(),computation:i=>i}),this.values=d(()=>{let i=this._values();return i&&i.length>0?(i=i.map(n=>(n=this.dateTimeAdapter.deserialize(n),n=this.getValidDate(n),n&&this.dateTimeAdapter.clone(n))),[...i]):[]}),this._startAt=l(void 0,{alias:"startAt",transform:i=>this.getValidDate(this.dateTimeAdapter.deserialize(i))}),this.startAt=d(()=>{let i=this._startAt();if(i)return i;let n=this.selectMode();return n==="single"?this.value():n==="range"||n==="rangeFrom"?this.values()?.[0]:n==="rangeTo"?this.values()?.[1]:void 0}),this.dateTimeFilter=l(),this.min=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.max=l(void 0,{transform:i=>(i=this.dateTimeAdapter.deserialize(i),this.getValidDate(i))}),this.yearSelected=_(),this.monthSelected=_(),this.selected=O({source:()=>this.value(),computation:i=>i}),this.selecteds=O({source:()=>this.values(),computation:i=>i||[]}),this.isOpen=m(!0).asReadonly(),this.pickerMode=m("inline").asReadonly(),this.isInSingleMode=d(()=>this.selectMode()==="single"),this.isInRangeMode=d(()=>this.selectMode()==="range"||this.selectMode()==="rangeFrom"||this.selectMode()==="rangeTo")}ngOnInit(){let e=this.container();e&&e.picker.set(this)}writeValue(e){if(e=e??void 0,this.isInSingleMode()){this._value.set(e);let t=this.container();t&&(t.pickerMoment=e)}else{this._values.set(e);let t=this.container();t&&(t.pickerMoment=this.values()?.[t.activeSelectedIndex()])}}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled.set(e)}select(e){this.disabled()||(Array.isArray(e)?this._values.set([...e]):this._value.set(e),this.onModelChange?.(e),this.onModelTouched?.())}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}static{this.\u0275fac=function(t){return new(t||s)(u(H),u(oe))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time-inline"]],viewQuery:function(t,i){t&1&&se(i.container,ye,5),t&2&&ae()},hostVars:2,hostBindings:function(t,i){t&2&&x("nxt-dt-inline",!0)},inputs:{pickerType:[1,"pickerType"],_disabled:[1,"disabled","_disabled"],selectMode:[1,"selectMode"],_valueInput:[1,"value","_valueInput"],_valuesInput:[1,"values","_valuesInput"],_startAt:[1,"startAt","_startAt"],dateTimeFilter:[1,"dateTimeFilter"],min:[1,"min"],max:[1,"max"]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected"},features:[Ge([en]),xe],decls:1,vars:0,template:function(t,i){t&1&&G(0,"nxt-date-time-container")},dependencies:[ye],encapsulation:2,changeDetection:0})}}return s})(),nn={provide:Qe,useExisting:Ae(()=>ui),multi:!0},sn={provide:zt,useExisting:Ae(()=>ui),multi:!0},ui=(()=>{class s{get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),this.lastValueValid.set(!e||!!this.dateTimeAdapter.isValid(e)),e=this.getValidDate(e);let t=this._value;this._value=e,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(t,e)||this.valueChange.emit(e)}get values(){return this._values}set values(e){e&&e.length>0?(this._values=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.lastValueValid.set((!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1])))):(this._values=[],this.lastValueValid.set(!0)),this.formatNativeInputValue(),this.valueChange.emit(this._values)}get elementRef(){return this.elmRef}constructor(e,t,i,n){this.elmRef=e,this.renderer=t,this.dateTimeAdapter=i,this.dateTimeFormats=n,this.dateTime=l(void 0,{alias:"nxtDateTime"}),this.dateTimeFilter=l(),this._disabled=l(!1,{alias:"disabled"}),this.disabled=O({source:()=>this._disabled(),computation:o=>o}),this.min=l(void 0,{transform:o=>this.getValidDate(this.dateTimeAdapter.deserialize(o))}),this.max=l(void 0,{transform:o=>this.getValidDate(this.dateTimeAdapter.deserialize(o))}),this.selectMode=l("single"),this.rangeSeparator=l("~"),this._values=[],this.dateTimeChange=_(),this.dateTimeInput=_(),this.isInSingleMode=d(()=>this.selectMode()==="single"),this.isInRangeMode=d(()=>{let o=this.selectMode();return o==="range"||o==="rangeFrom"||o==="rangeTo"}),this.dtPicker=m(void 0),this.lastValueValid=m(!0),this.parseValidator=()=>this.lastValueValid()?null:{dateTimeParse:{text:this.elmRef.nativeElement.value}},this.minValidator=o=>{let c=this.min();if(this.isInSingleMode()){let f=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!c||!f||this.dateTimeAdapter.compare(c,f)<=0?null:{dateTimeMin:{min:c,actual:f}}}else if(this.isInRangeMode()&&o.value){let f=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),C=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!c||!f||!C||this.dateTimeAdapter.compare(c,f)<=0?null:{dateTimeMin:{min:c,actual:[f,C]}}}return null},this.maxValidator=o=>{let c=this.max();if(this.isInSingleMode()){let f=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!c||!f||this.dateTimeAdapter.compare(c,f)>=0?null:{dateTimeMax:{max:c,actual:f}}}else if(this.isInRangeMode()&&o.value){let f=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),C=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!c||!f||!C||this.dateTimeAdapter.compare(c,C)>=0?null:{dateTimeMax:{max:c,actual:[f,C]}}}return null},this.filterValidator=o=>{let c=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.dateTimeFilter()||!c||this.dateTimeFilter()(c)?null:{dateTimeFilter:!0}},this.rangeValidator=o=>{if(this.isInSingleMode()||!o.value)return null;let c=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),f=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!c||!f||this.dateTimeAdapter.compare(c,f)<=0?null:{dateTimeRange:!0}},this.validator=Kt.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator]),this.valueChange=_(),this.disabledChange=_(),this.inputAriaOwns=d(()=>this.dtPicker()?.isOpen()&&this.dtPicker().id||void 0),this.minIso8601=d(()=>this.min()?this.dateTimeAdapter.toIso8601(this.min()):void 0),this.maxIso8601=d(()=>this.max()?this.dateTimeAdapter.toIso8601(this.max()):void 0);let r;ce(()=>{let o=this.dateTime();o&&r!==o&&(r=o,this.dtPicker.set(r),r.registerInput(this))})}ngOnInit(){if(!this.dtPicker)throw Error("DateTimePicker: the picker input doesn't have any associated nxt-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker()?.confirmSelectedChange.subscribe(e=>{Array.isArray(e)?this.values=e:this.value=e,this.onModelChange?.(e),this.onModelTouched?.(),this.dateTimeChange.emit({source:this,value:e,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:e,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub?.unsubscribe(),this.dtPickerSub=void 0}writeValue(e){e=e??void 0,this.isInSingleMode()?this.value=e:this.values=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled.set(e)}validate(e){return this.validator?this.validator(e):null}registerOnValidatorChange(e){this.validatorOnChange=e}handleKeydownOnHost(e){e.altKey&&e.code.toLowerCase()==="arrowdown"&&(this.dtPicker()?.open(),e.preventDefault())}handleBlurOnHost(e){this.onModelTouched?.()}handleInputOnHost(e){let t=e.target.value;this.selectMode()==="single"?this.changeInputInSingleMode(t):this.selectMode()==="range"?this.changeInputInRangeMode(t):this.changeInputInRangeFromToMode(t)}handleChangeOnHost(e){let t;this.isInSingleMode()?t=this.value:this.isInRangeMode()&&(t=this.values),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode())this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker()?.formatString()):"");else if(this.isInRangeMode())if(this._values&&this.values.length>0){let e=this._values[0],t=this._values[1],i=e?this.dateTimeAdapter.format(e,this.dtPicker()?.formatString()):"",n=t?this.dateTimeAdapter.format(t,this.dtPicker()?.formatString()):"";!i&&!n?this.renderer.setProperty(this.elmRef.nativeElement,"value",void 0):this.selectMode()==="range"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i+" "+this.rangeSeparator()+" "+n):this.selectMode()==="rangeFrom"?this.renderer.setProperty(this.elmRef.nativeElement,"value",i):this.selectMode()==="rangeTo"&&this.renderer.setProperty(this.elmRef.nativeElement,"value",n)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}convertTimeStringToDateTimeString(e,t){if(e){let i=t||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(i,this.dateTimeFormats.datePickerInput)+" "+e}}changeInputInSingleMode(e){let t=e;this.dtPicker()?.pickerType()==="timer"&&(t=this.convertTimeStringToDateTimeString(t,this.value));let i=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid.set(!i||this.dateTimeAdapter.isValid(i)),i=this.getValidDate(i),(!this.isSameValue(i,this._value)||i===void 0)&&(this._value=i,this.valueChange.emit(i),this.onModelChange?.(i),this.dateTimeInput.emit({source:this,value:i,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(e){let t=this.selectMode()==="rangeFrom"?this._values[0]:this._values[1];this.dtPicker()?.pickerType()==="timer"&&(e=this.convertTimeStringToDateTimeString(e,t));let i=this.dateTimeAdapter.parse(e,this.dateTimeFormats.parseInput);this.lastValueValid.set(!i||this.dateTimeAdapter.isValid(i)),i=this.getValidDate(i),!(this.selectMode()==="rangeFrom"&&this.isSameValue(i,this._values[0])&&i||this.selectMode()==="rangeTo"&&this.isSameValue(i,this._values[1])&&i)&&(this._values=this.selectMode()==="rangeFrom"?[i,this._values[1]]:[this._values[0],i],this.valueChange.emit(this._values),this.onModelChange?.(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(e){let t=e.split(this.rangeSeparator()),i=t[0],n=t[1];this.dtPicker()?.pickerType()==="timer"&&(i=this.convertTimeStringToDateTimeString(i,this.values[0]),n=this.convertTimeStringToDateTimeString(n,this.values[1]));let r=this.dateTimeAdapter.parse(i,this.dateTimeFormats.parseInput),o=this.dateTimeAdapter.parse(n,this.dateTimeFormats.parseInput);this.lastValueValid.set((!r||this.dateTimeAdapter.isValid(r))&&(!o||this.dateTimeAdapter.isValid(o))),r=this.getValidDate(r),o=this.getValidDate(o),(!this.isSameValue(r,this._values[0])||!this.isSameValue(o,this._values[1])||!r&&!o)&&(this._values=[r,o],this.valueChange.emit(this._values),this.onModelChange?.(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(e,t){return e&&t?this.dateTimeAdapter.compare(e,t)===0:e==t}static{this.\u0275fac=function(t){return new(t||s)(u(j),u(Dt),u(H),u(oe))}}static{this.\u0275dir=ee({type:s,selectors:[["input","nxtDateTime",""]],hostVars:5,hostBindings:function(t,i){t&1&&y("keydown",function(r){return i.handleKeydownOnHost(r)})("blur",function(r){return i.handleBlurOnHost(r)})("input",function(r){return i.handleInputOnHost(r)})("change",function(r){return i.handleChangeOnHost(r)}),t&2&&(he("disabled",i.disabled()),A("aria-haspopup",!0)("aria-owns",i.inputAriaOwns())("min",i.minIso8601())("max",i.maxIso8601()))},inputs:{dateTime:[1,"nxtDateTime","dateTime"],dateTimeFilter:[1,"dateTimeFilter"],_disabled:[1,"disabled","_disabled"],min:[1,"min"],max:[1,"max"],selectMode:[1,"selectMode"],rangeSeparator:[1,"rangeSeparator"],value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput",valueChange:"valueChange",disabledChange:"disabledChange"},exportAs:["nxtDateTimeInput"],features:[Ge([nn,sn])]})}}return s})(),Ns=(()=>{class s{constructor(e){this.changeDetector=e,this.dtPicker=l(void 0,{alias:"nxtDateTimeTrigger"}),this._disabled=l(void 0,{alias:"disabled"}),this.disabled=d(()=>this._disabled()??!!this.dtPicker()?.disabled())}handleClickOnHost(e){let t=this.dtPicker();t&&(t.open(),e.stopPropagation())}static{this.\u0275fac=function(t){return new(t||s)(u(Ne))}}static{this.\u0275dir=ee({type:s,selectors:[["","nxtDateTimeTrigger",""]],hostVars:2,hostBindings:function(t,i){t&1&&y("click",function(r){return i.handleClickOnHost(r)}),t&2&&x("nxt-dt-trigger-disabled",i.disabled())},inputs:{dtPicker:[1,"nxtDateTimeTrigger","dtPicker"],_disabled:[1,"disabled","_disabled"]}})}}return s})(),an=0,ht=class{constructor(){this.autoFocus=!0,this.hasBackdrop=!0,this.disableClose=!1,this.role="dialog",this.paneClass="",this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new Zt,this.id=`nxt-dialog-${an++}`}},He=class{constructor(a,e,t,i){this.overlayRef=a,this.container=e,this.id=t,this.isAnimating=this.container.isAnimating,this._beforeClose$=new E,this._afterOpen$=new E,this._afterClosed$=new E,this.disableClose=!!this.container.config()?.disableClose,Fe(this.container.animationStateChanged).pipe(de(n=>n.phaseName==="done"&&n.toState==="enter"),K(1)).subscribe(()=>{this._afterOpen$.next(void 0),this._afterOpen$.complete()}),Fe(this.container.animationStateChanged).pipe(de(n=>n.phaseName==="done"&&n.toState==="exit"),K(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged?.unsubscribe(),this.locationChanged=void 0,this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=void 0}),this.overlayRef.keydownEvents().pipe(de(n=>n.code.toLowerCase()==="escape"&&!this.disableClose)).subscribe(()=>this.close()),i&&(this.locationChanged=i.subscribe(()=>{this.container.config()?.closeOnNavigation&&this.close()}))}close(a){this.result=a,Fe(this.container.animationStateChanged).pipe(de(e=>e.phaseName==="start"),K(1)).subscribe(()=>{this._beforeClose$.next(a),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(a){let e=this.getPositionStrategy();return a&&(a.left||a.right)?a.left?e.left(a.left):e.right(a.right):e.centerHorizontally(),a&&(a.top||a.bottom)?a.top?e.top(a.top):e.bottom(a.bottom):e.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(a="auto",e="auto"){return this.overlayRef.updateSize({width:a,height:e}),this.overlayRef.updatePosition(),this}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}};function rn(s,...a){if(s==null||s==null)throw TypeError("Cannot convert undefined or null to object");for(let e of a)if(e!=null&&e!=null)for(let t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}function on(s,a){}var dn={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},ln={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"},ci=(()=>{class s extends Ut{constructor(e,t,i,n){super(),this.changeDetector=e,this.elementRef=t,this.focusTrapFactory=i,this.document=n,this.portalOutlet=ie(Be),this.focusTrap=m(void 0),this.ariaLabelledBy=m(void 0),this.animationStateChanged=_(),this.isAnimating=m(!1),this._config=m(void 0),this.config=this._config.asReadonly(),this.state=m("enter"),this.params=m({x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0}),this.dialogContainerAnimation=d(()=>({value:this.state(),params:this.params()}))}attachComponentPortal(e){let t=this.portalOutlet();if(t?.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),t.attachComponentPortal(e)}attachTemplatePortal(e){throw new Error("Method not implemented.")}setConfig(e){this._config.set(e),e.event&&this.calculateZoomOrigin(e.event)}onAnimationStart(e){this.isAnimating.set(!0),this.animationStateChanged.emit(e)}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="exit"&&this.restoreFocus(),this.animationStateChanged.emit(e),this.isAnimating.set(!1)}startExitAnimation(){this.state.set("exit"),this.changeDetector.markForCheck()}calculateZoomOrigin(e){let t=e.clientX,i=e.clientY,n=window.innerWidth/2,r=window.innerHeight/2,o=t-n,c=i-r,f=t/window.innerWidth,C=i/window.innerHeight;this.params.set({x:`${o}px`,y:`${c}px`,ox:`${f*100}%`,oy:`${C*100}%`,scale:0})}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()).catch(()=>{}))}trapFocus(){this.focusTrap()||this.focusTrap.set(this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config()?.autoFocus&&this.focusTrap()?.focusInitialElementWhenReady().catch(()=>{})}restoreFocus(){let e=this.elementFocusedBeforeDialogWasOpened;e&&typeof e.focus=="function"&&e.focus(),this.focusTrap()&&(this.focusTrap().destroy(),this.focusTrap.set(void 0))}static{this.\u0275fac=function(t){return new(t||s)(u(Ne),u(j),u(di),u(W,8))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-dialog-container"]],viewQuery:function(t,i){t&1&&se(i.portalOutlet,Be,5),t&2&&ae()},hostVars:8,hostBindings:function(t,i){if(t&1&&Ue("@slideModal.start",function(r){return i.onAnimationStart(r)})("@slideModal.done",function(r){return i.onAnimationDone(r)}),t&2){let n,r,o;Ke("@slideModal",i.dialogContainerAnimation()),A("tabindex",-1)("aria-labelledby",i.ariaLabelledBy())("id",(n=i.config())==null?null:n.id)("role",(r=i.config())==null?null:r.role)("aria-describedby",(o=i.config())==null?null:o.ariaDescribedBy),x("nxt-dialog-container",!0)}},outputs:{animationStateChanged:"animationStateChanged"},features:[xe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&At(0,on,0,0,"ng-template",0)},dependencies:[Be],encapsulation:2,data:{animation:[Oe("slideModal",[me("void => enter",[L(ln),re("300ms cubic-bezier(0.35, 0, 0.25, 1)",L("*")),re("150ms",Pt([L({transform:"scale(1)",offset:0}),L({transform:"scale(1.05)",offset:.3}),L({transform:"scale(.95)",offset:.8}),L({transform:"scale(1)",offset:1})])),Le()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),me("enter => exit",[Le(),re(200,L(dn))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}})}}return s})(),cn=new R("NXT_DIALOG_DATA"),hn=new R("NXT_DIALOG_SCROLL_STRATEGY"),un=new R("NXT_DIALOG_DEFAULT_OPTIONS"),mn=(()=>{class s{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){let e=this.parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(e,t,i,n,r,o,c){this.overlay=e,this.injector=t,this.location=i,this.defaultOptions=r,this.parentDialog=o,this.overlayContainer=c,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._afterOpenAtThisLevel=new E,this._afterAllClosedAtThisLevel=new E,this.afterAllClosed=pt(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:ke([void 0],this._afterAllClosed).pipe(mt())),this.scrollStrategy=n??(()=>e.scrollStrategies.block()),!o&&i&&i.subscribe(()=>this.closeAll())}open(e,t){if(t=pn(t,this.defaultOptions),t.id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);let i=this.createOverlay(t),n=this.attachDialogContainer(i,t),r=this.attachDialogContent(e,n,i,t);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this.removeOpenDialog(r)),this.afterOpen.next(r),r}closeAll(){let e=this.openDialogs.length;for(;e--;)this.openDialogs[e].close()}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}attachDialogContent(e,t,i,n){let r=new He(i,t,n.id,this.location);if(n.hasBackdrop&&i.backdropClick().subscribe(()=>{r.disableClose||r.close()}),!(e instanceof Ct)){let o=this.createInjector(n,r,t),c=t.attachComponentPortal(new Re(e,void 0,o));r.componentInstance=c.instance}return r.updateSize(n.width,n.height).updatePosition(n.position),r}createInjector(e,t,i){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector;return J.create({providers:[{provide:He,useValue:t},{provide:ci,useValue:i},{provide:cn,useValue:e.data}],parent:n||this.injector})}createOverlay(e){let t=this.getOverlayConfig(e);return this.overlay.create(t)}attachDialogContainer(e,t){let i=new Re(ci,t.viewContainerRef),n=e.attach(i);return n.instance.setConfig(t),n.instance}getOverlayConfig(e){let t=new Je({positionStrategy:this.overlay.position().global(),scrollStrategy:e.scrollStrategy||this.scrollStrategy(),panelClass:e.paneClass,hasBackdrop:e.hasBackdrop,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}removeOpenDialog(e){let t=this._openDialogsAtThisLevel.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((i,n)=>{i?n.setAttribute("aria-hidden",i):n.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){let e=this.overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let n=t[i];n!==e&&n.nodeName!=="SCRIPT"&&n.nodeName!=="STYLE"&&!n.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}static{this.\u0275fac=function(t){return new(t||s)(q(et),q(J),q(Rt,8),q(hn,8),q(un,8),q(s,12),q(Gt))}}static{this.\u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function pn(s,a){return rn(new ht,s,a)}var gn=new R("NXT_DTPICKER_SCROLL_STRATEGY"),Os=(()=>{class s extends hi{constructor(e,t,i,n,r,o,c,f,C){super(o,c),this.overlay=e,this.viewContainerRef=t,this.dialogService=i,this.ngZone=n,this.changeDetector=r,this.defaultScrollStrategy=f,this.document=C,this.backdropClass=l(),this.panelClass=l(),this._startAt=l(void 0,{alias:"startAt",transform:D=>this.getValidDate(this.dateTimeAdapter.deserialize(D))}),this.startAt=d(()=>{let D=this._startAt();if(D)return D;let V=this.dtInput();if(V){if(V.selectMode()==="single")return V.value;if(V.selectMode()==="range"||V.selectMode()==="rangeFrom")return V.values[0];if(V.selectMode()==="rangeTo")return V.values[1]}}),this.pickerType=l("both"),this.pickerMode=l("popup",{transform:D=>D==="popup"?D:"dialog"}),this._disabled=l(void 0,{alias:"disabled"}),this.disabled=O({source:()=>this._disabled(),computation:D=>D??!!this.dtInput()?.disabled()}),this._isOpen=l(!1,{alias:"isOpen"}),this.isOpen=m(!1),this.scrollStrategy=l(),this.afterPickerOpened=_({alias:"open"}),this.afterPickerClosed=_({alias:"close"}),this.yearSelected=_(),this.monthSelected=_(),this.isOpenChange=_(),this.confirmSelectedChange=_(),this.disabledChange=_(),this._dtInput=m(void 0),this.dtInput=this._dtInput.asReadonly(),this.valueChange=d(()=>this._dtInput()?.valueChange),this.selected=m(void 0),this.selecteds=m(new Array),this.min=d(()=>this.dtInput()?.min()),this.max=d(()=>this.dtInput()?.max()),this.dateTimeFilter=d(()=>this.dtInput()?.dateTimeFilter()),this.selectMode=d(()=>this.dtInput()?.selectMode()),this.isInSingleMode=d(()=>!!this.dtInput()?.isInSingleMode()),this.isInRangeMode=d(()=>!!this.dtInput()?.isInRangeMode()),this.defaultScrollStrategy=this.defaultScrollStrategy??(()=>e.scrollStrategies.block()),ce(D=>{let V=this.valueChange();if(V){let mi=V.subscribe($e=>{Array.isArray($e)?this.selecteds.set($e):this.selected.set($e)});D(()=>mi.unsubscribe())}}),ce(()=>{this.pickerType(),this._dtInput()?.formatNativeInputValue()});let z;ce(()=>{let D=this.disabled();z!=null&&this.disabledChange.emit(D),z=D});let $;ce(()=>{let D=this._isOpen();if($===void 0){$=D,$&&this.open();return}$!=D&&(($=D)?this.open():this.close())})}ngOnDestroy(){this.close(),this.popupRef&&this.popupRef.dispose()}registerInput(e){if(this._dtInput())throw Error("A Nxt DateTimePicker can only be associated with a single input.");this._dtInput.set(e)}open(){if(!(this.isOpen()||this.disabled())){if(!this._dtInput())throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode()?this.selected.set(this._dtInput().value):this.isInRangeMode()&&this.selecteds.set(this._dtInput().values),this.selected()&&this.pickerType()!=="calendar"&&this._startAt()&&this.selected.set(this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected()),this.dateTimeAdapter.getMonth(this.selected()),this.dateTimeAdapter.getDate(this.selected()),this.dateTimeAdapter.getHours(this._startAt()),this.dateTimeAdapter.getMinutes(this._startAt()),this.dateTimeAdapter.getSeconds(this._startAt()))),this.pickerMode()==="dialog"?this.openAsDialog():this.openAsPopup(),this.pickerContainer&&this.pickerContainer.picker.set(this),this.hidePickerStreamSub=this.pickerContainer?.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer?.confirmSelectedStream.subscribe(e=>{this.confirmSelect(e)})}}select(e){Array.isArray(e)?this.selecteds.set([...e]):this.selected.set(e),this.pickerMode()!=="dialog"&&this.pickerType()==="calendar"&&(this.selectMode()==="single"&&this.selected()||this.selectMode()==="rangeFrom"&&this.selecteds()[0]||this.selectMode()==="rangeTo"&&this.selecteds()[1]||this.selectMode()==="range"&&this.selecteds()[0]&&this.selecteds()[1])&&this.confirmSelect()}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}close(){if(!this.isOpen())return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub?.unsubscribe(),this.hidePickerStreamSub=void 0,this.confirmSelectedStreamSub?.unsubscribe(),this.confirmSelectedStreamSub=void 0,this.pickerOpenedStreamSub?.unsubscribe(),this.pickerOpenedStreamSub=void 0,this.dialogRef&&(this.dialogRef.close(),this.dialogRef=void 0);let e=()=>{this.isOpen()&&(this.isOpen.set(!1),this.isOpenChange.emit(this.isOpen()),this.afterPickerClosed.emit(void 0),this.focusedElementBeforeOpen=void 0)};this.focusedElementBeforeOpen&&typeof this.focusedElementBeforeOpen.focus=="function"?(this.focusedElementBeforeOpen.focus(),setTimeout(e)):e()}confirmSelect(e){if(this.isInSingleMode()){let t=this.selected()||this.startAt()||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(t)}else this.isInRangeMode()&&this.confirmSelectedChange.emit(this.selecteds());this.close()}openAsDialog(){let e=this.backdropClass(),t=this.panelClass();this.dialogRef=this.dialogService.open(ye,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...e?fe(e):[]],paneClass:["nxt-dt-dialog",...t?fe(t):[]],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy()||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.afterOpen().subscribe(()=>{this.isOpen.set(!0),this.isOpenChange.emit(this.isOpen()),this.afterPickerOpened.emit(void 0)}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new Re(ye,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef?.hasAttached()){let e=this.popupRef?.attach(this.pickerContainerPortal);this.pickerContainer=e?.instance,this.ngZone.onStable.asObservable().pipe(K(1)).subscribe(()=>{this.popupRef?.updatePosition()}),this.pickerOpenedStreamSub=this.pickerContainer?.pickerOpenedStream.pipe(K(1)).subscribe(()=>{this.isOpen.set(!0),this.isOpenChange.emit(this.isOpen()),this.afterPickerOpened.emit(void 0)})}}createPopup(){let e=this.backdropClass(),t=this.panelClass(),i=new Je({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...e?fe(e):[]],scrollStrategy:this.scrollStrategy()||this.defaultScrollStrategy(),panelClass:["nxt-dt-popup",...t?fe(t):[]]});this.popupRef=this.overlay.create(i),gt(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe(de(n=>!!(n.code.toLowerCase()==="escape"||this._dtInput()&&n.altKey&&n.code.toLowerCase()==="arrowup")))).subscribe(()=>this.close())}createPopupPositionStrategy(){if(this._dtInput())return this.overlay.position().flexibleConnectedTo(this._dtInput().elementRef).withTransformOriginOn(".nxt-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}static{this.\u0275fac=function(t){return new(t||s)(u(et),u(kt),u(mn),u(B),u(Ne),u(H),u(oe),u(gn,8),u(W,8))}}static{this.\u0275cmp=I({type:s,selectors:[["nxt-date-time"]],inputs:{backdropClass:[1,"backdropClass"],panelClass:[1,"panelClass"],_startAt:[1,"startAt","_startAt"],pickerType:[1,"pickerType"],pickerMode:[1,"pickerMode"],_disabled:[1,"disabled","_disabled"],_isOpen:[1,"isOpen","_isOpen"],scrollStrategy:[1,"scrollStrategy"]},outputs:{afterPickerOpened:"open",afterPickerClosed:"close",yearSelected:"yearSelected",monthSelected:"monthSelected",isOpenChange:"isOpenChange",confirmSelectedChange:"confirmSelectedChange",disabledChange:"disabledChange"},features:[xe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})}}return s})();export{H as a,oe as b,ui as c,Ns as d,Os as e};
