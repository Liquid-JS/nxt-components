import{i as N}from"./chunk-SMA5AFNH.js";import{Aa as k,Bb as H,Bc as S,Ca as u,Dc as b,Jc as A,X as d,Xa as D,Z as g,_ as j,aa as T,da as o,ea as I,ia as O,ic as _,l as w,nb as x,oa as M,ob as m,qb as R,sa as f,ua as y,ya as E,za as p}from"./chunk-ZCDMTBCB.js";import{i as n}from"./chunk-FBFWB55K.js";function v(t,s){let e=!s?.manualCleanup;e&&!s?.injector&&O(v);let i=e?s?.injector?.get(f)??o(f):null,r=C(s?.equal),a;s?.requireSync?a=u({kind:0},{equal:r}):a=u({kind:1,value:s?.initialValue},{equal:r});let c=t.subscribe({next:h=>a.set({kind:1,value:h}),error:h=>{if(s?.rejectErrors)throw h;a.set({kind:2,error:h})}});if(s?.requireSync&&a().kind===0)throw new d(601,!1);return i?.onDestroy(c.unsubscribe.bind(c)),S(()=>{let h=a();switch(h.kind){case 1:return h.value;case 2:throw h.error;case 0:throw new d(601,!1)}},{equal:s?.equal})}function C(t=Object.is){return(s,e)=>s.kind===1&&e.kind===1&&t(s.value,e.value)}var F=new T("NXT_HIGHLIGHT_OPTIONS");function ce(t){return I([{provide:F,useValue:t}])}var l=function(t){return t.FULL_WITH_CORE_LIBRARY_IMPORTS="The full library and the core library were imported, only one of them should be imported!",t.FULL_WITH_LANGUAGE_IMPORTS="The highlighting languages were imported they are not needed!",t.CORE_WITHOUT_LANGUAGE_IMPORTS="The highlighting languages were not imported!",t.LANGUAGE_WITHOUT_CORE_IMPORTS="The core library was not imported!",t.NO_FULL_AND_NO_CORE_IMPORTS="Highlight.js library was not imported!",t}(l||{}),U=(()=>{class t{constructor(){this.document=o(A),this.options=o(F,{optional:!0}),this.pendingTasks=o(y),this.ready=this.pendingTasks.run(()=>this.loadLibrary().then(e=>n(this,null,function*(){if(this.options?.lineNumbersLoader){let i=yield this.options.lineNumbersLoader();e.lineNumbersBlock=i.activateLineNumbers(this.document)}return this.options?.highlightOptions&&e.configure(this.options.highlightOptions),e}))),this.options?.themePath&&this.loadTheme(this.options.themePath)}loadLibrary(){return n(this,null,function*(){if(this.options){if(this.options.fullLibraryLoader&&this.options.coreLibraryLoader)throw new Error(l.FULL_WITH_CORE_LIBRARY_IMPORTS);if(this.options.fullLibraryLoader&&this.options.languages)throw new Error(l.FULL_WITH_LANGUAGE_IMPORTS);if(this.options.coreLibraryLoader&&!this.options.languages)throw new Error(l.CORE_WITHOUT_LANGUAGE_IMPORTS);if(!this.options.coreLibraryLoader&&this.options.languages)throw new Error(l.LANGUAGE_WITHOUT_CORE_IMPORTS);if(this.options.fullLibraryLoader)return this.options.fullLibraryLoader();if(this.options.coreLibraryLoader&&this.options.languages&&Object.keys(this.options.languages).length)return this.options.coreLibraryLoader().then(e=>this.loadLanguages(e))}throw new Error(l.NO_FULL_AND_NO_CORE_IMPORTS)})}loadLanguages(e){return n(this,null,function*(){return yield Promise.all(Object.entries(this.options?.languages||{}).map(([i,r])=>r().then(a=>e.registerLanguage(i,a)))),e})}setTheme(e){this.themeLinkElement?this.themeLinkElement.href=e:this.loadTheme(e)}loadTheme(e){this.themeLinkElement=this.document.createElement("link"),this.themeLinkElement.href=e,this.themeLinkElement.type="text/css",this.themeLinkElement.rel="stylesheet",this.themeLinkElement.media="screen,print",this.document.head.appendChild(this.themeLinkElement)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),G=(()=>{class t{constructor(){this.loader=o(U),this.hljs=v(w(this.loader.ready))}highlight(e,i){return n(this,null,function*(){return(yield this.loader.ready).highlight(e,i)})}highlightAuto(e,i){return n(this,null,function*(){return(yield this.loader.ready).highlightAuto(e,i)})}highlightElement(e){return n(this,null,function*(){(yield this.loader.ready).highlightElement(e)})}highlightAll(){return n(this,null,function*(){(yield this.loader.ready).highlightAll()})}registerLanguage(e,i){return n(this,null,function*(){(yield this.loader.ready).registerLanguage(e,i)})}unregisterLanguage(e){return n(this,null,function*(){(yield this.loader.ready).unregisterLanguage(e)})}registerAliases(r,a){return n(this,arguments,function*(e,{languageName:i}){(yield this.loader.ready).registerAliases(e,{languageName:i})})}listLanguages(){return n(this,null,function*(){return(yield this.loader.ready).listLanguages()})}getLanguage(e){return n(this,null,function*(){return(yield this.loader.ready).getLanguage(e)})}safeMode(){return n(this,null,function*(){(yield this.loader.ready).safeMode()})}debugMode(){return n(this,null,function*(){(yield this.loader.ready).debugMode()})}lineNumbersBlock(e,i){return n(this,null,function*(){let r=yield this.loader.ready;r.lineNumbersBlock&&r.lineNumbersBlock(e,i)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),L;function B(){if(!L)try{L=window?.trustedTypes?.createPolicy("nxt-highlightjs",{createHTML:t=>t})}catch{}return L}function q(t){return B()?.createHTML(t)||t}var P=(()=>{class t{constructor(){this.hljs=o(G),this.nativeElement=o(k).nativeElement,this.sanitizer=o(N),b(()=>{let e=this.code();if(e){let i=this.highlightElement(e);i&&(this.setInnerHTML(i?.value??void 0),this.highlightResult.set(i),this.highlighted.emit(i))}else this.setTextContent("")})}setTextContent(e){this.nativeElement.textContent=e}setInnerHTML(e){this.nativeElement.innerHTML=q(this.sanitizer.sanitize(D.HTML,e||null)||"")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=m({type:t})}}return t})();var de=(()=>{class t extends P{constructor(){super(...arguments),this.code=p(void 0,{alias:"nxtHighlightAuto"}),this.highlightResult=u(void 0),this.languages=p(),this.highlighted=E()}highlightElement(e){return this.hljs.hljs()?.highlightAuto(e,this.languages())}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=M(t)))(r||t)}})()}static{this.\u0275dir=m({type:t,selectors:[["","nxtHighlightAuto",""]],hostVars:2,hostBindings:function(i,r){i&2&&H("hljs",!0)},inputs:{code:[1,"nxtHighlightAuto","code"],languages:[1,"languages"]},outputs:{highlighted:"highlighted"},features:[_([{provide:P,useExisting:t}]),R]})}}return t})(),ge=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=j({})}}return t})();export{F as a,ce as b,U as c,G as d,P as e,de as f,ge as g};
