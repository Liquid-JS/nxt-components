import{Ab as M,Bb as g,Cb as a,Cc as p,Db as o,Eb as u,Ec as C,Hc as k,Rb as j,Ta as l,U as b,Ub as d,Z as h,cc as P,fc as O,gc as v,hc as _,ib as m,ic as y,pc as I,sc as T,vb as c,wb as r,yb as w,zb as x}from"./chunk-JGD7IGNT.js";var S=(e,s)=>({collapse:e,expand:s});function V(e,s){if(e&1&&(a(0,"span",3)(1,"span"),v(2),o(),a(3,"span"),v(4,": "),o()()),e&2){let n=d();l(2),_(n.key())}}function E(e,s){if(e&1&&(a(0,"span"),v(1),o()),e&2){let n=d(2);l(),y("[ ",n.data==null?null:n.data.length," ]")}}function J(e,s){if(e&1&&(a(0,"span"),v(1),c(2,E,2,1,"span"),o()),e&2){let n=d();l(),y(" ",n.dataType," "),l(),r(n.isArray?2:-1)}}function N(e,s){if(e&1&&(a(0,"span"),v(1),o()),e&2){let n=d();O(n.valueType),l(),_(n.value)}}function A(e,s){if(e&1&&u(0,"nxt-json-view-item",7),e&2){let n=s.$implicit,t=d(2);g("data",t.data[n])("key",n)("level",t.level()+1)("levelOpen",t.levelOpen())("levelLabels",t.levelLabels())}}function H(e,s){if(e&1&&(a(0,"div",6),x(1,A,1,5,"nxt-json-view-item",7,w),o()),e&2){let n=d();l(),M(n.childrenKeys)}}var f=(()=>{class e{constructor(){this.items=new Set}addItem(n){this.items.add(n)}removeItem(n){this.items.delete(n)}expandTo(n){this.items.forEach(t=>{t.level()<=n&&!t.isOpen&&(t.levelOpen.set(n),t.toggle())})}collapseTo(n){this.items.forEach(t=>{t.level()>n&&t.isOpen&&t.toggle()})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function L(e){return e!==null&&typeof e=="object"}function K(e){return Array.isArray(e)}function F(e){return typeof e>"u"}function R(e){return typeof e=="string"}function B(e){return typeof e=="number"}function U(e){return typeof e=="boolean"}var $=(()=>{class e{constructor(){this.key=p(),this.level=p(0),this.levelOpen=C(),this.levelLabels=p(),this.isOpen=!1,this.hasChildren=!1,this.isObject=!1,this.isArray=!1,this.isInit=!1,this._levelLabels={},this.expanderService=h(f)}set data(n){this._data=n,this.isInit&&this.init()}get data(){return this._data}ngOnInit(){this.init(),this.isInit=!0,this.expanderService.addItem(this)}ngOnDestroy(){this.expanderService.removeItem(this)}init(){this.levelLabelHandle(),this.levelOpenHandle(),this.childrenKeysHandle(),this.dataHandle()}levelLabelHandle(){let n=this.levelLabels();n!==void 0&&(this._levelLabels=n[this.level()]||{})}levelOpenHandle(){let n=this.levelOpen();!F(n)&&this.level()<=n&&(this.isOpen=!0)}childrenKeysHandle(){L(this.data)&&(this.childrenKeys=Object.keys(this.data),this.childrenKeys&&this.childrenKeys.length&&(this.hasChildren=!0))}dataHandle(){if(L(this.data)){this.isObject=!0,this.dataType="Object",K(this.data)&&(this.isArray=!0,this.dataType="Array");let n=this.key();n&&this._levelLabels[n]&&(this.dataType=this._levelLabels[n])}else this.value=this.data,R(this.data)?this.valueType="string":B(this.data)?this.valueType="number":U(this.data)?this.valueType="boolean":this.data===null&&(this.valueType="null",this.value="null")}toggle(){this.childrenKeys&&this.childrenKeys.length&&(this.isOpen=!this.isOpen)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=m({type:e,selectors:[["nxt-json-view-item"]],inputs:{data:"data",key:[1,"key"],level:[1,"level"],levelOpen:[1,"levelOpen"],levelLabels:[1,"levelLabels"]},outputs:{levelOpen:"levelOpenChange"},decls:8,vars:11,consts:[[1,"json-view"],["tabindex","0",3,"click","keydown.space"],[1,"toggler"],[1,"key"],[1,"value"],[3,"class"],[1,"children"],[3,"data","key","level","levelOpen","levelLabels"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"a",1),j("click",function(){return i.toggle()})("keydown.space",function(){return i.toggle()}),u(2,"span",2),c(3,V,5,1,"span",3),a(4,"span",4),c(5,J,3,2,"span"),c(6,N,2,3,"span",5),o()(),c(7,H,3,0,"div",6),o()),t&2&&(l(2),O(T(8,S,i.isOpen,!i.isOpen)),P("visibility",i.hasChildren?"visible":"hidden"),l(),r(i.key()?3:-1),l(2),r(i.isObject?5:-1),l(),r(!i.isObject&&i.valueType?6:-1),l(),r(i.hasChildren&&i.isOpen?7:-1))},dependencies:[e],styles:['.json-view[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.json-view[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{width:1em;padding:0;display:block;text-align:center;float:left}.json-view[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]:before{content:"-"}.json-view[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]:before{content:"+"}.json-view[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-key, #92278f)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-value, #000000)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .string[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-string, #3ab54a)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-number, #25aae2)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .boolean[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-boolean, #aa0d91)}.json-view[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .null[_ngcontent-%COMP%]{color:var(--nxt-json-view-color-null, #f1592a)}.json-view[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:1em}']})}}return e})(),ne=(()=>{class e{constructor(){this.data=p(),this.levelOpen=C(),this.levelLabels=p(),this.expanderService=h(f),this.cdRef=h(k)}ngAfterViewChecked(){this.levelOpen!=null&&(this.levelOpen.set(void 0),this.cdRef.detectChanges())}expandTo(n){this.levelOpen.set(n),this.expanderService.expandTo(n)}collapseTo(n){this.expanderService.collapseTo(n)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=m({type:e,selectors:[["nxt-json-view"]],inputs:{data:[1,"data"],levelOpen:[1,"levelOpen"],levelLabels:[1,"levelLabels"]},outputs:{levelOpen:"levelOpenChange"},features:[I([{provide:f,useClass:f}])],decls:2,vars:4,consts:[[1,"nxt-json-view"],[1,"json-view",3,"data","level","levelOpen","levelLabels"]],template:function(t,i){t&1&&(a(0,"div",0),u(1,"nxt-json-view-item",1),o()),t&2&&(l(),g("data",i.data())("level",0)("levelOpen",i.levelOpen())("levelLabels",i.levelLabels()))},dependencies:[$],encapsulation:2})}}return e})();export{ne as a};
