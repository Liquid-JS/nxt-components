import{A as Q,Aa as j,Ga as J,Jc as st,Z as D,ca as b,dd as rt,eb as tt,f as U,fb as et,gb as ot,h as X,m as P,qa as O,tc as nt,va as x,wa as T,xb as it,y as A}from"./chunk-ZCDMTBCB.js";import{a as w,b as M}from"./chunk-FBFWB55K.js";var L=class{constructor(e,o){this.open=e,this.close=o||e}isManual(){return this.open==="manual"||this.close==="manual"}},Nt={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Ct(t,e=Nt){let o=(t||"").trim();if(o.length===0)return[];let i=o.split(/\s+/).map(n=>n.split(":")).map(n=>{let r=e[n[0]]||n;return new L(r[0],r[1])}),s=i.filter(n=>n.isManual());if(s.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(s.length===1&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}function ht(t,e){let o=Ct(e.triggers),i=e.target;if(o.length===1&&o[0].isManual())return Function.prototype;let s=[],n=[],r=()=>{n.forEach(f=>s.push(f())),n.length=0};return o.forEach(f=>{let h=f.open===f.close,c=h?e.toggle:e.show;if(!h&&f.close&&e.hide){let l=f.close,u=e.hide,p=()=>t.listen(i,l,u);n.push(p)}c&&s.push(t.listen(i,f.open,()=>c(r)))}),()=>{s.forEach(f=>f())}}function ct(t,e){return e.outsideClick?t.listen("document","click",o=>{e.target&&e.target.contains(o.target)||e.targets&&e.targets.some(i=>i.contains(o.target))||e.hide&&e.hide()}):Function.prototype}function lt(t,e){return e.outsideEsc?t.listen("document","keyup.esc",o=>{e.target&&e.target.contains(o.target)||e.targets&&e.targets.some(i=>i.contains(o.target))||e.hide&&e.hide()}):Function.prototype}var g=typeof window<"u"&&window||{},Qt=g.document,Jt=g.location,te=g.gc?()=>g.gc():()=>null,ee=g.performance?g.performance:null,oe=g.Event,ie=g.MouseEvent,ne=g.KeyboardEvent,se=g.EventTarget,re=g.History,fe=g.Location,he=g.EventListener;var v;function at(){let t=g.document.createElement("span");t.innerText="testing bs version",t.classList.add("d-none"),t.classList.add("pl-1"),g.document.head.appendChild(t);let e=g.getComputedStyle(t).paddingLeft;return e&&parseFloat(e)?(g.document.head.removeChild(t),"bs4"):(g.document.head.removeChild(t),"bs5")}function Mt(){return v||(v=at()),v==="bs4"}function Dt(){return v||(v=at()),v==="bs5"}function S(){return{isBs4:Mt(),isBs5:Dt()}}function ce(){let t="Change";return function(o,i){let s=` __${i}Value`;Object.defineProperty(o,i,{get(){return this[s]},set(n){let r=this[s];this[s]=n,r!==n&&this[i+t]&&this[i+t].emit(n)}})}}var ft={},Tt=typeof console>"u"||!("warn"in console);function le(t){!nt()||Tt||t in ft||(ft[t]=!0,console.warn(t))}var bt=function(t){return t.top="top",t.bottom="bottom",t.left="left",t.right="right",t.auto="auto",t.end="right",t.start="left",t["top left"]="top left",t["top right"]="top right",t["right top"]="right top",t["right bottom"]="right bottom",t["bottom right"]="bottom right",t["bottom left"]="bottom left",t["left bottom"]="left bottom",t["left top"]="left top",t["top start"]="top left",t["top end"]="top right",t["end top"]="right top",t["end bottom"]="right bottom",t["bottom end"]="bottom right",t["bottom start"]="bottom left",t["start bottom"]="start bottom",t["start top"]="left top",t}(bt||{}),B=function(t){return t.top="top",t.bottom="bottom",t.left="start",t.right="end",t.auto="auto",t.end="end",t.start="start",t["top left"]="top start",t["top right"]="top end",t["right top"]="end top",t["right bottom"]="end bottom",t["bottom right"]="bottom end",t["bottom left"]="bottom start",t["left bottom"]="start bottom",t["left top"]="start top",t["top start"]="top start",t["top end"]="top end",t["end top"]="end top",t["end bottom"]="end bottom",t["bottom end"]="bottom end",t["bottom start"]="bottom start",t["start bottom"]="start bottom",t["start top"]="start top",t}(B||{});function E(t,e){if(t.nodeType!==1)return[];let i=t.ownerDocument.defaultView?.getComputedStyle(t,null);return e?i&&i[e]:i}function q(t){if(!t)return document.documentElement;let e=null,o=t?.offsetParent,i;for(;o===e&&t.nextElementSibling&&i!==t.nextElementSibling;)i=t.nextElementSibling,o=i.offsetParent;let s=o&&o.nodeName;return!s||s==="BODY"||s==="HTML"?i?i.ownerDocument.documentElement:document.documentElement:o&&["TH","TD","TABLE"].indexOf(o.nodeName)!==-1&&E(o,"position")==="static"?q(o):o}function Ht(t){let{nodeName:e}=t;return e==="BODY"?!1:e==="HTML"||q(t.firstElementChild)===t}function F(t){return t.parentNode!==null?F(t.parentNode):t}function $(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;let o=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=o?t:e,s=o?e:t,n=document.createRange();n.setStart(i,0),n.setEnd(s,0);let r=n.commonAncestorContainer;if(t!==r&&e!==r||i.contains(s))return Ht(r)?r:q(r);let f=F(t);return f.host?$(f.host,e):$(t,F(e).host)}function wt(t){if(!t||!t.parentElement)return document.documentElement;let e=t.parentElement;for(;e?.parentElement&&E(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function ut(t,e){let o=e==="x"?"Left":"Top",i=o==="Left"?"Right":"Bottom";return parseFloat(t[`border${o}Width`])+parseFloat(t[`border${i}Width`])}function dt(t,e,o){let i=e,s=o;return Math.max(i[`offset${t}`],i[`scroll${t}`],s[`client${t}`],s[`offset${t}`],s[`scroll${t}`],0)}function vt(t){let e=t.body,o=t.documentElement;return{height:dt("Height",e,o),width:dt("Width",e,o)}}function N(t){return M(w({},t),{right:(t.left||0)+t.width,bottom:(t.top||0)+t.height})}function kt(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(Number(t))}function a(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function gt(t){let e=t.getBoundingClientRect();if(!(e&&a(e.top)&&a(e.left)&&a(e.bottom)&&a(e.right)))return e;let o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i=t.nodeName==="HTML"?vt(t.ownerDocument):void 0,s=i?.width||t.clientWidth||a(e.right)&&a(o.left)&&e.right-o.left||0,n=i?.height||t.clientHeight||a(e.bottom)&&a(o.top)&&e.bottom-o.top||0,r=t.offsetWidth-s,f=t.offsetHeight-n;if(r||f){let h=E(t);r-=ut(h,"x"),f-=ut(h,"y"),o.width-=r,o.height-=f}return N(o)}function Y(t,e,o=!1){let i=e.nodeName==="HTML",s=gt(t),n=gt(e),r=E(e),f=parseFloat(r.borderTopWidth),h=parseFloat(r.borderLeftWidth);o&&i&&(n.top=Math.max(n.top??0,0),n.left=Math.max(n.left??0,0));let c=N({top:(s.top??0)-(n.top??0)-f,left:(s.left??0)-(n.left??0)-h,width:s.width,height:s.height});if(c.marginTop=0,c.marginLeft=0,i){let l=parseFloat(r.marginTop),u=parseFloat(r.marginLeft);a(c.top)&&(c.top-=f-l),a(c.bottom)&&(c.bottom-=f-l),a(c.left)&&(c.left-=h-u),a(c.right)&&(c.right-=h-u),c.marginTop=l,c.marginLeft=u}return c}function Z(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function _t(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body;default:}let{overflow:e,overflowX:o,overflowY:i}=E(t);return/(auto|scroll|overlay)/.test(String(e)+String(i)+String(o))?t:_t(Z(t))}function pt(t,e="top"){let o=e==="top"?"scrollTop":"scrollLeft",i=t.nodeName;if(i==="BODY"||i==="HTML"){let s=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||s)[o]}return t[o]}function Vt(t,e=!1){let o=t.ownerDocument.documentElement,i=Y(t,o),s=Math.max(o.clientWidth,window.innerWidth||0),n=Math.max(o.clientHeight,window.innerHeight||0),r=e?0:pt(o),f=e?0:pt(o,"left"),h={top:r-Number(i?.top)+Number(i?.marginTop),left:f-Number(i?.left)+Number(i?.marginLeft),width:s,height:n};return N(h)}function Et(t){let e=t.nodeName;return e==="BODY"||e==="HTML"?!1:E(t,"position")==="fixed"?!0:Et(Z(t))}function I(t,e,o=0,i,s=!1){let n={top:0,left:0},r=s?wt(t):$(t,e);if(i==="viewport")n=Vt(r,s);else{let f;i==="scrollParent"?(f=_t(Z(e)),f.nodeName==="BODY"&&(f=t.ownerDocument.documentElement)):i==="window"?f=t.ownerDocument.documentElement:f=i;let h=Y(f,r,s);if(h&&f.nodeName==="HTML"&&!Et(r)){let{height:c,width:l}=vt(t.ownerDocument);a(n.top)&&a(h.top)&&a(h.marginTop)&&(n.top+=h.top-h.marginTop),a(n.top)&&(n.bottom=Number(c)+Number(h.top)),a(n.left)&&a(h.left)&&a(h.marginLeft)&&(n.left+=h.left-h.marginLeft),a(n.top)&&(n.right=Number(l)+Number(h.left))}else h&&(n=h)}return a(n.left)&&(n.left+=o),a(n.top)&&(n.top+=o),a(n.right)&&(n.right-=o),a(n.bottom)&&(n.bottom-=o),n}function $t({width:t,height:e}){return t*e}function yt(t,e,o,i,s=["top","bottom","right","left"],n="viewport",r=0){if(t.indexOf("auto")===-1)return t;let f=I(o,i,r,n),h={top:{width:f?.width??0,height:(e?.top??0)-(f?.top??0)},right:{width:(f?.right??0)-(e?.right??0),height:f?.height??0},bottom:{width:f?.width??0,height:(f?.bottom??0)-(e?.bottom??0)},left:{width:(e.left??0)-(f?.left??0),height:f?.height??0}},c=Object.keys(h).map(d=>M(w({position:d},h[d]),{area:$t(h[d])})).sort((d,m)=>m.area-d.area),l=c.filter(({width:d,height:m})=>d>=o.clientWidth&&m>=o.clientHeight);l=l.filter(({position:d})=>s.some(m=>m===d));let u=l.length>0?l[0].position:c[0].position,p=t.split(" ")[1];return o.className=o.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${S().isBs5?B[u]:u}`),u+(p?`-${p}`:"")}function At(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left??0),top:Math.round(t.offsets.target.top??0),bottom:Math.round(t.offsets.target.bottom??0),right:Math.floor(t.offsets.target.right??0)}}function Lt(t){let e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,o=>e[o])}function Ft(t){return t==="right"?"left":t==="left"?"right":t}var H=(t,e=0)=>t?parseFloat(t):e;function Rt(t){let o=t.ownerDocument.defaultView?.getComputedStyle(t),i=H(o?.marginTop)+H(o?.marginBottom),s=H(o?.marginLeft)+H(o?.marginRight);return{width:Number(t.offsetWidth)+s,height:Number(t.offsetHeight)+i}}function Ot(t,e,o){let i=o?wt(t):$(t,e);return Y(e,i,o)}function z(t,e,o){let i=o.split(" ")[0],s=Rt(t),n={width:s.width,height:s.height},r=["right","left"].indexOf(i)!==-1,f=r?"top":"left",h=r?"left":"top",c=r?"height":"width",l=r?"width":"height";return n[f]=(e[f]??0)+e[c]/2-s[c]/2,n[h]=i===h?(e[h]??0)-s[l]:e[Lt(h)]??0,n}function xt(t,e){return!!t.modifiers[e]?.enabled}var zt={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function k(t,e){return S().isBs5?zt[e].includes(t):!1}function Wt(t){return S().isBs5?k(t,"end")?"ms-2":k(t,"start")?"me-2":k(t,"top")?"mb-2":k(t,"bottom")?"mt-2":"":""}function Bt(t,e){let o=t.instance.target,i=o.className,s=S().isBs5?B[t.placement]:t.placement;if(t.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${s}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${s}`),i=i.replace(/\sauto/g,` ${s}`),i.indexOf("popover")!==-1&&(i=i+" "+Wt(s)),i.indexOf("popover")!==-1&&i.indexOf("popover-auto")===-1&&(i+=" popover-auto"),i.indexOf("tooltip")!==-1&&i.indexOf("tooltip-auto")===-1&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${s.split(" ")[0]}`),e){e.setAttribute(o,"class",i);return}o.className=i}function mt(t,e,o){!t||!e||Object.keys(e).forEach(i=>{let s="";if(["width","height","top","right","bottom","left"].indexOf(i)!==-1&&kt(e[i])&&(s="px"),o){o.setStyle(t,i,`${String(e[i])}${s}`);return}t.style[i]=String(e[i])+s})}function qt(t){let e=t.offsets.target,o=t.instance.target.querySelector(".arrow");if(!o)return t;let i=["left","right"].indexOf(t.placement.split(" ")[0])!==-1,s=i?"height":"width",n=i?"Top":"Left",r=n.toLowerCase(),f=i?"left":"top",h=i?"bottom":"right",c=Rt(o)[s],l=t.placement.split(" ")[1];(t.offsets.host[h]??0)-c<(e[r]??0)&&(e[r]-=(e[r]??0)-((t.offsets.host[h]??0)-c)),Number(t.offsets.host[r])+Number(c)>(e[h]??0)&&(e[r]+=Number(t.offsets.host[r])+Number(c)-Number(e[h])),e=N(e);let u=E(t.instance.target),p=parseFloat(u[`margin${n}`])||0,d=parseFloat(u[`border${n}Width`])||0,m;if(!l)m=Number(t.offsets.host[r])+Number(t.offsets.host[s]/2-c/2);else{let C=parseFloat(u.borderRadius)||0,_=Number(p+d+C);m=r===l?Number(t.offsets.host[r])+_:Number(t.offsets.host[r])+Number(t.offsets.host[s]-_)}let R=m-(e[r]??0)-p-d;return R=Math.max(Math.min(e[s]-(c+5),R),0),t.offsets.arrow={[r]:Math.round(R),[f]:""},t.instance.arrow=o,t}function Yt(t){if(t.offsets.target=N(t.offsets.target),!xt(t.options,"flip"))return t.offsets.target=w(w({},t.offsets.target),z(t.instance.target,t.offsets.host,t.placement)),t;let e=I(t.instance.target,t.instance.host,0,"viewport",!1),o=t.placement.split(" ")[0],i=t.placement.split(" ")[1]||"",s=t.offsets.host,n=t.instance.target,r=t.instance.host,f=yt("auto",s,n,r,t.options.allowedPositions),h=[o,f];return h.forEach((c,l)=>{if(o!==c||h.length===l+1)return;o=t.placement.split(" ")[0];let u=o==="left"&&Math.floor(t.offsets.target.right??0)>Math.floor(t.offsets.host.left??0)||o==="right"&&Math.floor(t.offsets.target.left??0)<Math.floor(t.offsets.host.right??0)||o==="top"&&Math.floor(t.offsets.target.bottom??0)>Math.floor(t.offsets.host.top??0)||o==="bottom"&&Math.floor(t.offsets.target.top??0)<Math.floor(t.offsets.host.bottom??0),p=Math.floor(t.offsets.target.left??0)<Math.floor(e.left??0),d=Math.floor(t.offsets.target.right??0)>Math.floor(e.right??0),m=Math.floor(t.offsets.target.top??0)<Math.floor(e.top??0),R=Math.floor(t.offsets.target.bottom??0)>Math.floor(e.bottom??0),C=o==="left"&&p||o==="right"&&d||o==="top"&&m||o==="bottom"&&R,_=["top","bottom"].indexOf(o)!==-1,K=_&&i==="left"&&p||_&&i==="right"&&d||!_&&i==="left"&&m||!_&&i==="right"&&R;(u||C||K)&&((u||C)&&(o=h[l+1]),K&&(i=Ft(i)),t.placement=o+(i?` ${i}`:""),t.offsets.target=w(w({},t.offsets.target),z(t.instance.target,t.offsets.host,t.placement)))}),t}function Zt(t,e,o,i){if(!t||!e)return;let s=Ot(t,e);!o.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!o.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(o="auto");let n=!!o.match(/auto/g),r=o.match(/auto\s(left|right|top|bottom|start|end)/)?o.split(" ")[1]||"auto":o,f=r.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);f&&(r=f[1]+(f[2]?` ${f[2]}`:"")),["left right","right left","top bottom","bottom top"].indexOf(r)!==-1&&(r="auto"),r=yt(r,s,t,e,i?i.allowedPositions:void 0);let h=z(t,s,r);return{options:i||{modifiers:{}},instance:{target:t,host:e,arrow:void 0},offsets:{target:h,host:s,arrow:void 0},positionFixed:!1,placement:r,placementAuto:n}}function It(t){if(!xt(t.options,"preventOverflow"))return t;let e="transform",o=t.instance.target.style,{top:i,left:s,[e]:n}=o;o.top="",o.left="",o[e]="";let r=I(t.instance.target,t.instance.host,0,t.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);o.top=i,o.left=s,o[e]=n;let f=["left","right","top","bottom"],h={primary(c){let l=t.offsets.target[c];return(t.offsets.target[c]??0)<(r[c]??0)&&(l=Math.max(t.offsets.target[c]??0,r[c]??0)),{[c]:l}},secondary(c){let l=c==="right",u=l?"left":"top",p=l?"width":"height",d=t.offsets.target[u];return(t.offsets.target[c]??0)>(r[c]??0)&&(d=Math.min(t.offsets.target[u]??0,(r[c]??0)-t.offsets.target[p])),{[u]:d}}};return f.forEach(c=>{let l=["left","top","start"].indexOf(c)!==-1?h.primary:h.secondary;t.offsets.target=w(w({},t.offsets.target),l(c))}),t}function Gt(t){let e=t.placement,o=e.split(" ")[0],i=e.split(" ")[1];if(i){let{host:s,target:n}=t.offsets,r=["bottom","top"].indexOf(o)!==-1,f=r?"left":"top",h=r?"width":"height",c={start:{[f]:s[f]},end:{[f]:(s[f]??0)+s[h]-n[h]}};t.offsets.target=M(w({},n),{[f]:f===i?c.start[f]:c.end[f]})}return t}var W=class{position(e,o){return this.offset(e,o)}offset(e,o){return Ot(o,e)}positionElements(e,o,i,s,n){let r=[Yt,Gt,It,qt],f=bt[i],h=Zt(o,e,f,n);if(h)return r.reduce((c,l)=>l(c),h)}},Kt=new W;function Ut(t,e,o,i,s,n){let r=Kt.positionElements(t,e,o,i,s);if(!r)return;let f=At(r);mt(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${f.left}px, ${f.top}px, 0px)`},n),r.instance.arrow&&mt(r.instance.arrow,r.offsets.arrow,n),Bt(r,n)}var St=(()=>{class t{constructor(o,i,s){this.update$$=new U,this.positionElements=new Map,this.isDisabled=!1,rt(s)&&o.runOutsideAngular(()=>{this.triggerEvent$=Q(A(window,"scroll",{passive:!0}),A(window,"resize",{passive:!0}),P(0,X),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(n=>{Ut(V(n.target),V(n.element),n.attachment,n.appendToBody,this.options,i.createRenderer(null,null))})})})}position(o){this.addPositionElement(o)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(o){this.positionElements.set(V(o.element),o)}calcPosition(){this.update$$.next(null)}deletePositionElement(o){this.positionElements.delete(V(o))}setOptions(o){this.options=o}static{this.\u0275fac=function(i){return new(i||t)(b(T),b(ot),b(J))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function V(t){return typeof t=="string"?document.querySelector(t):t instanceof j?t.nativeElement:t??null}var y=class{constructor(e,o,i){this.nodes=e,this.viewRef=o,this.componentRef=i}},G=class{constructor(e,o,i,s,n,r,f,h,c){this._viewContainerRef=e,this._renderer=o,this._elementRef=i,this._injector=s,this._componentFactoryResolver=n,this._ngZone=r,this._applicationRef=f,this._posService=h,this._document=c,this.onBeforeShow=new x,this.onShown=new x,this.onBeforeHide=new x,this.onHidden=new x,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return this._isHiding?!1:!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);let o=O.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(o,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof j&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),typeof this.container=="string"&&typeof this._document<"u"){let i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);let o=this._componentRef.location.nativeElement;return o.parentNode?.removeChild(o),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._componentRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){if(this.isShown){this.hide();return}this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef?.nativeElement;let o=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=n=>{e.show?e.show(n):this.show(n),n()},s=n=>{this.isShown?o():i(n)};return this._renderer&&(this._unregisterListenersFn=ht(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:o,toggle:s})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,o){return e&&o&&(this._inlineViewRef=e.createEmbeddedView(o)),this}_registerOutsideClick(){if(!this._componentRef||!this._componentRef.location)return;let e=Function.prototype,o=Function.prototype;if(this._listenOpts.outsideClick){let i=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(e=ct(this._renderer,{targets:[i,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){let i=this._componentRef.location.nativeElement;o=lt(this._renderer,{targets:[i,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})}this._globalListener=()=>{e(),o()}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:this.container==="body"})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,o,i){if(!e)return new y([]);if(e instanceof tt){if(this._viewContainerRef){let r=this._viewContainerRef.createEmbeddedView(e,o);return r.markForCheck(),new y([r.rootNodes],r)}let n=e.createEmbeddedView({});return this._applicationRef.attachView(n),new y([n.rootNodes],n)}if(typeof e=="function"){let n=this._componentFactoryResolver.resolveComponentFactory(e),r=O.create({providers:this._providers,parent:this._injector}),f=n.create(r);return Object.assign(f.instance,i),this._applicationRef.attachView(f.hostView),new y([[f.location.nativeElement]],f.hostView,f)}let s=this._renderer?[this._renderer.createText(`${e}`)]:[];return new y([s])}},Oe=(()=>{class t{constructor(o,i,s,n,r,f){this._componentFactoryResolver=o,this._ngZone=i,this._injector=s,this._posService=n,this._applicationRef=r,this._document=f}createLoader(o,i,s){return new G(i,s,o,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(i){return new(i||t)(b(et),b(T),b(O),b(St),b(it),b(st))}}static{this.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{Ct as a,S as b,ce as c,le as d,B as e,St as f,Oe as g};
