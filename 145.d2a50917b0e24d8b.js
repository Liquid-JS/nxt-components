"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[145],{2145:(Li,te,h)=>{h.r(te),h.d(te,{AppPickDatetimeModule:()=>F});var p=h(6895),k=h(433),i=h(1571),b=h(7579),B=h(9646),ie=h(6451),Re=h(9770),m=h(1281),T=h(5698),Ze=h(4986),se=h(4482),re=h(5403);function ae(s,r=Ze.z){return(0,se.e)((e,t)=>{let n=null,a=null,o=null;const d=()=>{if(n){n.unsubscribe(),n=null;const u=a;a=null,t.next(u)}};function c(){const u=o+s,y=r.now();if(y<u)return n=this.schedule(void 0,u-y),void t.add(n);d()}e.subscribe((0,re.x)(t,u=>{a=u,o=r.now(),n||(n=r.schedule(c,s),t.add(n))},()=>{d(),t.complete()},void 0,()=>{a=n=null}))})}var Ue=h(4671);function oe(s,r=Ue.y){return s=s??Ge,(0,se.e)((e,t)=>{let n,a=!0;e.subscribe((0,re.x)(t,o=>{const d=r(o);(a||!s(n,d))&&(a=!1,n=d,t.next(o))}))})}function Ge(s,r){return s===r}var w=h(9300),Ke=h(7886),_=h(3353),ze=h(1135);function de(s){return(0,w.h)((r,e)=>s<=e)}var ce=h(2722);let We=(()=>{class s{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),$e=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({providers:[We]}),s})();var Je=h(9841),je=h(1350),Xe=h(9751),le=h(4004),Qe=h(8675);const he=new Set;let x,qe=(()=>{class s{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tt}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function et(s){if(!he.has(s))try{x||(x=document.createElement("style"),x.setAttribute("type","text/css"),document.head.appendChild(x)),x.sheet&&(x.sheet.insertRule(`@media ${s} {body{ }}`,0),he.add(s))}catch(r){console.error(r)}}(e),this._matchMedia(e)}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(_.t4))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function tt(s){return{matches:"all"===s||""===s,media:s,addListener:()=>{},removeListener:()=>{}}}let it=(()=>{class s{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new b.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ue((0,m.Eq)(e)).some(n=>this._registerQuery(n).mql.matches)}observe(e){const n=ue((0,m.Eq)(e)).map(o=>this._registerQuery(o).observable);let a=(0,Je.a)(n);return a=(0,je.z)(a.pipe((0,T.q)(1)),a.pipe(de(1),ae(0))),a.pipe((0,le.U)(o=>{const d={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:u})=>{d.matches=d.matches||c,d.breakpoints[u]=c}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),a={observable:new Xe.y(o=>{const d=c=>this._zone.run(()=>o.next(c));return t.addListener(d),()=>{t.removeListener(d)}}).pipe((0,Qe.O)(t),(0,le.U)(({matches:o})=>({query:e,matches:o})),(0,ce.R)(this._destroySubject)),mql:t};return this._queries.set(e,a),a}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(qe),i.LFG(i.R0b))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ue(s){return s.map(r=>r.split(",")).reduce((r,e)=>r.concat(e)).map(r=>r.trim())}let ge=(()=>{class s{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function at(s){return!!(s.offsetWidth||s.offsetHeight||"function"==typeof s.getClientRects&&s.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function rt(s){try{return s.frameElement}catch{return null}}(function pt(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}(e));if(t&&(-1===fe(t)||!this.isVisible(t)))return!1;let n=e.nodeName.toLowerCase(),a=fe(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===n||"object"===n||this._platform.WEBKIT&&this._platform.IOS&&!function ut(s){let r=s.nodeName.toLowerCase(),e="input"===r&&s.type;return"text"===e||"password"===e||"select"===r||"textarea"===r}(e))&&("audio"===n?!!e.hasAttribute("controls")&&-1!==a:"video"===n?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function mt(s){return!function dt(s){return function lt(s){return"input"==s.nodeName.toLowerCase()}(s)&&"hidden"==s.type}(s)&&(function ot(s){let r=s.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(s)||function ct(s){return function ht(s){return"a"==s.nodeName.toLowerCase()}(s)&&s.hasAttribute("href")}(s)||s.hasAttribute("contenteditable")||_e(s))}(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(_.t4))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _e(s){if(!s.hasAttribute("tabindex")||void 0===s.tabIndex)return!1;let r=s.getAttribute("tabindex");return!(!r||isNaN(parseInt(r,10)))}function fe(s){if(!_e(s))return null;const r=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}class be{get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}constructor(r,e,t,n,a=!1){this._element=r,this._checker=e,this._ngZone=t,this._document=n,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const r=this._startAnchor,e=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){const e=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return"start"==r?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return t?.focus(r),!!t}return e.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){const e=this._getRegionBoundary("start");return e&&e.focus(r),!!e}focusLastTabbableElement(r){const e=this._getRegionBoundary("end");return e&&e.focus(r),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const e=r.children;for(let t=0;t<e.length;t++){const n=e[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[t]):null;if(n)return n}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const e=r.children;for(let t=e.length-1;t>=0;t--){const n=e[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[t]):null;if(n)return n}return null}_createAnchor(){const r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,e){r?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe((0,T.q)(1)).subscribe(r)}}let gt=(()=>{class s{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new be(e,this._checker,this._ngZone,this._document,t)}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(ge),i.LFG(i.R0b),i.LFG(p.K0))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),_t=(()=>{class s{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=(0,m.Ig)(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=(0,m.Ig)(e)}constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,_.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.SBq),i.Y36(gt),i.Y36(p.K0))},s.\u0275dir=i.lG2({type:s,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[i.TTD]}),s})();class ft extends be{get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(r,e,t,n,a,o,d){super(r,e,t,n,d.defer),this._focusTrapManager=a,this._inertStrategy=o,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}const bt=new i.OlP("FOCUS_TRAP_INERT_STRATEGY");class Mt{constructor(){this._listener=null}preventFocus(r){this._listener&&r._document.removeEventListener("focus",this._listener,!0),this._listener=e=>this._trapFocus(r,e),r._ngZone.runOutsideAngular(()=>{r._document.addEventListener("focus",this._listener,!0)})}allowFocus(r){this._listener&&(r._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(r,e){const t=e.target,n=r._element;t&&!n.contains(t)&&!t.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{r.enabled&&!n.contains(r._document.activeElement)&&r.focusFirstTabbableElement()})}}let Tt=(()=>{class s{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(n=>n!==e);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();const t=this._focusTrapStack,n=t.indexOf(e);-1!==n&&(t.splice(n,1),t.length&&t[t.length-1]._enable())}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ct=(()=>{class s{constructor(e,t,n,a,o){this._checker=e,this._ngZone=t,this._focusTrapManager=n,this._document=a,this._inertStrategy=o||new Mt}create(e,t={defer:!1}){let n;return n="boolean"==typeof t?{defer:t}:t,new ft(e,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,n)}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(ge),i.LFG(i.R0b),i.LFG(Tt),i.LFG(p.K0),i.LFG(bt,8))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const yt=new i.OlP("cdk-input-modality-detector-options"),At={ignoreKeys:[18,17,224,91,16]},I=(0,_.i$)({passive:!0,capture:!0});let Dt=(()=>{class s{get mostRecentModality(){return this._modality.value}constructor(e,t,n,a){this._platform=e,this._mostRecentTarget=null,this._modality=new ze.X(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(d=>d===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,_.sA)(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function kt(s){return 0===s.buttons||0===s.offsetX&&0===s.offsetY}(o)?"keyboard":"mouse"),this._mostRecentTarget=(0,_.sA)(o))},this._onTouchstart=o=>{!function vt(s){const r=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}(o)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,_.sA)(o)):this._modality.next("keyboard")},this._options={...At,...a},this.modalityDetected=this._modality.pipe(de(1)),this.modalityChanged=this.modalityDetected.pipe(oe()),e.isBrowser&&t.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,I),n.addEventListener("mousedown",this._onMousedown,I),n.addEventListener("touchstart",this._onTouchstart,I)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,I),document.removeEventListener("mousedown",this._onMousedown,I),document.removeEventListener("touchstart",this._onTouchstart,I))}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(_.t4),i.LFG(i.R0b),i.LFG(p.K0),i.LFG(yt,8))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xt=new i.OlP("cdk-focus-monitor-default-options"),H=(0,_.i$)({passive:!0,capture:!0});let It=(()=>{class s{constructor(e,t,n,a,o){this._ngZone=e,this._platform=t,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new b.x,this._rootNodeFocusAndBlurListener=d=>{for(let u=(0,_.sA)(d);u;u=u.parentElement)"focus"===d.type?this._onFocus(d,u):this._onBlur(d,u)},this._document=a,this._detectionMode=o?.detectionMode||0}monitor(e,t=!1){const n=(0,m.fI)(e);if(!this._platform.isBrowser||1!==n.nodeType)return(0,B.of)(null);const a=(0,_.kV)(n)||this._getDocument(),o=this._elementInfo.get(n);if(o)return t&&(o.checkChildren=!0),o.subject;const d={checkChildren:t,subject:new b.x,rootNode:a};return this._elementInfo.set(n,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const t=(0,m.fI)(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const a=(0,m.fI)(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([d,c])=>this._originChanged(d,t,c)):(this._setOrigin(t),"function"==typeof a.focus&&a.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,t){e.classList.toggle("cdk-focused",!!t),e.classList.toggle("cdk-touch-focused","touch"===t),e.classList.toggle("cdk-keyboard-focused","keyboard"===t),e.classList.toggle("cdk-mouse-focused","mouse"===t),e.classList.toggle("cdk-program-focused","program"===t)}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&t,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,t){const n=this._elementInfo.get(t),a=(0,_.sA)(e);!n||!n.checkChildren&&t!==a||this._originChanged(t,this._getFocusOrigin(a),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n,null))}_emitOrigin(e,t){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,H),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,H)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ce.R)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const n=this._rootNodeFocusListenerCount.get(t);n>1?this._rootNodeFocusListenerCount.set(t,n-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,H),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,H),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,a)=>{(a===e||n.checkChildren&&a.contains(e))&&t.push([a,n])}),t}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:t,mostRecentModality:n}=this._inputModalityDetector;if("mouse"!==n||!t||t===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let o=0;o<a.length;o++)if(a[o].contains(t))return!0;return!1}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(i.R0b),i.LFG(_.t4),i.LFG(Dt),i.LFG(p.K0,8),i.LFG(xt,8))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),St=(()=>{class s{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this._focusOrigin=null,this.cdkFocusChange=new i.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>{this._focusOrigin=t,this.cdkFocusChange.emit(t)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.SBq),i.Y36(It))},s.\u0275dir=i.lG2({type:s,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),s})();const Te="cdk-high-contrast-black-on-white",Ce="cdk-high-contrast-white-on-black",j="cdk-high-contrast-active";let Et=(()=>{class s{constructor(e,t){this._platform=e,this._document=t,this._breakpointSubscription=(0,i.f3M)(it).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,a=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(j,Te,Ce),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?e.add(j,Te):2===t&&e.add(j,Ce)}}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(_.t4),i.LFG(p.K0))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),ke=(()=>{class s{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(Et))},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[$e]}),s})();var l=h(7340),C=h(6252),D=h(4080);const Ot=["nxtDateTimeCalendarBody",""],Ft=function(s,r,e){return{"nxt-dt-calendar-cell-out":s,"nxt-dt-calendar-cell-today":r,"nxt-dt-calendar-cell-selected":e}};function Lt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"td",3),i.NdJ("click",function(){const a=i.CHM(e).$implicit,o=i.oxw(2);return i.KtG(o.selectCell(a))}),i.TgZ(1,"span",4),i._uU(2),i.qZA()()}if(2&s){const e=r.$implicit,t=r.index,n=i.oxw().index,a=i.oxw();i.Gre("nxt-dt-calendar-cell ",e.cellClass,""),i.Udp("width",100/a.numCols,"%")("padding-top",50*a.cellRatio/a.numCols,"%")("padding-bottom",50*a.cellRatio/a.numCols,"%"),i.ekj("nxt-dt-calendar-cell-active",a.isActiveCell(n,t))("nxt-dt-calendar-cell-disabled",!e.enabled)("nxt-dt-calendar-cell-in-range",a.isInRange(e.value))("nxt-dt-calendar-cell-range-from",a.isRangeFrom(e.value))("nxt-dt-calendar-cell-range-to",a.isRangeTo(e.value)),i.Q6J("tabindex",a.isActiveCell(n,t)?0:-1),i.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null),i.xp6(1),i.Q6J("ngClass",i.kEZ(24,Ft,e.out,e.value===a.todayValue,a.isSelected(e.value))),i.xp6(1),i.hij(" ",e.displayValue," ")}}function Rt(s,r){if(1&s&&(i.TgZ(0,"tr",1),i.YNc(1,Lt,3,28,"td",2),i.qZA()),2&s){const e=r.$implicit;i.xp6(1),i.Q6J("ngForOf",e)}}function Vt(s,r){if(1&s&&(i.TgZ(0,"th",6)(1,"span"),i._uU(2),i.qZA()()),2&s){const e=r.$implicit;i.uIk("aria-label",e.long),i.xp6(2),i.Oqu(e.short)}}function Nt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"nxt-date-time-month-view",16),i.NdJ("pickerMomentChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.handlePickerMomentChange(n))})("selectedChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.dateSelected(n))})("userSelection",function(){i.CHM(e);const n=i.oxw();return i.KtG(n.userSelected())}),i.qZA()}if(2&s){const e=i.oxw();let t;i.Q6J("pickerMoment",e.pickerMoment)("firstDayOfWeek",e.firstDayOfWeek)("selected",e.selected)("selecteds",e.selecteds)("selectMode",null!==(t=e.selectMode)&&void 0!==t?t:"single")("min",e.min)("max",e.max)("dateFilter",e.dateFilter)("hideOtherMonths",e.hideOtherMonths)}}function Bt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"nxt-date-time-year-view",17),i.NdJ("keyboardEnter",function(){i.CHM(e);const n=i.oxw();return i.KtG(n.focusActiveCell())})("pickerMomentChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.handlePickerMomentChange(n))})("monthSelected",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.selectMonthInYearView(n))})("change",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.goToDateInView(n,"month"))}),i.qZA()}if(2&s){const e=i.oxw();let t;i.Q6J("pickerMoment",e.pickerMoment)("selected",e.selected)("selecteds",e.selecteds)("selectMode",null!==(t=e.selectMode)&&void 0!==t?t:"single")("min",e.min)("max",e.max)("dateFilter",e.dateFilter)}}function Yt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"nxt-date-time-multi-year-view",18),i.NdJ("keyboardEnter",function(){i.CHM(e);const n=i.oxw();return i.KtG(n.focusActiveCell())})("pickerMomentChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.handlePickerMomentChange(n))})("yearSelected",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.selectYearInMultiYearView(n))})("change",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.goToDateInView(n,"year"))}),i.qZA()}if(2&s){const e=i.oxw();let t;i.Q6J("pickerMoment",e.pickerMoment)("selected",e.selected)("selecteds",e.selecteds)("selectMode",null!==(t=e.selectMode)&&void 0!==t?t:"single")("min",e.min)("max",e.max)("dateFilter",e.dateFilter)}}function Pt(s,r){1&s&&i._UZ(0,"div",10)}function Ht(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"nxt-date-time-timer-box",4),i.NdJ("inputChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.setSecondValue(n))})("valueChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.setSecondValue(n))}),i.qZA()}if(2&s){const e=i.oxw();i.Q6J("showDivider",!0)("upBtnAriaLabel",e.upSecondButtonLabel)("downBtnAriaLabel",e.downSecondButtonLabel)("upBtnDisabled",!e.upSecondEnabled())("downBtnDisabled",!e.downSecondEnabled())("value",e.secondValue)("min",0)("max",59)("step",e.stepSecond)}}function Zt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"div",5)(1,"button",6),i.NdJ("click",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.setMeridiem(n))}),i.TgZ(2,"span",7),i._uU(3),i.qZA()()()}if(2&s){const e=i.oxw();i.xp6(3),i.hij(" ",e.hour12ButtonLabel," ")}}const Ut=function(){return[]};function Gt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"nxt-date-time-calendar",5),i.NdJ("pickerMomentChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.pickerMoment=n)})("yearSelected",function(n){i.CHM(e);const a=i.oxw();return i.KtG(null==a.picker?null:a.picker.selectYear(n))})("monthSelected",function(n){i.CHM(e);const a=i.oxw();return i.KtG(null==a.picker?null:a.picker.selectMonth(n))})("selectedChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.dateSelected(n))}),i.qZA()}if(2&s){const e=i.oxw();let t,n,a;i.Q6J("firstDayOfWeek",null!==(t=null==e.picker?null:e.picker.firstDayOfWeek)&&void 0!==t?t:0)("pickerMoment",e.pickerMoment)("selected",null==e.picker?null:e.picker.selected)("selecteds",null!==(n=null==e.picker?null:e.picker.selecteds)&&void 0!==n?n:i.DdM(10,Ut))("selectMode",null==e.picker?null:e.picker.selectMode)("min",null==e.picker?null:e.picker.min)("max",null==e.picker?null:e.picker.max)("dateFilter",null==e.picker?null:e.picker.dateTimeFilter)("startView",null!==(a=null==e.picker?null:e.picker.startView)&&void 0!==a?a:"month")("hideOtherMonths",!(null==e.picker||!e.picker.hideOtherMonths))}}function Kt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"nxt-date-time-timer",6),i.NdJ("selectedChange",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.timeSelected(n))}),i.qZA()}if(2&s){const e=i.oxw();let t,n,a;i.Q6J("pickerMoment",e.pickerMoment)("min",null==e.picker?null:e.picker.min)("max",null==e.picker?null:e.picker.max)("showSecondsTimer",!(null==e.picker||!e.picker.showSecondsTimer))("hour12Timer",!(null==e.picker||!e.picker.hour12Timer))("stepHour",null!==(t=null==e.picker?null:e.picker.stepHour)&&void 0!==t?t:1)("stepMinute",null!==(n=null==e.picker?null:e.picker.stepMinute)&&void 0!==n?n:1)("stepSecond",null!==(a=null==e.picker?null:e.picker.stepSecond)&&void 0!==a?a:1)}}const ve=function(s){return{"nxt-dt-container-info-active":s}};function zt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"div",7)(1,"div",8,9),i.NdJ("click",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.handleClickOnInfoGroup(n,0))})("keydown",function(n){i.CHM(e);const a=i.MAs(9),o=i.oxw();return i.KtG(o.handleKeydownOnInfoGroup(n,a,0))}),i.TgZ(3,"span",10)(4,"span",11),i._uU(5),i.qZA(),i.TgZ(6,"span",12),i._uU(7),i.qZA()()(),i.TgZ(8,"div",13,14),i.NdJ("click",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.handleClickOnInfoGroup(n,1))})("keydown",function(n){i.CHM(e);const a=i.MAs(2),o=i.oxw();return i.KtG(o.handleKeydownOnInfoGroup(n,a,1))}),i.TgZ(10,"span",10)(11,"span",11),i._uU(12),i.qZA(),i.TgZ(13,"span",12),i._uU(14),i.qZA()()()()}if(2&s){const e=i.oxw();i.xp6(1),i.Q6J("tabindex",0===e.activeSelectedIndex?0:-1)("ngClass",i.VKq(10,ve,0===e.activeSelectedIndex)),i.uIk("aria-checked",0===e.activeSelectedIndex),i.xp6(4),i.hij("",e.fromLabel,":"),i.xp6(2),i.Oqu(e.fromFormattedValue),i.xp6(1),i.Q6J("tabindex",1===e.activeSelectedIndex?0:-1)("ngClass",i.VKq(12,ve,1===e.activeSelectedIndex)),i.uIk("aria-checked",1===e.activeSelectedIndex),i.xp6(4),i.hij("",e.toLabel,":"),i.xp6(2),i.Oqu(e.toFormattedValue)}}function Wt(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"div",15)(1,"button",16),i.NdJ("click",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.onCancelClicked(n))}),i.TgZ(2,"span",17),i._uU(3),i.qZA()(),i.TgZ(4,"button",16),i.NdJ("click",function(n){i.CHM(e);const a=i.oxw();return i.KtG(a.onSetClicked(n))}),i.TgZ(5,"span",17),i._uU(6),i.qZA()()()}if(2&s){const e=i.oxw();i.xp6(3),i.hij(" ",e.cancelLabel," "),i.xp6(3),i.hij(" ",e.setLabel," ")}}function $t(s,r){}const ye=new i.OlP("NXT_DATE_TIME_LOCALE",{providedIn:"root",factory:function Jt(){return(0,i.f3M)(i.soG)}});class M{constructor(){this._localeChanges=new b.x,this.millisecondsInDay=864e5,this.milliseondsInMinute=6e4}get localeChanges(){return this._localeChanges}compare(r,e){if(!this.isValid(r)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");const t=this.clone(r),n=this.clone(e),a=this.getTime(t)-this.getTime(n);return a<0?-1:a>0?1:a}compareYear(r,e){if(!this.isValid(r)||!this.isValid(e))throw Error("JSNativeDate: Cannot compare invalid dates.");const a=this.getYear(r)-this.getYear(e);return a<0?-1:a>0?1:0}deserialize(r){return null==r||null==r||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid()}setLocale(r){this.locale=r,this._localeChanges.next()}clampDate(r,e,t){return e&&this.compare(r,e)<0?e:t&&this.compare(r,t)>0?t:r}}const v=new i.OlP("NXT_DATE_TIME_FORMATS");class X{constructor(r,e,t,n,a=!1,o=""){this.value=r,this.displayValue=e,this.ariaLabel=t,this.enabled=n,this.out=a,this.cellClass=o}}let S=(()=>{class s{get calendarBodyClass(){return!0}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}constructor(e,t){this.elmRef=e,this.ngZone=t,this.activeCell=0,this.numCols=7,this.cellRatio=1,this.select=new i.vpe}ngOnInit(){}selectCell(e){this.select.emit(e)}isActiveCell(e,t){return e*this.numCols+t===this.activeCell}isSelected(e){return!(!this.selectedValues||0===this.selectedValues.length)&&(this.isInSingleMode?e===this.selectedValues[0]:!!this.isInRangeMode&&(e===this.selectedValues[0]||e===this.selectedValues[1]))}isInRange(e){if(this.isInRangeMode){const t=this.selectedValues?.[0],n=this.selectedValues?.[1];return void 0!==t&&void 0!==n?e>=t&&e<=n:e===t||e===n}return!1}isRangeFrom(e){if(this.isInRangeMode){const t=this.selectedValues?.[0];return void 0!==t&&e===t}return!1}isRangeTo(e){if(this.isInRangeMode){const t=this.selectedValues?.[1];return void 0!==t&&e===t}return!1}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.SBq),i.Y36(i.R0b))},s.\u0275cmp=i.Xpm({type:s,selectors:[["","nxtDateTimeCalendarBody",""]],hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("nxt-dt-calendar-body",t.calendarBodyClass)},inputs:{activeCell:"activeCell",rows:"rows",numCols:"numCols",cellRatio:"cellRatio",todayValue:"todayValue",selectedValues:"selectedValues",selectMode:"selectMode"},outputs:{select:"select"},exportAs:["nxtDateTimeCalendarBody"],attrs:Ot,decls:1,vars:1,consts:[["role","row",4,"ngFor","ngForOf"],["role","row"],[3,"class","tabindex","nxt-dt-calendar-cell-active","nxt-dt-calendar-cell-disabled","nxt-dt-calendar-cell-in-range","nxt-dt-calendar-cell-range-from","nxt-dt-calendar-cell-range-to","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],[3,"tabindex","click"],[1,"nxt-dt-calendar-cell-content",3,"ngClass"]],template:function(e,t){1&e&&i.YNc(0,Rt,2,1,"tr",0),2&e&&i.Q6J("ngForOf",t.rows)},dependencies:[p.mk,p.sg],changeDetection:0}),s})(),Xt=(()=>{class s{get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){(e=(0,m.su)(e))>=0&&e<=6&&e!==this._firstDayOfWeek&&(this._firstDayOfWeek=e,this.initiated&&(this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()))}get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){const t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedDates()}get selecteds(){return this._selecteds||[]}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedDates()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){const t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),this.firstDateOfMonth=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this._pickerMoment),this.dateTimeAdapter.getMonth(this._pickerMoment),1),!this.isSameMonth(t,this._pickerMoment)&&this.initiated&&this.generateCalendar()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&(this.generateCalendar(),this.cdRef.markForCheck())}get weekdays(){return this._weekdays}get days(){return this._days}get activeCell(){if(this.pickerMoment)return this.dateTimeAdapter.getDate(this.pickerMoment)+this.firstRowOffset-1}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get calendarView(){return!0}constructor(e,t,n){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=n,this.hideOtherMonths=!1,this._firstDayOfWeek=0,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.firstRowOffset=0,this.selectedChange=new i.vpe,this.userSelection=new i.vpe,this.pickerMomentChange=new i.vpe}ngOnInit(){this.generateWeekDays(),this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateWeekDays(),this.generateCalendar(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateCalendar(),this.initiated=!0}ngOnDestroy(){this.localeSub?.unsubscribe(),this.localeSub=void 0}selectCalendarCell(e){!e.enabled||this.hideOtherMonths&&e.out||this.selectDate(e.value)}selectDate(e){const n=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,e-1);this.selectedChange.emit(n),this.userSelection.emit()}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,-7),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,7),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,1-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarDays(this.pickerMoment,this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment)-this.dateTimeAdapter.getDate(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 33:t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 34:t=e.altKey?this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1):this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 13:(!this.dateFilter||this.dateFilter(this.pickerMoment,"date"))&&this.selectDate(this.dateTimeAdapter.getDate(this.pickerMoment));break;default:return}this.focusActiveCell(),e.preventDefault()}generateWeekDays(){const e=this.dateTimeAdapter.getDayOfWeekNames("long"),t=this.dateTimeAdapter.getDayOfWeekNames("short"),n=this.dateTimeAdapter.getDayOfWeekNames("narrow"),a=this.firstDayOfWeek,o=e.map((d,c)=>({long:d,short:t[c],narrow:n[c]}));this._weekdays=o.slice(a).concat(o.slice(0,a))}generateCalendar(){if(!this.pickerMoment)return;this.todayDate=void 0;let n=0-(this.dateTimeAdapter.getDay(this.firstDateOfMonth)+(7-this.firstDayOfWeek))%7;this.firstRowOffset=Math.abs(n),this._days=[];for(let a=0;a<6;a++){const o=[];for(let d=0;d<7;d++){const c=this.dateTimeAdapter.addCalendarDays(this.firstDateOfMonth,n),u=this.createDateCell(c,n);this.dateTimeAdapter.isSameDay(this.dateTimeAdapter.now(),c)&&(this.todayDate=n+1),o.push(u),n+=1}this._days.push(o)}this.setSelectedDates()}createDateCell(e,t){const n=this.dateTimeAdapter.getNumDaysInMonth(this.pickerMoment),o=this.dateTimeAdapter.getDate(e).toString(),d=this.dateTimeAdapter.format(e,this.dateTimeFormats.dateA11yLabel),c=this.isDateEnabled(e),u=t+1,y=u<1||u>n,Fi="nxt-dt-day-"+this.dateTimeAdapter.getDay(e);return new X(u,o,d,c,y,Fi)}isDateEnabled(e){return!!e&&(!this.dateFilter||this.dateFilter(e,"date"))&&(!this.min||this.dateTimeAdapter.compare(e,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(e,this.max)<=0)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}isSameMonth(e,t){return!!(e&&t&&this.dateTimeAdapter.isValid(e)&&this.dateTimeAdapter.isValid(t)&&this.dateTimeAdapter.getYear(e)===this.dateTimeAdapter.getYear(t)&&this.dateTimeAdapter.getMonth(e)===this.dateTimeAdapter.getMonth(t))}setSelectedDates(){if(this.selectedDates=[],this.firstDateOfMonth){if(this.isInSingleMode&&this.selected){const e=this.dateTimeAdapter.differenceInCalendarDays(this.selected,this.firstDateOfMonth)??0;return void(this.selectedDates[0]=e+1)}this.isInRangeMode&&this.selecteds&&(this.selectedDates=this.selecteds.map(e=>{if(this.dateTimeAdapter.isValid(e))return(this.dateTimeAdapter.differenceInCalendarDays(e,this.firstDateOfMonth)??0)+1}))}}focusActiveCell(){this.calendarBodyElm?.focusActiveCell()}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.sBO),i.Y36(M),i.Y36(v))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time-month-view"]],viewQuery:function(e,t){if(1&e&&i.Gf(S,7),2&e){let n;i.iGM(n=i.CRH())&&(t.calendarBodyElm=n.first)}},hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("nxt-dt-calendar-view",t.calendarView)},inputs:{hideOtherMonths:"hideOtherMonths",firstDayOfWeek:"firstDayOfWeek",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",min:"min",max:"max"},outputs:{selectedChange:"selectedChange",userSelection:"userSelection",pickerMomentChange:"pickerMomentChange"},decls:7,vars:8,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-month-table"],[1,"nxt-dt-calendar-header"],[1,"nxt-dt-weekdays"],["class","nxt-dt-weekday","scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"rows","todayValue","selectedValues","selectMode","activeCell","keydown","select"],["scope","col",1,"nxt-dt-weekday"]],template:function(e,t){if(1&e&&(i.TgZ(0,"table",0)(1,"thead",1)(2,"tr",2),i.YNc(3,Vt,3,2,"th",3),i.qZA(),i.TgZ(4,"tr"),i._UZ(5,"th",4),i.qZA()(),i.TgZ(6,"tbody",5),i.NdJ("keydown",function(a){return t.handleCalendarKeydown(a)})("select",function(a){return t.selectCalendarCell(a)}),i.qZA()()),2&e){let n,a;i.ekj("nxt-dt-calendar-only-current-month",t.hideOtherMonths),i.xp6(3),i.Q6J("ngForOf",t.weekdays),i.xp6(3),i.Q6J("rows",t.days)("todayValue",null!==(n=t.todayDate)&&void 0!==n?n:void 0)("selectedValues",t.selectedDates)("selectMode",t.selectMode)("activeCell",null!==(a=t.activeCell)&&void 0!==a?a:0)}},dependencies:[p.sg,S],changeDetection:0}),s})(),V=(()=>{class s{constructor(){this.changes=new b.x,this.upSecondLabel=$localize`:@@nxt-pick-datetime.up-second:Add a second`,this.downSecondLabel=$localize`:@@nxt-pick-datetime.down-second:Minus a second`,this.upMinuteLabel=$localize`:@@nxt-pick-datetime.up-minute:Add a minute`,this.downMinuteLabel=$localize`:@@nxt-pick-datetime.down-minute:Minus a minute`,this.upHourLabel=$localize`:@@nxt-pick-datetime.up-hour:Add a hour`,this.downHourLabel=$localize`:@@nxt-pick-datetime.down-hour:Minus a hour`,this.prevMonthLabel=$localize`:@@nxt-pick-datetime.prev-month:Previous month`,this.nextMonthLabel=$localize`:@@nxt-pick-datetime.next-month:Next month`,this.prevYearLabel=$localize`:@@nxt-pick-datetime.prev-year:Previous year`,this.nextYearLabel=$localize`:@@nxt-pick-datetime.next-year:Next year`,this.prevMultiYearLabel=$localize`:@@nxt-pick-datetime.prev-multi-year:Previous 21 years`,this.nextMultiYearLabel=$localize`:@@nxt-pick-datetime.next-multi-year:Next 21 years`,this.switchToMonthViewLabel=$localize`:@@nxt-pick-datetime.switch-to-month:Change to month view`,this.switchToMultiYearViewLabel=$localize`:@@nxt-pick-datetime.switch-to-year-month:Choose month and year`,this.cancelBtnLabel=$localize`:@@nxt-pick-datetime.cancel:Cancel`,this.setBtnLabel=$localize`:@@nxt-pick-datetime.set:Set`,this.rangeFromLabel=$localize`:@@nxt-pick-datetime.from:From`,this.rangeToLabel=$localize`:@@nxt-pick-datetime.to:To`,this.hour12AMLabel=$localize`:@@nxt-pick-datetime.time-am:AM`,this.hour12PMLabel=$localize`:@@nxt-pick-datetime.time-pm:PM`}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Qt=(()=>{class s{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.setSelectedYears(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){const t=this._selected;e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.dateTimeAdapter.isSameDay(t,this._selected)||this.setSelectedYears()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.setSelectedYears()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){const t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),t&&this._pickerMoment&&!this.isSameYearList(t,this._pickerMoment)&&this.generateYearList()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&this.generateYearList()}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateYearList()}get todayYear(){return this._todayYear}get years(){return this._years}get selectedYears(){return this._selectedYears}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getYear(this._pickerMoment)%21}get tableHeader(){if(this._years&&this._years.length>0)return`${this._years[0][0].displayValue} ~ ${this._years[6][2].displayValue}`}get prevButtonLabel(){return this.pickerIntl.prevMultiYearLabel}get nextButtonLabel(){return this.pickerIntl.nextMultiYearLabel}get calendarView(){return!0}get calendarMultiYearView(){return!0}constructor(e,t,n){this.cdRef=e,this.pickerIntl=t,this.dateTimeAdapter=n,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.change=new i.vpe,this.yearSelected=new i.vpe,this.pickerMomentChange=new i.vpe,this.keyboardEnter=new i.vpe}ngOnInit(){}ngAfterContentInit(){this._todayYear=this.dateTimeAdapter.getYear(this.dateTimeAdapter.now()),this.generateYearList(),this.initiated=!0}selectCalendarCell(e){this.selectYear(e.value)}selectYear(e){this.yearSelected.emit(this.dateTimeAdapter.createDate(e,0,1));const t=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),1),n=this.dateTimeAdapter.getNumDaysInMonth(t),a=this.dateTimeAdapter.createDate(e,this.dateTimeAdapter.getMonth(this.pickerMoment),Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(a)}prevYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-21),this.generateYearList(),e.preventDefault()}nextYearList(e){this._pickerMoment=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,21),this.generateYearList(),e.preventDefault()}generateYearList(){this._years=[];const e=this.dateTimeAdapter.getYear(this._pickerMoment),t=e%21;for(let n=0;n<7;n++){const a=[];for(let o=0;o<3;o++){const c=this.createYearCell(e-t+(o+3*n));a.push(c)}this._years.push(a)}}previousEnabled(){return!this.min||!this.min||!this.isSameYearList(this._pickerMoment,this.min)}nextEnabled(){return!this.max||!this.isSameYearList(this._pickerMoment,this.max)}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-3),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,3),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,-this.dateTimeAdapter.getYear(this._pickerMoment)%21),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarYears(this._pickerMoment,21-this.dateTimeAdapter.getYear(this._pickerMoment)%21-1),this.pickerMomentChange.emit(t);break;case 33:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-210:-21),this.pickerMomentChange.emit(t);break;case 34:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?210:21),this.pickerMomentChange.emit(t);break;case 13:this.selectYear(this.dateTimeAdapter.getYear(this._pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}createYearCell(e){const t=this.dateTimeAdapter.createDate(e,0,1),n=this.dateTimeAdapter.getYearName(t),a="nxt-dt-year-"+e;return new X(e,e.toString(),n,this.isYearEnabled(e),!1,a)}setSelectedYears(){this._selectedYears=[],this.isInSingleMode&&this.selected&&(this._selectedYears[0]=this.dateTimeAdapter.getYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this._selectedYears=this.selecteds.map(e=>{if(this.dateTimeAdapter.isValid(e))return this.dateTimeAdapter.getYear(e)}))}isYearEnabled(e){if(!this.dateFilter)return!0;for(let n=this.dateTimeAdapter.createDate(e,0,1);this.dateTimeAdapter.getYear(n)==e;n=this.dateTimeAdapter.addCalendarDays(n,1))if(this.dateFilter(n,"year"))return!0;return!1}isSameYearList(e,t){return Math.floor(this.dateTimeAdapter.getYear(e)/21)===Math.floor(this.dateTimeAdapter.getYear(t)/21)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm?.focusActiveCell()}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.sBO),i.Y36(V),i.Y36(M))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time-multi-year-view"]],viewQuery:function(e,t){if(1&e&&i.Gf(S,7),2&e){let n;i.iGM(n=i.CRH())&&(t.calendarBodyElm=n.first)}},hostVars:4,hostBindings:function(e,t){2&e&&i.ekj("nxt-dt-calendar-view",t.calendarView)("nxt-dt-calendar-multi-year-view",t.calendarMultiYearView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",min:"min",max:"max"},outputs:{change:"change",yearSelected:"yearSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:14,vars:12,consts:[["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"disabled","click"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-table","nxt-dt-calendar-multi-year-table"],[1,"nxt-dt-calendar-header"],["colspan","3"],["nxtDateTimeCalendarBody","","role","grid",3,"rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode","keydown","select"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d","M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                C197.237,120.447,195.534,115.448,191.75,111.689z",2,"fill-rule","evenodd","clip-rule","evenodd"]],template:function(e,t){if(1&e&&(i.TgZ(0,"button",0),i.NdJ("click",function(a){return t.prevYearList(a)}),i.TgZ(1,"span",1),i.O4$(),i.TgZ(2,"svg",2),i._UZ(3,"path",3),i.qZA()()(),i.kcU(),i.TgZ(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),i._uU(8),i.qZA()()(),i.TgZ(9,"tbody",7),i.NdJ("keydown",function(a){return t.handleCalendarKeydown(a)})("select",function(a){return t.selectCalendarCell(a)}),i.qZA()(),i.TgZ(10,"button",0),i.NdJ("click",function(a){return t.nextYearList(a)}),i.TgZ(11,"span",1),i.O4$(),i.TgZ(12,"svg",8),i._UZ(13,"path",9),i.qZA()()()),2&e){let n;i.Q6J("disabled",!t.previousEnabled()),i.uIk("aria-label",t.prevButtonLabel),i.xp6(8),i.Oqu(t.tableHeader),i.xp6(1),i.Q6J("rows",t.years)("numCols",3)("cellRatio",3/7)("activeCell",null!==(n=t.activeCell)&&void 0!==n?n:0)("todayValue",t.todayYear)("selectedValues",t.selectedYears)("selectMode",t.selectMode),i.xp6(1),i.Q6J("disabled",!t.nextEnabled()),i.uIk("aria-label",t.nextButtonLabel)}},dependencies:[S],changeDetection:0}),s})(),ei=(()=>{class s{get selectMode(){return this._selectMode}set selectMode(e){this._selectMode=e,this.initiated&&(this.generateMonthList(),this.cdRef.markForCheck())}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e),this.setSelectedMonths()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=[],e.forEach(t=>{const n=this.dateTimeAdapter.deserialize(t);this._selecteds.push(this.getValidDate(n))}),this.setSelectedMonths()}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){const t=this._pickerMoment;e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now(),!this.hasSameYear(t,this._pickerMoment)&&this.initiated&&this.generateMonthList()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this.initiated&&this.generateMonthList()}get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDate=this.getValidDate(e),this.initiated&&this.generateMonthList()}get months(){return this._months}get activeCell(){if(this._pickerMoment)return this.dateTimeAdapter.getMonth(this._pickerMoment)}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get calendarView(){return!0}constructor(e,t,n){this.cdRef=e,this.dateTimeAdapter=t,this.dateTimeFormats=n,this._selectMode="single",this._selecteds=new Array,this.initiated=!1,this.change=new i.vpe,this.monthSelected=new i.vpe,this.pickerMomentChange=new i.vpe,this.keyboardEnter=new i.vpe,this.monthNames=this.dateTimeAdapter.getMonthNames("short")}ngOnInit(){this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.generateMonthList(),this.cdRef.markForCheck()})}ngAfterContentInit(){this.generateMonthList(),this.initiated=!0}ngOnDestroy(){this.localeSub?.unsubscribe(),this.localeSub=void 0}selectCalendarCell(e){this.selectMonth(e.value)}selectMonth(e){const t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);this.monthSelected.emit(t);const n=this.dateTimeAdapter.getNumDaysInMonth(t),a=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,Math.min(n,this.dateTimeAdapter.getDate(this.pickerMoment)),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment));this.change.emit(a)}handleCalendarKeydown(e){let t;switch(e.keyCode){case 37:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1),this.pickerMomentChange.emit(t);break;case 39:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1),this.pickerMomentChange.emit(t);break;case 38:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-3),this.pickerMomentChange.emit(t);break;case 40:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,3),this.pickerMomentChange.emit(t);break;case 36:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 35:t=this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,11-this.dateTimeAdapter.getMonth(this.pickerMoment)),this.pickerMomentChange.emit(t);break;case 33:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?-10:-1),this.pickerMomentChange.emit(t);break;case 34:t=this.dateTimeAdapter.addCalendarYears(this.pickerMoment,e.altKey?10:1),this.pickerMomentChange.emit(t);break;case 13:this.selectMonth(this.dateTimeAdapter.getMonth(this.pickerMoment)),this.keyboardEnter.emit();break;default:return}this.focusActiveCell(),e.preventDefault()}generateMonthList(){if(this.pickerMoment){this.setSelectedMonths(),this.todayMonth=this.getMonthInCurrentYear(this.dateTimeAdapter.now()),this._months=[];for(let e=0;e<4;e++){const t=[];for(let n=0;n<3;n++){const o=this.createMonthCell(n+3*e);t.push(o)}this._months.push(t)}}}createMonthCell(e){const t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1),n=this.dateTimeAdapter.format(t,this.dateTimeFormats.monthYearA11yLabel),a="nxt-dt-month-"+e;return new X(e,this.monthNames[e],n,this.isMonthEnabled(e),!1,a)}isMonthEnabled(e){for(let n=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.pickerMoment),e,1);this.dateTimeAdapter.getMonth(n)===e;n=this.dateTimeAdapter.addCalendarDays(n,1))if(n&&(!this.dateFilter||this.dateFilter(n,"month"))&&(!this.min||this.dateTimeAdapter.compare(n,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(n,this.max)<=0))return!0;return!1}getMonthInCurrentYear(e){if(this.getValidDate(e)&&this.getValidDate(this._pickerMoment)){const t=this.dateTimeAdapter.compareYear(e,this._pickerMoment);return t<0?-1:t>0?12:this.dateTimeAdapter.getMonth(e)}}setSelectedMonths(){this.selectedMonths=[],this.isInSingleMode&&this.selected&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selected)),this.isInRangeMode&&this.selecteds&&(this.selectedMonths[0]=this.getMonthInCurrentYear(this.selecteds[0]),this.selectedMonths[1]=this.getMonthInCurrentYear(this.selecteds[1]))}hasSameYear(e,t){return!(!e||!t||this.dateTimeAdapter.getYear(e)!==this.dateTimeAdapter.getYear(t))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}focusActiveCell(){this.calendarBodyElm?.focusActiveCell()}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.sBO),i.Y36(M),i.Y36(v))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time-year-view"]],viewQuery:function(e,t){if(1&e&&i.Gf(S,7),2&e){let n;i.iGM(n=i.CRH())&&(t.calendarBodyElm=n.first)}},hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("nxt-dt-calendar-view",t.calendarView)},inputs:{selectMode:"selectMode",selected:"selected",selecteds:"selecteds",pickerMoment:"pickerMoment",dateFilter:"dateFilter",min:"min",max:"max"},outputs:{change:"change",monthSelected:"monthSelected",pickerMomentChange:"pickerMomentChange",keyboardEnter:"keyboardEnter"},decls:5,vars:7,consts:[[1,"nxt-dt-calendar-table","nxt-dt-calendar-year-table"],[1,"nxt-dt-calendar-header"],["aria-hidden","true","colspan","3",1,"nxt-dt-calendar-table-divider"],["nxtDateTimeCalendarBody","","role","grid",3,"rows","numCols","cellRatio","activeCell","todayValue","selectedValues","selectMode","keydown","select"]],template:function(e,t){if(1&e&&(i.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),i._UZ(3,"th",2),i.qZA()(),i.TgZ(4,"tbody",3),i.NdJ("keydown",function(a){return t.handleCalendarKeydown(a)})("select",function(a){return t.selectCalendarCell(a)}),i.qZA()()),2&e){let n,a;i.xp6(4),i.Q6J("rows",t.months)("numCols",3)("cellRatio",3/7)("activeCell",null!==(n=t.activeCell)&&void 0!==n?n:0)("todayValue",null!==(a=t.todayMonth)&&void 0!==a?a:void 0)("selectedValues",t.selectedMonths)("selectMode",t.selectMode)}},dependencies:[S],changeDetection:0}),s})(),Ae=(()=>{class s{get min(){return this._minDate}set min(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._minDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):void 0}get max(){return this._maxDate}set max(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._maxDate=e?this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e)):void 0}get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get selected(){return this._selected}set selected(e){e=this.dateTimeAdapter.deserialize(e),this._selected=this.getValidDate(e)}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t)))}get periodButtonText(){return this.isMonthView?this.dateTimeAdapter.format(this.pickerMoment,this.dateTimeFormats.monthYearLabel):this.dateTimeAdapter.getYearName(this.pickerMoment)}get periodButtonLabel(){return this.isMonthView?this.pickerIntl.switchToMultiYearViewLabel:this.pickerIntl.switchToMonthViewLabel}get prevButtonLabel(){return"month"===this._currentView?this.pickerIntl.prevMonthLabel:"year"===this._currentView?this.pickerIntl.prevYearLabel:void 0}get nextButtonLabel(){return"month"===this._currentView?this.pickerIntl.nextMonthLabel:"year"===this._currentView?this.pickerIntl.nextYearLabel:void 0}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this.moveFocusOnNextTick=!0}get isInSingleMode(){return"single"===this.selectMode}get isInRangeMode(){return"range"===this.selectMode||"rangeFrom"===this.selectMode||"rangeTo"===this.selectMode}get showControlArrows(){return"multi-years"!==this._currentView}get isMonthView(){return"month"===this._currentView}get calendarClass(){return!0}constructor(e,t,n,a,o,d){this.elmRef=e,this.pickerIntl=t,this.ngZone=n,this.cdRef=a,this.dateTimeAdapter=o,this.dateTimeFormats=d,this.firstDayOfWeek=0,this._selecteds=new Array,this.startView="month",this.hideOtherMonths=!1,this.pickerMomentChange=new i.vpe,this.selectedChange=new i.vpe,this.userSelection=new i.vpe,this.yearSelected=new i.vpe,this.monthSelected=new i.vpe,this.dateFilterForViews=c=>!!c&&(!this.dateFilter||this.dateFilter(c,"date"))&&(!this.min||this.dateTimeAdapter.compare(c,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(c,this.max)<=0),this.moveFocusOnNextTick=!1,this.intlChangesSub=this.pickerIntl.changes.subscribe(()=>{this.cdRef.markForCheck()})}ngOnInit(){}ngAfterContentInit(){this._currentView=this.startView}ngAfterViewChecked(){this.moveFocusOnNextTick&&(this.moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this.intlChangesSub?.unsubscribe(),this.intlChangesSub=void 0}toggleViews(){this.currentView="month"==this._currentView?"multi-years":"month"}previousClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,-1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,-1),this.pickerMomentChange.emit(this.pickerMoment)}nextClicked(){this.pickerMoment=this.isMonthView?this.dateTimeAdapter.addCalendarMonths(this.pickerMoment,1):this.dateTimeAdapter.addCalendarYears(this.pickerMoment,1),this.pickerMomentChange.emit(this.pickerMoment)}dateSelected(e){this.dateFilterForViews(e)&&this.selectedChange.emit(e)}goToDateInView(e,t){this.handlePickerMomentChange(e),this.currentView=t}handlePickerMomentChange(e){this.pickerMoment=this.dateTimeAdapter.clampDate(e,this.min,this.max),this.pickerMomentChange.emit(this.pickerMoment)}userSelected(){this.userSelection.emit()}prevButtonEnabled(){return!this.min||!this.isSameView(this.pickerMoment,this.min)}nextButtonEnabled(){return!this.max||!this.isSameView(this.pickerMoment,this.max)}focusActiveCell(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{this.elmRef.nativeElement?.querySelector(".nxt-dt-calendar-cell-active")?.focus()})})}selectYearInMultiYearView(e){this.yearSelected.emit(e)}selectMonthInYearView(e){this.monthSelected.emit(e)}isSameView(e,t){return"month"===this._currentView?!(!e||!t||this.dateTimeAdapter.getYear(e)!==this.dateTimeAdapter.getYear(t)||this.dateTimeAdapter.getMonth(e)!==this.dateTimeAdapter.getMonth(t)):"year"===this._currentView&&!(!e||!t||this.dateTimeAdapter.getYear(e)!==this.dateTimeAdapter.getYear(t))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.SBq),i.Y36(V),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(M),i.Y36(v))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time-calendar"]],hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("nxt-dt-calendar",t.calendarClass)},inputs:{dateFilter:"dateFilter",firstDayOfWeek:"firstDayOfWeek",min:"min",max:"max",pickerMoment:"pickerMoment",selectMode:"selectMode",selected:"selected",selecteds:"selecteds",startView:"startView",hideOtherMonths:"hideOtherMonths"},outputs:{pickerMomentChange:"pickerMomentChange",selectedChange:"selectedChange",userSelection:"userSelection",yearSelected:"yearSelected",monthSelected:"monthSelected"},decls:21,vars:16,consts:[[1,"nxt-dt-calendar-control"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-arrow-button",3,"disabled","click"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 250.738 250.738"],["d","M96.633,125.369l95.053-94.533c7.101-7.055,7.101-18.492,0-25.546   c-7.1-7.054-18.613-7.054-25.714,0L58.989,111.689c-3.784,3.759-5.487,8.759-5.238,13.68c-0.249,4.922,1.454,9.921,5.238,13.681   l106.983,106.398c7.101,7.055,18.613,7.055,25.714,0c7.101-7.054,7.101-18.491,0-25.544L96.633,125.369z",2,"fill-rule","evenodd","clip-rule","evenodd"],[1,"nxt-dt-calendar-control-content"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-control-period-button",3,"click"],[1,"nxt-dt-control-button-arrow"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","50%","height","50%","viewBox","0 0 292.362 292.362",0,"xml","space","preserve",2,"enable-background","new 0 0 292.362 292.362"],["d","M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\n                                C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\n                                s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 250.738 250.738",0,"xml","space","preserve",2,"enable-background","new 0 0 250.738 250.738"],["d","M191.75,111.689L84.766,5.291c-7.1-7.055-18.613-7.055-25.713,0\n                    c-7.101,7.054-7.101,18.49,0,25.544l95.053,94.534l-95.053,94.533c-7.101,7.054-7.101,18.491,0,25.545\n                    c7.1,7.054,18.613,7.054,25.713,0L191.75,139.05c3.784-3.759,5.487-8.759,5.238-13.681\n                    C197.237,120.447,195.534,115.448,191.75,111.689z",2,"fill-rule","evenodd","clip-rule","evenodd"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"nxt-dt-calendar-main",3,"ngSwitch"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateFilter","hideOtherMonths","pickerMomentChange","selectedChange","userSelection",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","min","max","dateFilter","keyboardEnter","pickerMomentChange","monthSelected","change",4,"ngSwitchCase"],[3,"pickerMoment","selected","selecteds","selectMode","min","max","dateFilter","keyboardEnter","pickerMomentChange","yearSelected","change",4,"ngSwitchCase"],[3,"pickerMoment","firstDayOfWeek","selected","selecteds","selectMode","min","max","dateFilter","hideOtherMonths","pickerMomentChange","selectedChange","userSelection"],[3,"pickerMoment","selected","selecteds","selectMode","min","max","dateFilter","keyboardEnter","pickerMomentChange","monthSelected","change"],[3,"pickerMoment","selected","selecteds","selectMode","min","max","dateFilter","keyboardEnter","pickerMomentChange","yearSelected","change"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"button",1),i.NdJ("click",function(){return t.previousClicked()}),i.TgZ(2,"span",2),i.O4$(),i.TgZ(3,"svg",3),i._UZ(4,"path",4),i.qZA()()(),i.kcU(),i.TgZ(5,"div",5)(6,"button",6),i.NdJ("click",function(){return t.toggleViews()}),i.TgZ(7,"span",2),i._uU(8),i.TgZ(9,"span",7),i.O4$(),i.TgZ(10,"svg",8)(11,"g"),i._UZ(12,"path",9),i.qZA()()()()()(),i.kcU(),i.TgZ(13,"button",1),i.NdJ("click",function(){return t.nextClicked()}),i.TgZ(14,"span",2),i.O4$(),i.TgZ(15,"svg",10),i._UZ(16,"path",11),i.qZA()()()(),i.kcU(),i.TgZ(17,"div",12),i.YNc(18,Nt,1,9,"nxt-date-time-month-view",13),i.YNc(19,Bt,1,7,"nxt-date-time-year-view",14),i.YNc(20,Yt,1,7,"nxt-date-time-multi-year-view",15),i.qZA()),2&e&&(i.xp6(1),i.Udp("visibility",t.showControlArrows?"visible":"hidden"),i.Q6J("disabled",!t.prevButtonEnabled()),i.uIk("aria-label",t.prevButtonLabel),i.xp6(5),i.uIk("aria-label",t.periodButtonLabel),i.xp6(2),i.hij(" ",t.periodButtonText," "),i.xp6(1),i.Udp("transform","rotate("+(t.isMonthView?0:180)+"deg)"),i.xp6(4),i.Udp("visibility",t.showControlArrows?"visible":"hidden"),i.Q6J("disabled",!t.nextButtonEnabled()),i.uIk("aria-label",t.nextButtonLabel),i.xp6(4),i.Q6J("ngSwitch",t.currentView),i.xp6(1),i.Q6J("ngSwitchCase","month"),i.xp6(1),i.Q6J("ngSwitchCase","year"),i.xp6(1),i.Q6J("ngSwitchCase","multi-years"))},dependencies:[p.RF,p.n9,St,Qt,ei,Xt],changeDetection:0}),s})(),ti=0,De=(()=>{class s{get showSecondsTimer(){return this._showSecondsTimer}set showSecondsTimer(e){this._showSecondsTimer=(0,m.Ig)(e)}get hour12Timer(){return this._hour12Timer}set hour12Timer(e){this._hour12Timer=(0,m.Ig)(e)}get stepHour(){return this._stepHour}set stepHour(e){this._stepHour=(0,m.su)(e,1)}get stepMinute(){return this._stepMinute}set stepMinute(e){this._stepMinute=(0,m.su)(e,1)}get stepSecond(){return this._stepSecond}set stepSecond(e){this._stepSecond=(0,m.su)(e,1)}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){e=(0,m.su)(e,0),this._firstDayOfWeek=e>6||e<0?0:e}get hideOtherMonths(){return this._hideOtherMonths}set hideOtherMonths(e){this._hideOtherMonths=(0,m.Ig)(e)}get id(){return this._id}get formatString(){return"both"===this.pickerType?this.dateTimeFormats.fullPickerInput:"calendar"===this.pickerType?this.dateTimeFormats.datePickerInput:this.dateTimeFormats.timePickerInput}get disabled(){return!1}constructor(e,t){this.dateTimeAdapter=e,this.dateTimeFormats=t,this._showSecondsTimer=!1,this._hour12Timer=!1,this.startView="month",this._stepHour=1,this._stepMinute=1,this._stepSecond=1,this._firstDayOfWeek=0,this._hideOtherMonths=!1,this.dateTimeChecker=n=>!!n&&(!this.dateTimeFilter||this.dateTimeFilter(n))&&(!this.min||this.dateTimeAdapter.compare(n,this.min)>=0)&&(!this.max||this.dateTimeAdapter.compare(n,this.max)<=0),this._id="nxt-dt-picker-"+ti++}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(M),i.Y36(v))},s.\u0275dir=i.lG2({type:s,inputs:{showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",startView:"startView",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",firstDayOfWeek:"firstDayOfWeek",hideOtherMonths:"hideOtherMonths"}}),s})(),ii=(()=>{class s{transform(e,t){if(null==e||!Number.isFinite(e))return;const n=Math.floor(e);return null!=t&&Number.isFinite(t)?n.toFixed(0).padStart(Math.floor(t),"0"):n}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=i.Yjl({name:"numberFixedLen",type:s,pure:!0}),s})(),ni=(()=>{class s{get displayValue(){return this.boxValue||this.value}get timerBoxClass(){return!0}constructor(){this.showDivider=!1,this.upBtnDisabled=!1,this.downBtnDisabled=!1,this.value=0,this.min=0,this.max=0,this.step=1,this.valueChange=new i.vpe,this.inputChange=new i.vpe,this.inputStream=new b.x}ngOnInit(){this.inputStreamSub=this.inputStream.pipe(ae(500),oe()).subscribe(e=>{if(e){const t=(0,m.su)(e,0);this.updateValueViaInput(t)}})}ngOnDestroy(){this.inputStreamSub?.unsubscribe(),this.inputStreamSub=void 0}upBtnClicked(){this.updateValue(this.value+this.step)}downBtnClicked(){this.updateValue(this.value-this.step)}handleInputChange(e){this.inputStream.next(e)}updateValue(e){this.valueChange.emit(e)}updateValueViaInput(e){e>this.max||e<this.min||this.inputChange.emit(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time-timer-box"]],hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("nxt-dt-timer-box",t.timerBoxClass)},inputs:{showDivider:"showDivider",upBtnAriaLabel:"upBtnAriaLabel",upBtnDisabled:"upBtnDisabled",downBtnAriaLabel:"downBtnAriaLabel",downBtnDisabled:"downBtnDisabled",boxValue:"boxValue",value:"value",min:"min",max:"max",step:"step",inputLabel:"inputLabel"},outputs:{valueChange:"valueChange",inputChange:"inputChange"},decls:15,vars:10,consts:[["class","nxt-dt-timer-divider","aria-hidden","true",4,"ngIf"],["type","button","tabindex","-1",1,"nxt-dt-control-button","nxt-dt-control-arrow-button",3,"disabled","click"],["tabindex","-1",1,"nxt-dt-control-button-content"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 451.847 451.846",0,"xml","space","preserve","width","100%","height","100%",2,"enable-background","new 0 0 451.847 451.846"],["d","M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0\n                        L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4\n                        c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z"],[1,"nxt-dt-timer-content"],["maxlength","2",1,"nxt-dt-timer-input",3,"value","input"],["valueInput",""],[1,"nxt-hidden-accessible"],["d","M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\n                        c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\n                        c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"],["aria-hidden","true",1,"nxt-dt-timer-divider"]],template:function(e,t){if(1&e){const n=i.EpF();i.YNc(0,Pt,1,0,"div",0),i.TgZ(1,"button",1),i.NdJ("click",function(){return t.upBtnClicked()}),i.TgZ(2,"span",2),i.O4$(),i.TgZ(3,"svg",3),i._UZ(4,"path",4),i.qZA()()(),i.kcU(),i.TgZ(5,"label",5)(6,"input",6,7),i.NdJ("input",function(){i.CHM(n);const o=i.MAs(7);return i.KtG(t.handleInputChange(o.value))}),i.ALo(8,"numberFixedLen"),i.qZA(),i.TgZ(9,"span",8),i._uU(10),i.qZA()(),i.TgZ(11,"button",1),i.NdJ("click",function(){return t.downBtnClicked()}),i.TgZ(12,"span",2),i.O4$(),i.TgZ(13,"svg",3),i._UZ(14,"path",9),i.qZA()()()}2&e&&(i.Q6J("ngIf",t.showDivider),i.xp6(1),i.Q6J("disabled",t.upBtnDisabled),i.uIk("aria-label",t.upBtnAriaLabel),i.xp6(5),i.Q6J("value",i.xi3(8,7,t.displayValue,2)),i.xp6(4),i.Oqu(t.inputLabel),i.xp6(1),i.Q6J("disabled",t.downBtnDisabled),i.uIk("aria-label",t.downBtnAriaLabel))},dependencies:[p.O5,ii],changeDetection:0}),s})(),we=(()=>{class s{get pickerMoment(){return this._pickerMoment}set pickerMoment(e){e=this.dateTimeAdapter.deserialize(e),this._pickerMoment=this.getValidDate(e)||this.dateTimeAdapter.now()}get min(){return this._minDateTime}set min(e){e=this.dateTimeAdapter.deserialize(e),this._minDateTime=this.getValidDate(e)}get max(){return this._maxDateTime}set max(e){e=this.dateTimeAdapter.deserialize(e),this._maxDateTime=this.getValidDate(e)}get hourValue(){return this.dateTimeAdapter.getHours(this.pickerMoment)}get hourBoxValue(){let e=this.hourValue;return this.hour12Timer&&(0===e?(e=12,this.isPM=!1):e>0&&e<12?this.isPM=!1:12===e?this.isPM=!0:e>12&&e<24&&(e-=12,this.isPM=!0)),e}get minuteValue(){return this.dateTimeAdapter.getMinutes(this.pickerMoment)}get secondValue(){return this.dateTimeAdapter.getSeconds(this.pickerMoment)}get upHourButtonLabel(){return this.pickerIntl.upHourLabel}get downHourButtonLabel(){return this.pickerIntl.downHourLabel}get upMinuteButtonLabel(){return this.pickerIntl.upMinuteLabel}get downMinuteButtonLabel(){return this.pickerIntl.downMinuteLabel}get upSecondButtonLabel(){return this.pickerIntl.upSecondLabel}get downSecondButtonLabel(){return this.pickerIntl.downSecondLabel}get hour12ButtonLabel(){return this.isPM?this.pickerIntl.hour12PMLabel:this.pickerIntl.hour12AMLabel}get timerClass(){return!0}get timeTabIndex(){return-1}constructor(e,t,n,a,o){this.ngZone=e,this.elmRef=t,this.pickerIntl=n,this.cdRef=a,this.dateTimeAdapter=o,this.isPM=!1,this.showSecondsTimer=!1,this.hour12Timer=!1,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.selectedChange=new i.vpe}ngOnInit(){}focus(){this.ngZone.runOutsideAngular(()=>{this.ngZone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{this.elmRef.nativeElement.focus()})})}setHourValueViaInput(e){this.hour12Timer&&this.isPM&&e>=1&&e<=11?e+=12:this.hour12Timer&&!this.isPM&&12===e&&(e=0),this.setHourValue(e)}setHourValue(e){const t=this.dateTimeAdapter.setHours(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMinuteValue(e){const t=this.dateTimeAdapter.setMinutes(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setSecondValue(e){const t=this.dateTimeAdapter.setSeconds(this.pickerMoment,e);this.selectedChange.emit(t),this.cdRef.markForCheck()}setMeridiem(e){this.isPM=!this.isPM;let t=this.hourValue;this.isPM?t+=12:t-=12,t>=0&&t<=23&&this.setHourValue(t),this.cdRef.markForCheck(),e.preventDefault()}upHourEnabled(){return!this.max||this.compareHours(this.stepHour,this.max)<1}downHourEnabled(){return!this.min||this.compareHours(-this.stepHour,this.min)>-1}upMinuteEnabled(){return!this.max||this.compareMinutes(this.stepMinute,this.max)<1}downMinuteEnabled(){return!this.min||this.compareMinutes(-this.stepMinute,this.min)>-1}upSecondEnabled(){return!this.max||this.compareSeconds(this.stepSecond,this.max)<1}downSecondEnabled(){return!this.min||this.compareSeconds(-this.stepSecond,this.min)>-1}compareHours(e,t){const n=this.dateTimeAdapter.getHours(this.pickerMoment)+e,a=this.dateTimeAdapter.setHours(this.pickerMoment,n);return this.dateTimeAdapter.compare(a,t)}compareMinutes(e,t){const n=this.dateTimeAdapter.getMinutes(this.pickerMoment)+e,a=this.dateTimeAdapter.setMinutes(this.pickerMoment,n);return this.dateTimeAdapter.compare(a,t)}compareSeconds(e,t){const n=this.dateTimeAdapter.getSeconds(this.pickerMoment)+e,a=this.dateTimeAdapter.setSeconds(this.pickerMoment,n);return this.dateTimeAdapter.compare(a,t)}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(V),i.Y36(i.sBO),i.Y36(M))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time-timer"]],hostVars:3,hostBindings:function(e,t){2&e&&(i.uIk("tabindex",t.timeTabIndex),i.ekj("nxt-dt-timer",t.timerClass))},inputs:{pickerMoment:"pickerMoment",min:"min",max:"max",showSecondsTimer:"showSecondsTimer",hour12Timer:"hour12Timer",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond"},outputs:{selectedChange:"selectedChange"},decls:4,vars:20,consts:[["inputLabel","Hour",3,"upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","boxValue","value","min","max","step","inputChange","valueChange"],["inputLabel","Minute",3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputChange","valueChange"],["inputLabel","Second",3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputChange","valueChange",4,"ngIf"],["class","nxt-dt-timer-hour12",4,"ngIf"],["inputLabel","Second",3,"showDivider","upBtnAriaLabel","downBtnAriaLabel","upBtnDisabled","downBtnDisabled","value","min","max","step","inputChange","valueChange"],[1,"nxt-dt-timer-hour12"],["type","button","tabindex","0",1,"nxt-dt-control-button","nxt-dt-timer-hour12-box",3,"click"],["tabindex","-1",1,"nxt-dt-control-button-content"]],template:function(e,t){1&e&&(i.TgZ(0,"nxt-date-time-timer-box",0),i.NdJ("inputChange",function(a){return t.setHourValueViaInput(a)})("valueChange",function(a){return t.setHourValue(a)}),i.qZA(),i.TgZ(1,"nxt-date-time-timer-box",1),i.NdJ("inputChange",function(a){return t.setMinuteValue(a)})("valueChange",function(a){return t.setMinuteValue(a)}),i.qZA(),i.YNc(2,Ht,1,9,"nxt-date-time-timer-box",2),i.YNc(3,Zt,4,1,"div",3)),2&e&&(i.Q6J("upBtnAriaLabel",t.upHourButtonLabel)("downBtnAriaLabel",t.downHourButtonLabel)("upBtnDisabled",!t.upHourEnabled())("downBtnDisabled",!t.downHourEnabled())("boxValue",t.hourBoxValue)("value",t.hourValue)("min",0)("max",23)("step",t.stepHour),i.xp6(1),i.Q6J("showDivider",!0)("upBtnAriaLabel",t.upMinuteButtonLabel)("downBtnAriaLabel",t.downMinuteButtonLabel)("upBtnDisabled",!t.upMinuteEnabled())("downBtnDisabled",!t.downMinuteEnabled())("value",t.minuteValue)("min",0)("max",59)("step",t.stepMinute),i.xp6(1),i.Q6J("ngIf",t.showSecondsTimer),i.xp6(1),i.Q6J("ngIf",t.hour12Timer))},dependencies:[p.O5,ni],changeDetection:0}),s})();const xe={transformPicker:(0,l.X$)("transformPicker",[(0,l.SB)("void",(0,l.oB)({opacity:0,transform:"scale(1, 0)"})),(0,l.SB)("enter",(0,l.oB)({opacity:1,transform:"scale(1, 1)"})),(0,l.eR)("void => enter",(0,l.ru)([(0,l.IO)("@fadeInPicker",(0,l.pV)(),{optional:!0}),(0,l.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")])),(0,l.eR)("enter => void",(0,l.jt)("100ms linear",(0,l.oB)({opacity:0})))]),fadeInPicker:(0,l.X$)("fadeInPicker",[(0,l.SB)("enter",(0,l.oB)({opacity:1})),(0,l.SB)("void",(0,l.oB)({opacity:0})),(0,l.eR)("void => enter",(0,l.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let U=(()=>{class s{get pickerMoment(){return this._clamPickerMoment}set pickerMoment(e){e&&(this._clamPickerMoment=this.dateTimeAdapter.clampDate(e,this.picker?.min,this.picker?.max)),this.cdRef.markForCheck()}get pickerType(){return this.picker?.pickerType}get cancelLabel(){return this.pickerIntl.cancelBtnLabel}get setLabel(){return this.pickerIntl.setBtnLabel}get fromLabel(){return this.pickerIntl.rangeFromLabel}get toLabel(){return this.pickerIntl.rangeToLabel}get fromFormattedValue(){const e=this.picker?.selecteds[0];return e?this.dateTimeAdapter.format(e,this.picker?.formatString):""}get toFormattedValue(){const e=this.picker?.selecteds[1];return e?this.dateTimeAdapter.format(e,this.picker?.formatString):""}get showControlButtons(){return"dialog"===this.picker?.pickerMode||"calendar"!==this.picker?.pickerType&&"inline"!==this.picker?.pickerMode}get containerElm(){return this.elmRef.nativeElement}get containerClass(){return!0}get popupContainerClass(){return"popup"===this.picker?.pickerMode}get dialogContainerClass(){return"dialog"===this.picker?.pickerMode}get inlineContainerClass(){return"inline"===this.picker?.pickerMode}get containerDisabledClass(){return!!this.picker?.disabled}get containerId(){return this.picker?.id}get containerAnimation(){return"inline"===this.picker?.pickerMode?"":"enter"}constructor(e,t,n,a){this.cdRef=e,this.elmRef=t,this.pickerIntl=n,this.dateTimeAdapter=a,this.activeSelectedIndex=0,this.hidePicker$=new b.x,this.hidePickerStream=this.hidePicker$.asObservable(),this.confirmSelected$=new b.x,this.confirmSelectedStream=this.confirmSelected$.asObservable(),this.pickerOpened$=new b.x,this.pickerOpenedStream=this.pickerOpened$.asObservable()}ngOnInit(){}ngAfterContentInit(){this.initPicker()}ngAfterViewInit(){this.focusPicker()}handleContainerAnimationDone(e){"enter"===e.toState&&this.pickerOpened$.next()}dateSelected(e){let t;if(this.picker?.isInSingleMode)return t=this.dateSelectedInSingleMode(e),void(t?(this.pickerMoment=t,this.picker.select(t)):"calendar"===this.pickerType&&this.hidePicker$.next());this.picker?.isInRangeMode&&(t=this.dateSelectedInRangeMode(e),t&&(this.pickerMoment=t[this.activeSelectedIndex],this.picker.select(t)))}timeSelected(e){if(this.pickerMoment=this.dateTimeAdapter.clone(e),this.picker?.dateTimeChecker(this.pickerMoment)){if(this.picker.isInSingleMode)return void this.picker.select(this.pickerMoment);if(this.picker.isInRangeMode){const t=[...this.picker?.selecteds||[]];0===this.activeSelectedIndex&&t[1]&&1===this.dateTimeAdapter.compare(this.pickerMoment,t[1])||1===this.activeSelectedIndex&&t[0]&&-1===this.dateTimeAdapter.compare(this.pickerMoment,t[0])?(t[0]=this.pickerMoment,t[1]=this.pickerMoment):t[this.activeSelectedIndex]=this.pickerMoment,this.picker.select(t)}}}onCancelClicked(e){this.hidePicker$.next(),e.preventDefault()}onSetClicked(e){if(!this.picker?.dateTimeChecker?.(this.pickerMoment))return this.hidePicker$.next(),void e.preventDefault();this.confirmSelected$.next(e),e.preventDefault()}handleClickOnInfoGroup(e,t){this.setActiveSelectedIndex(t),e.preventDefault(),e.stopPropagation()}handleKeydownOnInfoGroup(e,t,n){switch(e.keyCode){case 40:case 39:case 38:case 37:t.focus(),this.setActiveSelectedIndex(0===n?1:0),e.preventDefault(),e.stopPropagation();break;case 32:this.setActiveSelectedIndex(n),e.preventDefault(),e.stopPropagation();break;default:return}}setActiveSelectedIndex(e){if("range"===this.picker?.selectMode&&this.activeSelectedIndex!==e){this.activeSelectedIndex=e;const t=this.picker?.selecteds[this.activeSelectedIndex];this.picker.selecteds&&t&&(this.pickerMoment=this.dateTimeAdapter.clone(t))}}initPicker(){this.pickerMoment=this.picker?.startAt||this.dateTimeAdapter.now(),this.activeSelectedIndex="rangeTo"===this.picker?.selectMode?1:0}dateSelectedInSingleMode(e){if(!this.dateTimeAdapter.isSameDay(e,this.picker?.selected))return this.updateAndCheckCalendarDate(e)}dateSelectedInRangeMode(e){let t=this.picker?.selecteds[0],n=this.picker?.selecteds[1];const a=this.updateAndCheckCalendarDate(e);if(a)return"range"===this.picker?.selectMode?this.picker.selecteds&&this.picker.selecteds.length&&!n&&t&&(this.dateTimeAdapter.differenceInCalendarDays(a,t)??0)>=0?(n=a,this.activeSelectedIndex=1):(t=a,n=void 0,this.activeSelectedIndex=0):"rangeFrom"===this.picker?.selectMode?(t=a,n&&this.dateTimeAdapter.compare(t,n)>0&&(n=void 0)):"rangeTo"===this.picker?.selectMode&&(n=a,t&&this.dateTimeAdapter.compare(t,n)>0&&(t=void 0)),[t,n]}updateAndCheckCalendarDate(e){let t;return"both"===this.picker?.pickerType?(t=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(e),this.dateTimeAdapter.getMonth(e),this.dateTimeAdapter.getDate(e),this.dateTimeAdapter.getHours(this.pickerMoment),this.dateTimeAdapter.getMinutes(this.pickerMoment),this.dateTimeAdapter.getSeconds(this.pickerMoment)),t=this.dateTimeAdapter.clampDate(t,this.picker.min,this.picker.max)):t=this.dateTimeAdapter.clone(e),this.picker?.dateTimeChecker(t)?t:void 0}focusPicker(){"inline"!==this.picker?.pickerMode&&(this.calendar?this.calendar.focusActiveCell():this.timer&&this.timer.focus())}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(V),i.Y36(M))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time-container"]],viewQuery:function(e,t){if(1&e&&(i.Gf(Ae,5),i.Gf(we,5)),2&e){let n;i.iGM(n=i.CRH())&&(t.calendar=n.first),i.iGM(n=i.CRH())&&(t.timer=n.first)}},hostVars:12,hostBindings:function(e,t){1&e&&i.WFA("@transformPicker.done",function(a){return t.handleContainerAnimationDone(a)}),2&e&&(i.uIk("id",t.containerId),i.d8E("@transformPicker",t.containerAnimation),i.ekj("nxt-dt-container",t.containerClass)("nxt-dt-popup-container",t.popupContainerClass)("nxt-dt-dialog-container",t.dialogContainerClass)("nxt-dt-inline-container",t.inlineContainerClass)("nxt-dt-container-disabled",t.containerDisabledClass))},decls:5,vars:6,consts:[[1,"nxt-dt-container-inner",3,"cdkTrapFocus"],["class","nxt-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateFilter","startView","hideOtherMonths","pickerMomentChange","yearSelected","monthSelected","selectedChange",4,"ngIf"],["class","nxt-dt-container-row",3,"pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond","selectedChange",4,"ngIf"],["role","radiogroup","class","nxt-dt-container-info nxt-dt-container-row",4,"ngIf"],["class","nxt-dt-container-buttons nxt-dt-container-row",4,"ngIf"],[1,"nxt-dt-container-row",3,"firstDayOfWeek","pickerMoment","selected","selecteds","selectMode","min","max","dateFilter","startView","hideOtherMonths","pickerMomentChange","yearSelected","monthSelected","selectedChange"],[1,"nxt-dt-container-row",3,"pickerMoment","min","max","showSecondsTimer","hour12Timer","stepHour","stepMinute","stepSecond","selectedChange"],["role","radiogroup",1,"nxt-dt-container-info","nxt-dt-container-row"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-from",3,"tabindex","ngClass","click","keydown"],["from",""],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-container-range-content"],[1,"nxt-dt-container-info-label"],[1,"nxt-dt-container-info-value"],["role","radio",1,"nxt-dt-control","nxt-dt-container-range","nxt-dt-container-to",3,"tabindex","ngClass","click","keydown"],["to",""],[1,"nxt-dt-container-buttons","nxt-dt-container-row"],["type","button","tabindex","0",1,"nxt-dt-control","nxt-dt-control-button","nxt-dt-container-control-button",3,"click"],["tabindex","-1",1,"nxt-dt-control-content","nxt-dt-control-button-content"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,Gt,1,11,"nxt-date-time-calendar",1),i.YNc(2,Kt,1,8,"nxt-date-time-timer",2),i.YNc(3,zt,15,14,"div",3),i.YNc(4,Wt,7,2,"div",4),i.qZA()),2&e&&(i.Q6J("cdkTrapFocus","inline"!==(null==t.picker?null:t.picker.pickerMode))("@fadeInPicker","inline"===(null==t.picker?null:t.picker.pickerMode)?"":"enter"),i.xp6(1),i.Q6J("ngIf","both"===t.pickerType||"calendar"===t.pickerType),i.xp6(1),i.Q6J("ngIf","both"===t.pickerType||"timer"===t.pickerType),i.xp6(1),i.Q6J("ngIf",null==t.picker?null:t.picker.isInRangeMode),i.xp6(1),i.Q6J("ngIf",t.showControlButtons))},dependencies:[p.mk,p.O5,_t,we,Ae],data:{animation:[xe.transformPicker,xe.fadeInPicker]},changeDetection:0}),s})();const si={provide:k.JU,useExisting:(0,i.Gpc)(()=>ri),multi:!0};let ri=(()=>{class s extends De{get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=(0,m.Ig)(e)}get selectMode(){return this._selectMode}set selectMode(e){if("single"!==e&&"range"!==e&&"rangeFrom"!==e&&"rangeTo"!==e)throw Error("DateTime Error: invalid selectMode value!");this._selectMode=e}get startAt(){return this._startAt?this._startAt:"single"===this.selectMode?this.value:"range"===this.selectMode||"rangeFrom"===this.selectMode?this.values?.[0]:"rangeTo"===this.selectMode?this.values?.[1]:void 0}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get dateTimeFilter(){return this._dateTimeFilter}set dateTimeFilter(e){this._dateTimeFilter=e}get min(){return this._min}set min(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get max(){return this._max}set max(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.changeDetector.markForCheck()}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),e=this.getValidDate(e),this._value=e,this.selected=e}get values(){return this._values}set values(e){e&&e.length>0?(e=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),(t=this.getValidDate(t))&&this.dateTimeAdapter.clone(t))),this._values=[...e],this.selecteds=[...e]):(this._values=[],this.selecteds=[])}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get opened(){return!0}get pickerMode(){return"inline"}get isInSingleMode(){return"single"===this._selectMode}get isInRangeMode(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode}get inlineClass(){return!0}constructor(e,t,n){super(t,n),this.changeDetector=e,this._pickerType="both",this._disabled=!1,this._selectMode="single",this.yearSelected=new i.vpe,this.monthSelected=new i.vpe,this._selecteds=new Array}ngOnInit(){this.container&&(this.container.picker=this)}writeValue(e){e=e??void 0,this.isInSingleMode?(this.value=e,this.container&&(this.container.pickerMoment=e)):(this.values=e,this.container&&(this.container.pickerMoment=this._values?.[this.container.activeSelectedIndex]))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}select(e){this.disabled||(Array.isArray(e)?this.values=[...e]:this.value=e,this.onModelChange?.(e),this.onModelTouched?.())}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.sBO),i.Y36(M),i.Y36(v))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time-inline"]],viewQuery:function(e,t){if(1&e&&i.Gf(U,7),2&e){let n;i.iGM(n=i.CRH())&&(t.container=n.first)}},hostVars:2,hostBindings:function(e,t){2&e&&i.ekj("nxt-dt-inline",t.inlineClass)},inputs:{pickerType:"pickerType",disabled:"disabled",selectMode:"selectMode",startAt:"startAt",dateTimeFilter:"dateTimeFilter",min:"min",max:"max",value:"value",values:"values"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected"},features:[i._Bn([si]),i.qOj],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"nxt-date-time-container")},dependencies:[U],changeDetection:0}),s})();const ai={provide:k.JU,useExisting:(0,i.Gpc)(()=>ee),multi:!0},oi={provide:k.Cf,useExisting:(0,i.Gpc)(()=>ee),multi:!0};let ee=(()=>{class s{set dateTime(e){this.registerDateTimePicker(e)}set dateTimeFilter(e){this._dateTimeFilter=e,this.validatorOnChange?.()}get dateTimeFilter(){return this._dateTimeFilter}get disabled(){return this._disabled}set disabled(e){const t=(0,m.Ig)(e),n=this.elmRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.disabledChange.emit(t)),t&&n.blur?.()}get min(){return this._min}set min(e){this._min=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange?.()}get max(){return this._max}set max(e){this._max=this.getValidDate(this.dateTimeAdapter.deserialize(e)),this.validatorOnChange?.()}get selectMode(){return this._selectMode}set selectMode(e){if("single"!==e&&"range"!==e&&"rangeFrom"!==e&&"rangeTo"!==e)throw Error("DateTime Error: invalid selectMode value!");this._selectMode=e}get value(){return this._value}set value(e){e=this.dateTimeAdapter.deserialize(e),this.lastValueValid=!e||!!this.dateTimeAdapter.isValid(e),e=this.getValidDate(e);const t=this._value;this._value=e,this.formatNativeInputValue(),this.dateTimeAdapter.isEqual(t,e)||this.valueChange.emit(e)}get values(){return this._values}set values(e){e&&e.length>0?(this._values=e.map(t=>(t=this.dateTimeAdapter.deserialize(t),this.getValidDate(t))),this.lastValueValid=(!this._values[0]||this.dateTimeAdapter.isValid(this._values[0]))&&(!this._values[1]||this.dateTimeAdapter.isValid(this._values[1]))):(this._values=[],this.lastValueValid=!0),this.formatNativeInputValue(),this.valueChange.emit(this._values)}get elementRef(){return this.elmRef}get isInSingleMode(){return"single"===this._selectMode}get isInRangeMode(){return"range"===this._selectMode||"rangeFrom"===this._selectMode||"rangeTo"===this._selectMode}get inputAriaHaspopup(){return!0}get inputAriaOwns(){return this.dtPicker?.opened&&this.dtPicker.id||void 0}get minIso8601(){return this.min?this.dateTimeAdapter.toIso8601(this.min):void 0}get maxIso8601(){return this.max?this.dateTimeAdapter.toIso8601(this.max):void 0}get inputDisabled(){return this.disabled}constructor(e,t,n,a){this.elmRef=e,this.renderer=t,this.dateTimeAdapter=n,this.dateTimeFormats=a,this._disabled=!1,this._selectMode="single",this.rangeSeparator="~",this._values=[],this.dateTimeChange=new i.vpe,this.dateTimeInput=new i.vpe,this.lastValueValid=!0,this.parseValidator=()=>this.lastValueValid?null:{dateTimeParse:{text:this.elmRef.nativeElement.value}},this.minValidator=o=>{if(this.isInSingleMode){const d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.min||!d||this.dateTimeAdapter.compare(this.min,d)<=0?null:{dateTimeMin:{min:this.min,actual:d}}}if(this.isInRangeMode&&o.value){const d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),c=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.min||!d||!c||this.dateTimeAdapter.compare(this.min,d)<=0?null:{dateTimeMin:{min:this.min,actual:[d,c]}}}return null},this.maxValidator=o=>{if(this.isInSingleMode){const d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return!this.max||!d||this.dateTimeAdapter.compare(this.max,d)>=0?null:{dateTimeMax:{max:this.max,actual:d}}}if(this.isInRangeMode&&o.value){const d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),c=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!this.max||!d||!c||this.dateTimeAdapter.compare(this.max,c)>=0?null:{dateTimeMax:{max:this.max,actual:[d,c]}}}return null},this.filterValidator=o=>{const d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value));return this._dateTimeFilter&&d&&!this._dateTimeFilter(d)?{dateTimeFilter:!0}:null},this.rangeValidator=o=>{if(this.isInSingleMode||!o.value)return null;const d=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[0])),c=this.getValidDate(this.dateTimeAdapter.deserialize(o.value[1]));return!d||!c||this.dateTimeAdapter.compare(d,c)<=0?null:{dateTimeRange:!0}},this.validator=k.kI.compose([this.parseValidator,this.minValidator,this.maxValidator,this.filterValidator,this.rangeValidator]),this.valueChange=new i.vpe,this.disabledChange=new i.vpe,this.localeSub=this.dateTimeAdapter.localeChanges.subscribe(()=>{this.value=this.value})}ngOnInit(){if(!this.dtPicker)throw Error("DateTimePicker: the picker input doesn't have any associated nxt-date-time component")}ngAfterContentInit(){this.dtPickerSub=this.dtPicker?.confirmSelectedChange.subscribe(e=>{Array.isArray(e)?this.values=e:this.value=e,this.onModelChange?.(e),this.onModelTouched?.(),this.dateTimeChange.emit({source:this,value:e,input:this.elmRef.nativeElement}),this.dateTimeInput.emit({source:this,value:e,input:this.elmRef.nativeElement})})}ngOnDestroy(){this.dtPickerSub?.unsubscribe(),this.dtPickerSub=void 0,this.localeSub?.unsubscribe(),this.localeSub=void 0,this.valueChange.complete(),this.disabledChange.complete()}writeValue(e){e=e??void 0,this.isInSingleMode?this.value=e:this.values=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.validator?this.validator(e):null}registerOnValidatorChange(e){this.validatorOnChange=e}handleKeydownOnHost(e){e.altKey&&40===e.keyCode&&(this.dtPicker?.open(),e.preventDefault())}handleBlurOnHost(e){this.onModelTouched?.()}handleInputOnHost(e){const t=e.target.value;"single"===this._selectMode?this.changeInputInSingleMode(t):"range"===this._selectMode?this.changeInputInRangeMode(t):this.changeInputInRangeFromToMode(t)}handleChangeOnHost(e){let t;this.isInSingleMode?t=this.value:this.isInRangeMode&&(t=this.values),this.dateTimeChange.emit({source:this,value:t,input:this.elmRef.nativeElement})}formatNativeInputValue(){if(this.isInSingleMode)this.renderer.setProperty(this.elmRef.nativeElement,"value",this._value?this.dateTimeAdapter.format(this._value,this.dtPicker?.formatString):"");else if(this.isInRangeMode)if(this._values&&this.values.length>0){const e=this._values[0],t=this._values[1],n=e?this.dateTimeAdapter.format(e,this.dtPicker?.formatString):"",a=t?this.dateTimeAdapter.format(t,this.dtPicker?.formatString):"";n||a?"range"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n+" "+this.rangeSeparator+" "+a):"rangeFrom"===this._selectMode?this.renderer.setProperty(this.elmRef.nativeElement,"value",n):"rangeTo"===this._selectMode&&this.renderer.setProperty(this.elmRef.nativeElement,"value",a):this.renderer.setProperty(this.elmRef.nativeElement,"value",void 0)}else this.renderer.setProperty(this.elmRef.nativeElement,"value","")}registerDateTimePicker(e){e&&(this.dtPicker=e,this.dtPicker.registerInput(this))}getValidDate(e){return this.dateTimeAdapter.isDateInstance(e)&&this.dateTimeAdapter.isValid(e)?e:void 0}convertTimeStringToDateTimeString(e,t){if(e){const n=t||this.dateTimeAdapter.now();return this.dateTimeAdapter.format(n,this.dateTimeFormats.datePickerInput)+" "+e}}changeInputInSingleMode(e){let t=e;"timer"===this.dtPicker?.pickerType&&(t=this.convertTimeStringToDateTimeString(t,this.value));let n=this.dateTimeAdapter.parse(t,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),(!this.isSameValue(n,this._value)||void 0===n)&&(this._value=n,this.valueChange.emit(n),this.onModelChange?.(n),this.dateTimeInput.emit({source:this,value:n,input:this.elmRef.nativeElement}))}changeInputInRangeFromToMode(e){"timer"===this.dtPicker?.pickerType&&(e=this.convertTimeStringToDateTimeString(e,"rangeFrom"===this._selectMode?this._values[0]:this._values[1]));let n=this.dateTimeAdapter.parse(e,this.dateTimeFormats.parseInput);this.lastValueValid=!n||this.dateTimeAdapter.isValid(n),n=this.getValidDate(n),!("rangeFrom"===this._selectMode&&this.isSameValue(n,this._values[0])&&n||"rangeTo"===this._selectMode&&this.isSameValue(n,this._values[1])&&n)&&(this._values="rangeFrom"===this._selectMode?[n,this._values[1]]:[this._values[0],n],this.valueChange.emit(this._values),this.onModelChange?.(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}changeInputInRangeMode(e){const t=e.split(this.rangeSeparator);let n=t[0],a=t[1];"timer"===this.dtPicker?.pickerType&&(n=this.convertTimeStringToDateTimeString(n,this.values[0]),a=this.convertTimeStringToDateTimeString(a,this.values[1]));let o=this.dateTimeAdapter.parse(n,this.dateTimeFormats.parseInput),d=this.dateTimeAdapter.parse(a,this.dateTimeFormats.parseInput);this.lastValueValid=(!o||this.dateTimeAdapter.isValid(o))&&(!d||this.dateTimeAdapter.isValid(d)),o=this.getValidDate(o),d=this.getValidDate(d),(!this.isSameValue(o,this._values[0])||!this.isSameValue(d,this._values[1])||!o&&!d)&&(this._values=[o,d],this.valueChange.emit(this._values),this.onModelChange?.(this._values),this.dateTimeInput.emit({source:this,value:this._values,input:this.elmRef.nativeElement}))}isSameValue(e,t){return e&&t?0===this.dateTimeAdapter.compare(e,t):e==t}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(M),i.Y36(v))},s.\u0275dir=i.lG2({type:s,selectors:[["input","nxtDateTime",""]],hostVars:5,hostBindings:function(e,t){1&e&&i.NdJ("keydown",function(a){return t.handleKeydownOnHost(a)})("blur",function(a){return t.handleBlurOnHost(a)})("input",function(a){return t.handleInputOnHost(a)})("change",function(a){return t.handleChangeOnHost(a)}),2&e&&(i.Ikx("disabled",t.inputDisabled),i.uIk("aria-haspopup",t.inputAriaHaspopup)("aria-owns",t.inputAriaOwns)("min",t.minIso8601)("max",t.maxIso8601))},inputs:{dateTime:["nxtDateTime","dateTime"],dateTimeFilter:"dateTimeFilter",_disabled:"_disabled",min:"min",max:"max",selectMode:"selectMode",rangeSeparator:"rangeSeparator",value:"value",values:"values"},outputs:{dateTimeChange:"dateTimeChange",dateTimeInput:"dateTimeInput"},exportAs:["nxtDateTimeInput"],features:[i._Bn([ai,oi])]}),s})(),di=(()=>{class s{get disabled(){return this._disabled??!!this.dtPicker?.disabled}set disabled(e){this._disabled=e}get triggerDisabledClass(){return this.disabled}constructor(e){this.changeDetector=e}ngOnInit(){}ngOnChanges(e){"datepicker"in e&&this.watchStateChanges()}ngAfterContentInit(){this.watchStateChanges()}ngOnDestroy(){this.stateChanges?.unsubscribe(),this.stateChanges=void 0}handleClickOnHost(e){this.dtPicker&&(this.dtPicker.open(),e.stopPropagation())}watchStateChanges(){this.stateChanges?.unsubscribe(),this.stateChanges=void 0;const e=this.dtPicker&&this.dtPicker.dtInput?this.dtPicker.dtInput.disabledChange:(0,B.of)(),t=this.dtPicker?this.dtPicker.disabledChange:(0,B.of)();this.stateChanges=(0,ie.T)(t,e).subscribe(()=>{this.changeDetector.markForCheck()})}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.sBO))},s.\u0275dir=i.lG2({type:s,selectors:[["","nxtDateTimeTrigger",""]],hostVars:2,hostBindings:function(e,t){1&e&&i.NdJ("click",function(a){return t.handleClickOnHost(a)}),2&e&&i.ekj("nxt-dt-trigger-disabled",t.triggerDisabledClass)},inputs:{dtPicker:["nxtDateTimeTrigger","dtPicker"],disabled:"disabled"},features:[i.TTD]}),s})(),ci=0;class li{constructor(){this.autoFocus=!0,this.hasBackdrop=!0,this.disableClose=!1,this.role="dialog",this.paneClass="",this.backdropClass="",this.closeOnNavigation=!0,this.width="",this.height="",this.maxWidth="85vw",this.scrollStrategy=new C.RZ,this.id="nxt-dialog-"+ci++}}class Ie{constructor(r,e,t,n){this.overlayRef=r,this.container=e,this.id=t,this._beforeClose$=new b.x,this._afterOpen$=new b.x,this._afterClosed$=new b.x,this.disableClose=!!this.container.config?.disableClose,this.container.animationStateChanged.pipe((0,w.h)(a=>"done"===a.phaseName&&"enter"===a.toState),(0,T.q)(1)).subscribe(()=>{this._afterOpen$.next(void 0),this._afterOpen$.complete()}),this.container.animationStateChanged.pipe((0,w.h)(a=>"done"===a.phaseName&&"exit"===a.toState),(0,T.q)(1)).subscribe(()=>{this.overlayRef.dispose(),this.locationChanged?.unsubscribe(),this.locationChanged=void 0,this._afterClosed$.next(this.result),this._afterClosed$.complete(),this.componentInstance=void 0}),this.overlayRef.keydownEvents().pipe((0,w.h)(a=>27===a.keyCode&&!this.disableClose)).subscribe(()=>this.close()),n&&(this.locationChanged=n.subscribe(()=>{this.container.config?.closeOnNavigation&&this.close()}))}close(r){this.result=r,this.container.animationStateChanged.pipe((0,w.h)(e=>"start"===e.phaseName),(0,T.q)(1)).subscribe(()=>{this._beforeClose$.next(r),this._beforeClose$.complete(),this.overlayRef.detachBackdrop()}),this.container.startExitAnimation()}backdropClick(){return this.overlayRef.backdropClick()}keydownEvents(){return this.overlayRef.keydownEvents()}updatePosition(r){const e=this.getPositionStrategy();return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this.overlayRef.updatePosition(),this}updateSize(r="auto",e="auto"){return this.overlayRef.updateSize({width:r,height:e}),this.overlayRef.updatePosition(),this}isAnimating(){return this.container.isAnimating}afterOpen(){return this._afterOpen$.asObservable()}beforeClose(){return this._beforeClose$.asObservable()}afterClosed(){return this._afterClosed$.asObservable()}getPositionStrategy(){return this.overlayRef.getConfig().positionStrategy}}const ui={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})"},mi={opacity:0,transform:"translateX({{ x }}) translateY({{ y }}) scale({{scale}})",transformOrigin:"{{ ox }} {{ oy }}"};let Se=(()=>{class s extends D.en{get config(){return this._config}get dialogContainerClass(){return!0}get dialogContainerTabIndex(){return-1}get dialogContainerId(){return this._config?.id}get dialogContainerRole(){return this._config?.role}get dialogContainerAriaLabelledby(){return this.ariaLabelledBy}get dialogContainerAriaDescribedby(){return this._config?.ariaDescribedBy}get dialogContainerAnimation(){return{value:this.state,params:this.params}}constructor(e,t,n,a){super(),this.changeDetector=e,this.elementRef=t,this.focusTrapFactory=n,this.document=a,this.animationStateChanged=new i.vpe,this.isAnimating=!1,this.state="enter",this.params={x:"0px",y:"0px",ox:"50%",oy:"50%",scale:0}}ngOnInit(){}attachComponentPortal(e){if(this.portalOutlet?.hasAttached())throw Error("Attempting to attach dialog content after content is already attached");return this.savePreviouslyFocusedElement(),this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){throw new Error("Method not implemented.")}setConfig(e){this._config=e,e.event&&this.calculateZoomOrigin(e.event)}onAnimationStart(e){this.isAnimating=!0,this.animationStateChanged.emit(e)}onAnimationDone(e){"enter"===e.toState?this.trapFocus():"exit"===e.toState&&this.restoreFocus(),this.animationStateChanged.emit(e),this.isAnimating=!1}startExitAnimation(){this.state="exit",this.changeDetector.markForCheck()}calculateZoomOrigin(e){if(!e)return;const t=e.clientX,n=e.clientY,a=window.innerWidth/2,c=n-window.innerHeight/2,u=t/window.innerWidth,y=n/window.innerHeight;this.params.x=t-a+"px",this.params.y=`${c}px`,this.params.ox=100*u+"%",this.params.oy=100*y+"%",this.params.scale=0}savePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeDialogWasOpened=this.document.activeElement,Promise.resolve().then(()=>this.elementRef.nativeElement.focus()).catch(()=>{}))}trapFocus(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this._config?.autoFocus&&this.focusTrap?.focusInitialElementWhenReady().catch(()=>{})}restoreFocus(){const e=this.elementFocusedBeforeDialogWasOpened;e&&"function"==typeof e.focus&&e.focus(),this.focusTrap&&(this.focusTrap.destroy(),this.focusTrap=void 0)}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(Ct),i.Y36(p.K0,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-dialog-container"]],viewQuery:function(e,t){if(1&e&&i.Gf(D.Pl,7),2&e){let n;i.iGM(n=i.CRH())&&(t.portalOutlet=n.first)}},hostVars:8,hostBindings:function(e,t){1&e&&i.WFA("@slideModal.start",function(a){return t.onAnimationStart(a)})("@slideModal.done",function(a){return t.onAnimationDone(a)}),2&e&&(i.uIk("tabindex",t.dialogContainerTabIndex)("id",t.dialogContainerId)("role",t.dialogContainerRole)("aria-labelledby",t.dialogContainerAriaLabelledby)("aria-describedby",t.dialogContainerAriaDescribedby),i.d8E("@slideModal",t.dialogContainerAnimation),i.ekj("nxt-dialog-container",t.dialogContainerClass))},features:[i.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&i.YNc(0,$t,0,0,"ng-template",0)},dependencies:[D.Pl],encapsulation:2,data:{animation:[(0,l.X$)("slideModal",[(0,l.eR)("void => enter",[(0,l.oB)(mi),(0,l.jt)("300ms cubic-bezier(0.35, 0, 0.25, 1)",(0,l.oB)("*")),(0,l.jt)("150ms",(0,l.F4)([(0,l.oB)({transform:"scale(1)",offset:0}),(0,l.oB)({transform:"scale(1.05)",offset:.3}),(0,l.oB)({transform:"scale(.95)",offset:.8}),(0,l.oB)({transform:"scale(1)",offset:1})])),(0,l.pV)()],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%",scale:1}}),(0,l.eR)("enter => exit",[(0,l.pV)(),(0,l.jt)(200,(0,l.oB)(ui))],{params:{x:"0px",y:"0px",ox:"50%",oy:"50%"}})])]}}),s})();const pi=new i.OlP("NXT_DIALOG_DATA"),Ee=new i.OlP("NXT_DIALOG_SCROLL_STRATEGY"),_i={provide:Ee,deps:[C.aV],useFactory:function gi(s){return()=>s.scrollStrategies.block()}},fi=new i.OlP("NXT_DIALOG_DEFAULT_OPTIONS");let Oe=(()=>{class s{get openDialogs(){return this.parentDialog?this.parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpen(){return this.parentDialog?this.parentDialog.afterOpen:this._afterOpenAtThisLevel}get _afterAllClosed(){const e=this.parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}constructor(e,t,n,a,o,d,c){this.overlay=e,this.injector=t,this.location=n,this.defaultOptions=o,this.parentDialog=d,this.overlayContainer=c,this.ariaHiddenElements=new Map,this._openDialogsAtThisLevel=[],this._afterOpenAtThisLevel=new b.x,this._afterAllClosedAtThisLevel=new b.x,this.afterAllClosed=(0,Re.P)(()=>this._openDialogsAtThisLevel.length?this._afterAllClosed:(0,B.of)([void 0],this._afterAllClosed).pipe((0,Ke.u)())),this.scrollStrategy=a,!d&&n&&n.subscribe(()=>this.closeAll())}open(e,t){if(t=function bi(s,r){return function hi(s,...r){if(null==s||null==s)throw TypeError("Cannot convert undefined or null to object");for(const e of r)if(null!=e&&null!=e)for(const t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s}(new li,s,r)}(t,this.defaultOptions),t.id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const n=this.createOverlay(t),a=this.attachDialogContainer(n,t),o=this.attachDialogContent(e,a,n,t);return this.openDialogs.length||this.hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this.removeOpenDialog(o)),this.afterOpen.next(o),o}closeAll(){let e=this.openDialogs.length;for(;e--;)this.openDialogs[e].close()}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}attachDialogContent(e,t,n,a){const o=new Ie(n,t,a.id,this.location);if(a.hasBackdrop&&n.backdropClick().subscribe(()=>{o.disableClose||o.close()}),!(e instanceof i.Rgc)){const d=this.createInjector(a,o,t),c=t.attachComponentPortal(new D.C5(e,void 0,d));o.componentInstance=c.instance}return o.updateSize(a.width,a.height).updatePosition(a.position),o}createInjector(e,t,n){return i.zs3.create({providers:[{provide:Ie,useValue:t},{provide:Se,useValue:n},{provide:pi,useValue:e.data}],parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this.injector})}createOverlay(e){const t=this.getOverlayConfig(e);return this.overlay.create(t)}attachDialogContainer(e,t){const n=new D.C5(Se,t.viewContainerRef),a=e.attach(n);return a.instance.setConfig(t),a.instance}getOverlayConfig(e){const t=new C.X_({positionStrategy:this.overlay.position().global(),scrollStrategy:e.scrollStrategy||this.scrollStrategy(),panelClass:e.paneClass,hasBackdrop:e.hasBackdrop,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}removeOpenDialog(e){const t=this._openDialogsAtThisLevel.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this.ariaHiddenElements.forEach((n,a)=>{n?a.setAttribute("aria-hidden",n):a.removeAttribute("aria-hidden")}),this.ariaHiddenElements.clear(),this._afterAllClosed.next()))}hideNonDialogContentFromAssistiveTechnology(){const e=this.overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){const a=t[n];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this.ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(C.aV),i.LFG(i.zs3),i.LFG(p.Ye,8),i.LFG(Ee),i.LFG(fi,8),i.LFG(s,12),i.LFG(C.Xj))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})();const Fe=new i.OlP("NXT_DTPICKER_SCROLL_STRATEGY"),Ti={provide:Fe,deps:[C.aV],useFactory:function Mi(s){return()=>s.scrollStrategies.block()}};let Ci=(()=>{class s extends De{get startAt(){if(this._startAt)return this._startAt;if(this._dtInput){if("single"===this._dtInput.selectMode)return this._dtInput.value;if("range"===this._dtInput.selectMode||"rangeFrom"===this._dtInput.selectMode)return this._dtInput.values[0];if("rangeTo"===this._dtInput.selectMode)return this._dtInput.values[1]}}set startAt(e){this._startAt=this.getValidDate(this.dateTimeAdapter.deserialize(e))}get pickerType(){return this._pickerType}set pickerType(e){e!==this._pickerType&&(this._pickerType=e,this._dtInput&&this._dtInput.formatNativeInputValue())}get pickerMode(){return this._pickerMode}set pickerMode(e){this._pickerMode="popup"===e?e:"dialog"}get disabled(){return this._disabled??!!this._dtInput?.disabled}set disabled(e){(e=(0,m.Ig)(e))!==this._disabled&&(this._disabled=e,this.disabledChange.next(e))}get opened(){return this._opened}set opened(e){e?this.open():this.close()}get dtInput(){return this._dtInput}get selected(){return this._selected}set selected(e){this._selected=e,this.changeDetector.markForCheck()}get selecteds(){return this._selecteds||[]}set selecteds(e){this._selecteds=e,this.changeDetector.markForCheck()}get min(){return this._dtInput&&this._dtInput.min}get max(){return this._dtInput&&this._dtInput.max}get dateTimeFilter(){return this._dtInput?.dateTimeFilter}get selectMode(){return this._dtInput?.selectMode}get isInSingleMode(){return!!this._dtInput?.isInSingleMode}get isInRangeMode(){return!!this._dtInput?.isInRangeMode}constructor(e,t,n,a,o,d,c,u,y){super(d,u),this.overlay=e,this.viewContainerRef=t,this.dialogService=n,this.ngZone=a,this.changeDetector=o,this.defaultScrollStrategy=c,this.document=y,this.backdropClass=[],this.panelClass=[],this._pickerType="both",this._pickerMode="popup",this._opened=!1,this.afterPickerClosed=new i.vpe,this.afterPickerOpen=new i.vpe,this.yearSelected=new i.vpe,this.monthSelected=new i.vpe,this.confirmSelectedChange=new i.vpe,this.disabledChange=new i.vpe,this._selecteds=new Array}ngOnInit(){}ngOnDestroy(){this.close(),this.dtInputSub?.unsubscribe(),this.dtInputSub=void 0,this.disabledChange.complete(),this.popupRef&&this.popupRef.dispose()}registerInput(e){if(this._dtInput)throw Error("A Nxt DateTimePicker can only be associated with a single input.");this._dtInput=e,this.dtInputSub=this._dtInput.valueChange.subscribe(t=>{Array.isArray(t)?this.selecteds=t:this.selected=t})}open(){if(!this._opened&&!this.disabled){if(!this._dtInput)throw Error("Attempted to open an DateTimePicker with no associated input.");this.document&&(this.focusedElementBeforeOpen=this.document.activeElement),this.isInSingleMode?this.selected=this._dtInput.value:this.isInRangeMode&&(this.selecteds=this._dtInput.values),this.selected&&"calendar"!==this.pickerType&&this._startAt&&(this.selected=this.dateTimeAdapter.createDate(this.dateTimeAdapter.getYear(this.selected),this.dateTimeAdapter.getMonth(this.selected),this.dateTimeAdapter.getDate(this.selected),this.dateTimeAdapter.getHours(this._startAt),this.dateTimeAdapter.getMinutes(this._startAt),this.dateTimeAdapter.getSeconds(this._startAt))),"dialog"===this.pickerMode?this.openAsDialog():this.openAsPopup(),this.pickerContainer&&(this.pickerContainer.picker=this),this.hidePickerStreamSub=this.pickerContainer?.hidePickerStream.subscribe(()=>{this.close()}),this.confirmSelectedStreamSub=this.pickerContainer?.confirmSelectedStream.subscribe(e=>{this.confirmSelect(e)})}}select(e){Array.isArray(e)?this.selecteds=[...e]:this.selected=e,"dialog"!==this.pickerMode&&"calendar"===this.pickerType&&("single"===this.selectMode&&this.selected||"rangeFrom"===this.selectMode&&this.selecteds[0]||"rangeTo"===this.selectMode&&this.selecteds[1]||"range"===this.selectMode&&this.selecteds[0]&&this.selecteds[1])&&this.confirmSelect()}selectYear(e){this.yearSelected.emit(e)}selectMonth(e){this.monthSelected.emit(e)}close(){if(!this._opened)return;this.popupRef&&this.popupRef.hasAttached()&&this.popupRef.detach(),this.pickerContainerPortal&&this.pickerContainerPortal.isAttached&&this.pickerContainerPortal.detach(),this.hidePickerStreamSub?.unsubscribe(),this.hidePickerStreamSub=void 0,this.confirmSelectedStreamSub?.unsubscribe(),this.confirmSelectedStreamSub=void 0,this.pickerOpenedStreamSub?.unsubscribe(),this.pickerOpenedStreamSub=void 0,this.dialogRef&&(this.dialogRef.close(),this.dialogRef=void 0);const e=()=>{this._opened&&(this._opened=!1,this.afterPickerClosed.emit(),this.focusedElementBeforeOpen=void 0)};this.focusedElementBeforeOpen&&"function"==typeof this.focusedElementBeforeOpen.focus?(this.focusedElementBeforeOpen.focus(),setTimeout(e)):e()}confirmSelect(e){if(this.isInSingleMode){const t=this.selected||this.startAt||this.dateTimeAdapter.now();this.confirmSelectedChange.emit(t)}else this.isInRangeMode&&this.confirmSelectedChange.emit(this.selecteds);this.close()}openAsDialog(){this.dialogRef=this.dialogService.open(U,{autoFocus:!1,backdropClass:["cdk-overlay-dark-backdrop",...(0,m.Eq)(this.backdropClass)],paneClass:["nxt-dt-dialog",...(0,m.Eq)(this.panelClass)],viewContainerRef:this.viewContainerRef,scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy()}),this.pickerContainer=this.dialogRef.componentInstance,this.dialogRef.afterOpen().subscribe(()=>{this.afterPickerOpen.emit(),this._opened=!0}),this.dialogRef.afterClosed().subscribe(()=>this.close())}openAsPopup(){if(this.pickerContainerPortal||(this.pickerContainerPortal=new D.C5(U,this.viewContainerRef)),this.popupRef||this.createPopup(),!this.popupRef?.hasAttached()){const e=this.popupRef?.attach(this.pickerContainerPortal);this.pickerContainer=e?.instance,this.ngZone.onStable.asObservable().pipe((0,T.q)(1)).subscribe(()=>{this.popupRef?.updatePosition()}),this.pickerOpenedStreamSub=this.pickerContainer?.pickerOpenedStream.pipe((0,T.q)(1)).subscribe(()=>{this.afterPickerOpen.emit(),this._opened=!0})}}createPopup(){const e=new C.X_({positionStrategy:this.createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:["cdk-overlay-transparent-backdrop",...(0,m.Eq)(this.backdropClass)],scrollStrategy:this.scrollStrategy||this.defaultScrollStrategy(),panelClass:["nxt-dt-popup",...(0,m.Eq)(this.panelClass)]});this.popupRef=this.overlay.create(e),(0,ie.T)(this.popupRef.backdropClick(),this.popupRef.detachments(),this.popupRef.keydownEvents().pipe((0,w.h)(t=>!!(27===t.keyCode||this._dtInput&&t.altKey&&38===t.keyCode)))).subscribe(()=>this.close())}createPopupPositionStrategy(){if(this._dtInput)return this.overlay.position().flexibleConnectedTo(this._dtInput.elementRef).withTransformOriginOn(".nxt-dt-container").withFlexibleDimensions(!1).withPush(!1).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-176},{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:-352}])}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(C.aV),i.Y36(i.s_b),i.Y36(Oe),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(M),i.Y36(Fe),i.Y36(v),i.Y36(p.K0,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["nxt-date-time"]],inputs:{backdropClass:"backdropClass",panelClass:"panelClass",startAt:"startAt",pickerType:"pickerType",pickerMode:"pickerMode",disabled:"disabled",opened:"opened",scrollStrategy:"scrollStrategy"},outputs:{afterPickerClosed:"afterPickerClosed",afterPickerOpen:"afterPickerOpen",yearSelected:"yearSelected",monthSelected:"monthSelected"},features:[i.qOj],decls:2,vars:0,template:function(e,t){1&e&&(i.TgZ(0,"p"),i._uU(1,"date-time-picker works!"),i.qZA())},changeDetection:0}),s})(),ki=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({providers:[_i,Oe],imports:[p.ez,ke,C.U8,D.eL]}),s})(),vi=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({providers:[V,Ti],imports:[p.ez,C.U8,ki,ke]}),s})();const yi={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Ai={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Di=G(31,s=>String(s+1)),N=typeof Intl<"u",wi=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function G(s,r){const e=Array(s);for(let t=0;t<s;t++)e[t]=r(t);return e}let xi=(()=>{class s extends M{constructor(e,t){super(),super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDay(e){return e.getDay()}getDate(e){return e.getDate()}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}getTime(e){return e.getTime()}getNumDaysInMonth(e){const t=this.createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0);return this.getDate(t)}differenceInCalendarDays(e,t){if(this.isValid(e)&&this.isValid(t)){const n=this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e)),a=this.createDate(this.getYear(t),this.getMonth(t),this.getDate(t)),o=this.getTime(n)-n.getTimezoneOffset()*this.milliseondsInMinute,d=this.getTime(a)-a.getTimezoneOffset()*this.milliseondsInMinute;return Math.round((o-d)/this.millisecondsInDay)}}getYearName(e){if(N){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this.stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getMonthNames(e){if(N){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return G(12,n=>this.stripDirectionalityCharacters(this._format(t,new Date(2017,n,1))))}return yi[e]}getDayOfWeekNames(e){if(N){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return G(7,n=>this.stripDirectionalityCharacters(this._format(t,new Date(2017,0,n+1))))}return Ai[e]}getDateNames(){if(N){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return G(31,t=>this.stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return Di}toIso8601(e){return e.toISOString()}isEqual(e,t){return!(!this.isValid(e)||!this.isValid(t))&&e.getTime()===t.getTime()}isSameDay(e,t){if(this.isValid(e)&&this.isValid(t)){const n=this.clone(e),a=this.clone(t);return n.setHours(0,0,0,0),a.setHours(0,0,0,0),n.getTime()===a.getTime()}return!1}isValid(e){return e&&!isNaN(e.getTime())}invalid(){return new Date(NaN)}isDateInstance(e){return e instanceof Date}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){const n=this.clone(e);t=Number(t);const a=n.getMonth()+t,o=new Date(0);o.setFullYear(n.getFullYear(),a,1),o.setHours(0,0,0,0);const d=this.getNumDaysInMonth(o);return n.setMonth(a,Math.min(d,n.getDate())),n}addCalendarDays(e,t){const n=this.clone(e);return t=Number(t),n.setDate(n.getDate()+t),n}setHours(e,t){const n=this.clone(e);return n.setHours(t),n}setMinutes(e,t){const n=this.clone(e);return n.setMinutes(t),n}setSeconds(e,t){const n=this.clone(e);return n.setSeconds(t),n}createDate(e,t,n,a=0,o=0,d=0){if(t<0||t>11)throw Error(`Invalid month index "${t}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);if(a<0||a>23)throw Error(`Invalid hours "${a}". Hours has to be between 0 and 23.`);if(o<0||o>59)throw Error(`Invalid minutes "${o}". Minutes has to between 0 and 59.`);if(d<0||d>59)throw Error(`Invalid seconds "${d}". Seconds has to be between 0 and 59.`);const c=this.createDateWithOverflow(e,t,n,a,o,d);if(c.getMonth()!==t)throw Error(`Invalid date "${n}" for month with index "${t}".`);return c}clone(e){return this.createDate(this.getYear(e),this.getMonth(e),this.getDate(e),this.getHours(e),this.getMinutes(e),this.getSeconds(e))}now(){return new Date}format(e,t){if(!this.isValid(e))throw Error("JSNativeDate: Cannot format invalid date.");if(N){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t={...t,timeZone:"utc"};const n=new Intl.DateTimeFormat(this.locale,t);return this.stripDirectionalityCharacters(this._format(n,e))}return this.stripDirectionalityCharacters(e.toDateString())}parse(e,t){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):void 0}deserialize(e){if("string"==typeof e){if(!e)return;if(wi.test(e)){const t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}createDateWithOverflow(e,t,n,a=0,o=0,d=0){const c=new Date(e,t,n,a,o,d);return e>=0&&e<100&&c.setFullYear(this.getYear(c)-1900),c}stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(n)}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(_.t4),i.LFG(ye,8))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})();const Ii={parseInput:null,fullPickerInput:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},datePickerInput:{year:"numeric",month:"numeric",day:"numeric"},timePickerInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}};let Si=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({providers:[{provide:M,useClass:xi},{provide:v,useValue:Ii}],imports:[_.ud]}),s})();var Le=h(9839);const Ei=["date_range_component"];class E{constructor(){this.selectedMoments=[new Date("2019-03-11T08:00:00+11:00"),new Date("2019-03-11T15:00:00+11:00")],this.open_once=!1}ngAfterViewInit(){}}E.\u0275fac=function(r){return new(r||E)},E.\u0275cmp=i.Xpm({type:E,selectors:[["app-pick-datetime"]],viewQuery:function(r,e){if(1&r&&i.Gf(Ei,7),2&r){let t;i.iGM(t=i.CRH())&&(e.date_range_component=t.first)}},decls:5,vars:3,consts:[["for","daterange"],["selectMode","range","id","daterange","matInput","",2,"width","100%","color","cornflowerblue",3,"ngModel","nxtDateTimeTrigger","nxtDateTime","ngModelChange"],["date_range_component",""]],template:function(r,e){if(1&r&&(i.TgZ(0,"label",0),i._uU(1,"Datetime range (click, then press 'Set' to modify):"),i.qZA(),i.TgZ(2,"input",1),i.NdJ("ngModelChange",function(n){return e.selectedMoments=n}),i.qZA(),i._UZ(3,"nxt-date-time",null,2)),2&r){const t=i.MAs(4);i.xp6(2),i.Q6J("ngModel",e.selectedMoments)("nxtDateTimeTrigger",t)("nxtDateTime",t)}},dependencies:[k.Fj,k.JJ,k.On,di,ee,Ci],styles:["[_nghost-%COMP%]{padding:1rem}"]});const Oi=[{path:"",component:E}];class O{}O.\u0275fac=function(r){return new(r||O)},O.\u0275mod=i.oAB({type:O}),O.\u0275inj=i.cJS({imports:[Le.Bz.forChild(Oi),Le.Bz]});class F{}F.\u0275fac=function(r){return new(r||F)},F.\u0275mod=i.oAB({type:F,bootstrap:[E]}),F.\u0275inj=i.cJS({imports:[p.ez,k.u5,vi,Si,O]})}}]);